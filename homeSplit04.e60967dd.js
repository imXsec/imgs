(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["homeSplit04"],{"048a":function(t,e,a){"use strict";a.d(e,"f",(function(){return n})),a.d(e,"k",(function(){return s})),a.d(e,"j",(function(){return o})),a.d(e,"g",(function(){return i})),a.d(e,"i",(function(){return c})),a.d(e,"l",(function(){return l})),a.d(e,"h",(function(){return u})),a.d(e,"d",(function(){return d})),a.d(e,"c",(function(){return p})),a.d(e,"b",(function(){return f})),a.d(e,"a",(function(){return m})),a.d(e,"e",(function(){return h}));var r=a("a27e");function n(t,e,a,n,s,o,i,c){return Object(r["a"])({url:"host/list",params:{type:"list",groupid:t,page:e,limit:a,orderby:n,sort:s,search:o,dcim_area:i,domain_status:c}})}function s(t){return Object(r["a"])({url:"host/header",params:{host_id:t}})}function o(t){return Object(r["a"])({url:"/provision/chart/".concat(t.hostId),params:t})}function i(t,e,a,n,s,o){return Object(r["a"])({url:"user_logdcims",params:{hostid:t,page:e,limit:a,orderby:n,sorting:s,keywords:o}})}function c(t,e){return Object(r["a"])({url:"host/renewpage",params:{hostid:t,billingcycles:e}})}function l(t){return Object(r["a"])({url:"host/renew",method:"post",data:t})}function u(t,e,a,n,s,o){return Object(r["a"])({url:"host/hostrecharge",params:{hostid:t,page:e,limit:a,order:n,sort:s,keywords:o}})}function d(t){return Object(r["a"])({url:"provision/default",method:"post",data:t})}function p(t){return Object(r["a"])({url:"provision/button",method:"post",data:t})}function f(t){return Object(r["a"])({url:"/host/remark",method:"post",data:t})}function m(t){return Object(r["a"])({url:"/host/cancel",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/host/cancel",method:"delete",data:t})}},"0a065":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_log"},[a("div",{staticClass:"standaloneserver_log_search"},[a("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.search.input,callback:function(e){t.$set(t.search,"input",e)},expression:"search.input"}})],1),a("div",{staticClass:"standaloneserver_log_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}},on:{"sort-change":t.changeSort}},[a("el-table-column",{attrs:{prop:"create_time",label:t.$t("standaloneServer.operatingTime"),align:"center",width:"180",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",[t._v(t._s(t.$moment(1e3*r.create_time).format("YYYY-MM-DD HH:mm:ss")))])]}}])}),a("el-table-column",{attrs:{prop:"description",label:t.$t("standaloneServer.operatingDetail")},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("div",{domProps:{innerHTML:t._s(r.description)}})]}}])}),a("el-table-column",{attrs:{prop:"user",label:t.$t("standaloneServer.operator"),align:"center",width:"150",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"ipaddr",label:t.$t("standaloneServer.ipAddress"),align:"center",width:"150",sortable:"custom"}})],1)],1),a("div",{staticClass:"standaloneserver_log_pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},n=[],s=(a("a9e3"),a("ac1f"),a("841c"),a("96cf"),a("1da1")),o=a("4a8e"),i={data:function(){return{page:1,limit:20,total:0,orderby:"id",sort:"desc",search:{input:"",timer:null},tableData:[]}},props:{id:{type:Number,default:0}},methods:{getId:function(){},getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])(t.id,t.page,t.limit,t.orderby,t.sort,t.search.input);case 2:if(a=e.sent,r=a.data,200===r.status){e.next=6;break}return e.abrupt("return",!1);case 6:t.total=r.data.count,t.tableData=r.data.log_list;case 8:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.limit=t,this.getData()},handleCurrentChange:function(t){this.page=t,this.getData()},changeSort:function(t){"descending"===t.order?(this.orderby=t.prop,this.sort="desc"):(this.orderby=t.prop,this.sort="asc"),this.getData()}},created:function(){this.getId(),this.getData()},watch:{"search.input":{handler:function(){var t=this;this.search.timer&&clearTimeout(this.search.timer),this.search.timer=setTimeout((function(){t.getData()}),200)},deep:!0}}},c=i,l=(a("8dae"),a("2877")),u=Object(l["a"])(c,r,n,!1,null,"044f8824",null);e["default"]=u.exports},"0aa1":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_finance"},[a("div",{staticClass:"standaloneserver_finance_pricebox"},[a("div",{staticClass:"standaloneserver_finance_pricetitle"},[a("div",{staticClass:"standaloneserver_finance_pricetitlel"},[a("span",[t._v(t._s(t.$t("standaloneServer.firstOrderPrice"))),a("b",[t._v(t._s(t.currency.prefix+" "+t.hostData.firstpaymentamount))]),t._v(t._s(t.currency.suffix))])]),a("div",{staticClass:"standaloneserver_finance_pricetitler"},["hour"===t.hostData.billingcycle?a("div",{staticClass:"standaloneserver_finance_time"},[a("span",[t._v(t._s(t.$t("standaloneServer.orderTime"))+"：")]),a("span",[t._v(t._s(t.hostData.regdate?t.$moment(1e3*t.hostData.regdate).format("YYYY-MM-DD HH:mm"):"-"))])]):a("div",{staticClass:"standaloneserver_finance_time"},[a("span",[t._v(t._s(t.$t("standaloneServer.orderTime"))+"：")]),a("span",[t._v(t._s(t.hostData.regdate?t.$moment(1e3*t.hostData.regdate).format("YYYY-MM-DD"):"-"))])]),"hour"===t.hostData.billingcycle?a("div",{staticClass:"standaloneserver_finance_time"},[a("span",[t._v(t._s(t.$t("standaloneServer.nextduedate"))+"：")]),a("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?t.$moment(1e3*t.hostData.nextduedate).format("YYYY-MM-DD HH:mm"):t.$t("standaloneServer.notDue")))]),t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle&&t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"seconds")<0?a("span",[t._v("（"+t._s(t.$t("standaloneServer.overdue"))+"）")]):a("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?"（"+t.$t("standaloneServer.left")+" "+t.overdue+"）":""))])]):a("div",{staticClass:"standaloneserver_finance_time"},[a("span",[t._v(t._s(t.$t("standaloneServer.nextduedate"))+"：")]),a("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?t.$moment(1e3*t.hostData.nextduedate).format("YYYY-MM-DD"):t.$t("standaloneServer.notDue")))]),t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle&&t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"seconds")<0?a("span",[t._v("（"+t._s(t.$t("standaloneServer.overdue"))+"）")]):a("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?"（"+t.$t("standaloneServer.left")+" "+t.overdue+"）":""))])]),t.host_cancel.init||"Active"!==t.host_data.domainstatus&&"Suspended"!==t.host_data.domainstatus?t._e():a("div",{staticClass:"mr-20 ml-10"},[0===t.host_cancel.length?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.cancelDialog=!0}}},[t._v("停用 ")]):a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:t.deleteCancel}},[t._v(" "+t._s("Immediate"!==t.host_cancel.type?"到期时停用":"立即停用"))])],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"Unpaid"===t.hostData.status&&"free"!==t.hostData.billingcycle||"Paid"===t.hostData.status&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle&&("Active"===t.hostData.domainstatus||"Suspended"===t.hostData.domainstatus),expression:"(hostData.status === 'Unpaid' && hostData.billingcycle !== 'free')\n    || (hostData.status === 'Paid' && (hostData.billingcycle !== 'free' && hostData.billingcycle !== 'onetime') && (hostData.domainstatus === 'Active' || hostData.domainstatus === 'Suspended'))"}],staticClass:"standaloneserver_finance_priceform"},[a("el-form",{ref:"form",attrs:{model:t.form}},["Paid"===t.hostData.status?a("el-form-item",{attrs:{label:t.$t("standaloneServer.paymentCycle")}},[a("el-radio-group",{model:{value:t.form.billingcycles,callback:function(e){t.$set(t.form,"billingcycles",e)},expression:"form.billingcycles"}},t._l(t.cycle,(function(e,r){return a("el-radio",{key:r,attrs:{label:e.billingcycle,border:""}},[t._v(" "+t._s(e.billingcycle_zh))])})),1)],1):"Unpaid"===t.hostData.status?a("el-form-item",{attrs:{label:t.$t("standaloneServer.paymentCycle")}},[a("div",{staticClass:"grid"},[a("el-radio-group",{model:{value:t.form.billingcycles,callback:function(e){t.$set(t.form,"billingcycles",e)},expression:"form.billingcycles"}},[a("el-radio",{attrs:{label:t.hostData.billingcycle,border:""}},[t._v(t._s(t.hostData.billingcycle_zh))])],1)],1)]):t._e(),"Paid"===t.hostData.status?a("el-form-item",{attrs:{label:t.$t("standaloneServer.renewalPrice")}},[a("div",{staticClass:"renewal_price"},[a("span",[t._v(t._s(t.currency.prefix+" "+t.hostData.amount))]),t._v(" "+t._s(t.currency.suffix)+" / "+t._s(t.myCycle)+" "),Number(t.hostData.saleproducts)?a("span",{staticClass:"gray hiddenFunc"},[t._v(t._s("(客户折扣:"+t.currency.prefix+Number(t.hostData.saleproducts).toFixed(2)+t.currency.suffix+")"))]):t._e()])]):"Unpaid"===t.hostData.status?a("el-form-item",{attrs:{label:t.$t("standaloneServer.payPrice")}},[a("div",{staticClass:"renewal_price"},[a("span",[t._v(t._s(t.currency.prefix+" "+t.hostData.firstpaymentamount))]),t._v(" "+t._s(t.currency.suffix)+" / "+t._s(t.myCycle)+" "),Number(t.hostData.saleproducts)?a("span",{staticClass:"gray hiddenFunc"},[t._v(t._s("(客户折扣:"+t.currency.prefix+Number(t.hostData.saleproducts).toFixed(2)+t.currency.suffix+")"))]):t._e()])]):t._e()],1),"Paid"===t.hostData.status?a("el-button",{attrs:{type:"primary"},on:{click:t.renew}},[t._v(t._s(t.$t("standaloneServer.renewNow"))+" ")]):"Unpaid"===t.hostData.status?a("el-button",{attrs:{type:"primary"},on:{click:t.payNow}},[t._v(" "+t._s(t.$t("standaloneServer.payNow")))]):t._e()],1)]),a("div",{staticClass:"standaloneserver_finance_rechargebox"},[a("div",{staticClass:"standaloneserver_finance_rechargetitle"},[a("span",[t._v(t._s(t.$t("standaloneServer.transactionRecord")))]),a("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.search.input,callback:function(e){t.$set(t.search,"input",e)},expression:"search.input"}})],1),a("div",{staticClass:"standaloneserver_finance_rechargetable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}},on:{"sort-change":t.changeSort}},[a("el-table-column",{attrs:{prop:"pay_time",label:t.$t("standaloneServer.transactiondate"),sortable:"custom",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.pay_time?t.$moment(1e3*a.pay_time).format("YYYY-MM-DD"):"-")+" ")]}}])}),a("el-table-column",{attrs:{prop:"type",label:t.$t("standaloneServer.source"),sortable:"custom"}}),a("el-table-column",{attrs:{prop:"amount_in",label:t.$t("standaloneServer.price"),sortable:"custom",width:"130"}}),a("el-table-column",{attrs:{prop:"trans_id",label:t.$t("standaloneServer.serialNumber"),sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.trans_id?a.trans_id:"-")+" ")]}}])}),a("el-table-column",{attrs:{prop:"gateway",label:t.$t("standaloneServer.payMent"),sortable:"custom",width:"135"}})],1)],1),a("div",{staticClass:"standaloneserver_finance_pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","page-sizes":[10,15,20,25],"prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),a("payPop",{ref:"control",on:{"pay-success":t.paySuccess}}),a("el-dialog",{attrs:{visible:t.cancelDialog,title:"请选择您要停用并删除该产品的时间",width:"25%","before-close":t.beforeClose},on:{"update:visible":function(e){t.cancelDialog=e},open:t.cancelOpen}},[a("el-form",{ref:"cancelForm",attrs:{model:t.cancelFormData,rules:t.cancelRules,"label-width":"auto"}},[a("el-form-item",{attrs:{label:"取消时间",prop:"type"}},[a("el-select",{staticClass:"w-100",attrs:{clearable:""},model:{value:t.cancelFormData.type,callback:function(e){t.$set(t.cancelFormData,"type",e)},expression:"cancelFormData.type"}},[a("el-option",{attrs:{value:"Immediate",label:"立即"}}),"free"!==t.host_data.billingcycle&&"onetime"!==t.host_data.billingcycle?a("el-option",{attrs:{value:"Endofbilling",label:"到期时"}}):t._e()],1)],1),a("el-form-item",{attrs:{label:"取消原因",prop:"tempReason"}},[a("el-select",{staticClass:"w-100",attrs:{clearable:""},on:{change:function(e){t.cancelFormData.reason=""}},model:{value:t.cancelFormData.tempReason,callback:function(e){t.$set(t.cancelFormData,"tempReason",e)},expression:"cancelFormData.tempReason"}},[a("el-option",{attrs:{value:"产品稳定性不足",label:"产品稳定性不足"}}),a("el-option",{attrs:{value:"业务减少不需要",label:"业务减少不需要"}}),a("el-option",{attrs:{value:"other",label:"其他"}})],1)],1),"other"===t.cancelFormData.tempReason?a("el-form-item",{attrs:{label:"",prop:"reason"}},[a("el-input",{staticClass:"w-100",attrs:{type:"textarea",placeholder:"请输入原因"},model:{value:t.cancelFormData.reason,callback:function(e){t.$set(t.cancelFormData,"reason",e)},expression:"cancelFormData.reason"}})],1):t._e()],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.beforeClose}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.cancelSubmit}},[t._v("确定")])],1)],1)],1)},n=[],s=(a("4de4"),a("a9e3"),a("ac1f"),a("5319"),a("841c"),a("96cf"),a("1da1")),o=a("27fd"),i=a("048a"),c=a("92b1"),l=a("2ef0"),u={data:function(){return{overdue:0,hostData:{firstpaymentamount:"0.00",amount:"0.00"},host_data:{domainstatus_desc:""},currency:{prefix:"￥",suffix:"元"},cycle:[],myCycle:"",page:1,limit:20,total:0,orderby:"trans_id",sort:"desc",search:{input:"",timer:null},tableData:[],form:{hostid:0,billingcycles:""},host_cancel:{init:!0},cancelDialog:!1,cancelFormData:{id:this.$route.query.id,type:void 0,reason:"",tempReason:void 0},cancelRules:{type:[{required:!0,message:"请选择时间",trigger:"change"}],reason:[{required:!0,message:"请输入原因",trigger:"blur"}],tempReason:[{required:!0,message:"请选择原因",trigger:"change"}]}}},props:{pid:{type:Number,default:0}},components:{payPop:c["a"]},methods:{getId:function(){},getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["x"])(t.pid);case 2:if(a=e.sent,r=a.data,200===r.status){e.next=7;break}return t.$message.error(r.msg),e.abrupt("return",!1);case 7:t.host_data=r.data.host_data,t.host_cancel=r.data.host_cancel;case 9:case"end":return e.stop()}}),e)})))()},getPriceData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["u"])(t.pid);case 2:if(a=e.sent,r=a.data,200===r.status){e.next=7;break}return t.$message.error(r.msg),e.abrupt("return",!1);case 7:if(t.hostData=r.data.host,t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?(t.overdue=t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"days")+t.$t("standaloneServer.day"),0===parseInt(t.overdue)&&(t.overdue=t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"hours")+t.$t("standaloneServer.hour"))):t.overdue="",t.currency=r.data.currency,t.cycle=r.data.cycle,"free"!==r.data.host.billingcycle){e.next=13;break}return e.abrupt("return",!1);case 13:if("ontrial"!==r.data.host.billingcycle){e.next=16;break}return t.form.billingcycles=r.data.cycle[0].billingcycle,e.abrupt("return",!1);case 16:t.form.billingcycles=r.data.host.billingcycle;case 17:case"end":return e.stop()}}),e)})))()},getRechargeList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["t"])(t.pid,t.page,t.limit,t.orderby,t.sort,t.search.input);case 2:if(a=e.sent,r=a.data,200===r.status){e.next=7;break}return t.$message.error(r.msg),e.abrupt("return",!1);case 7:t.tableData=r.data.invoices,t.total=r.data.count;case 9:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.limit=t,this.getRechargeList()},handleCurrentChange:function(t){this.page=t,this.getRechargeList()},changeSort:function(t){"descending"===t.order?(this.orderby=t.prop,this.sort="desc"):(this.orderby=t.prop,this.sort="asc"),this.getRechargeList()},getPrice:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["u"])(e.pid,t);case 2:if(r=a.sent,n=r.data,200===n.status){a.next=7;break}return e.$message.error(n.msg),a.abrupt("return",!1);case 7:e.hostData=n.data.host,e.hostData.amount=n.data.host.amount;case 9:case"end":return a.stop()}}),a)})))()},renew:l.debounce(Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.form.hostid=this.pid,t.next=3,Object(o["J"])(this.form);case 3:if(e=t.sent,a=e.data,1001!==a.status){t.next=9;break}return this.$message.success(a.msg),this.getPriceData(),t.abrupt("return");case 9:if(200===a.status){t.next=12;break}return this.$message({type:"error",message:a.msg,center:!0}),t.abrupt("return",!1);case 12:this.$refs.control.startPay({id:a.data.invoiceid,name:this.$t("standaloneServer.renew")});case 13:case"end":return t.stop()}}),t,this)}))),200),payNow:l.debounce((function(){this.$refs.control.startPay({id:this.hostData.id,name:this.$t("standaloneServer.pay")})}),200),paySuccess:function(t){t&&this.getPriceData()},cancelSubmit:function(){var t=this,e="";e="Immediate"===this.cancelFormData.type?"这将会立刻删除您的产品，操作不可逆，所有数据丢失":"产品将会在到期当天被立刻删除，操作不可逆，所有数据丢失","other"!==this.cancelFormData.tempReason&&(this.cancelFormData.reason=this.cancelFormData.tempReason),this.$refs.cancelForm.validate((function(a){if(!a)return!1;t.cancelDialog=!1,t.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(t.cancelFormData);case 2:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):(t.getData(),t.$message.success(r.msg),t.$store.dispatch("addHostDataUpdate",t.pid));case 5:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}))},cancelOpen:function(){this.cancelFormData.type=void 0,this.cancelFormData.tempReason=void 0,this.cancelFormData.reason=""},beforeClose:function(){var t=this;this.$refs.cancelForm.resetFields(),setTimeout((function(){t.$refs.cancelForm.clearValidate(),t.cancelDialog=!1}),100)},deleteCancel:function(){var t=this,e="";e="Immediate"!==this.host_cancel.type?"您已选择到期时自动删除产品，当前可关闭停用设置，是否关闭？":"您已选择立刻删除产品，当前可关闭停用设置，是否关闭？",this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["e"])({id:t.pid});case 2:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):(t.getData(),t.$message.success(r.msg));case 5:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.getId(),this.getData(),this.getPriceData(),this.getRechargeList()},watch:{"form.billingcycles":{handler:function(t){var e=this.cycle.filter((function(e){return e.billingcycle===t}));this.myCycle=e[0].billingcycle_zh.replace("付",""),this.getPrice(t)},deep:!0},"search.input":{handler:function(){var t=this;this.search.timer&&clearTimeout(this.search.timer),this.search.timer=setTimeout((function(){t.getRechargeList()}),200)},deep:!0}}},d=u,p=(a("ab37"),a("2877")),f=Object(p["a"])(d,r,n,!1,null,"515eeadf",null);e["default"]=f.exports},"159b":function(t,e,a){var r=a("da84"),n=a("fdbc"),s=a("17c2"),o=a("9112");for(var i in n){var c=r[i],l=c&&c.prototype;if(l&&l.forEach!==s)try{o(l,"forEach",s)}catch(u){l.forEach=s}}},"17c2":function(t,e,a){"use strict";var r=a("b727").forEach,n=a("a640"),s=a("ae40"),o=n("forEach"),i=s("forEach");t.exports=o&&i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,a){var r=a("d039"),n=a("b622"),s=a("2d00"),o=n("species");t.exports=function(t){return s>=51||!r((function(){var e=[],a=e.constructor={};return a[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1e4f":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"box"},[t._l(t.module_button.control,(function(e,a){return r("div",{key:a,staticClass:"otherserver_control_item"},[r("div",{staticClass:"otherserver_title"},[t._v(t._s(e.name))]),"default"===e.type?r("div",{staticClass:"otherserver_msg"},["on"===e.func?r("span",[t._v("系统将会立即开机, 大约需要5分钟完成")]):t._e(),"off"===e.func?r("span",[t._v("系统将会立即关机, 大约需要5分钟完成")]):t._e(),"reboot"===e.func?r("span",[t._v("系统将会立即重启, 大约需要5分钟完成")]):t._e(),"hard_off"===e.func?r("span",[t._v("系统将会立即硬关机, 大约需要5分钟完成")]):t._e(),"hard_reboot"===e.func?r("span",[t._v("系统将会立即硬重启, 大约需要5分钟完成")]):t._e(),"bmc"===e.func?r("span",[t._v("系统将会立即重置BMC, 大约需要5分钟完成")]):t._e(),"reinstall"===e.func?r("span",[t._v("系统将会立即重装, 大约需要5分钟完成")]):t._e(),"crack_pass"===e.func?r("span",[t._v("系统将会立即破解密码, 大约需要5分钟完成")]):t._e(),"rescue"===e.func?r("span",[t._v("系统将会立即进入救援系统, 大约需要5分钟完成")]):t._e()]):t._e(),"custom"===e.type?r("div",{staticClass:"otherserver_msg"},[t._v(t._s(e.desc))]):t._e(),r("div",{staticClass:"otherserver_btn"},[r("el-button",{attrs:{plain:""},on:{click:function(a){return t.controlFunc(e)}}},[t._v(t._s(e.name))])],1)])})),r("el-dialog",{attrs:{title:t.$t("standaloneServer.controlReinstallSystem"),visible:t.reinstallDialog,width:"30%"},on:{"update:visible":function(e){t.reinstallDialog=e},closed:t.reinstallClosed}},[r("el-row",{attrs:{gutter:15}},[r("el-form",{ref:"reinstallForm",attrs:{model:t.reinstallFormData,rules:t.reinstallFormRules,"label-width":"80px"}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:t.$t("standaloneServer.os"),prop:"osVal"}},[r("el-row",[t.cloudOsGroupOptions&&t.cloudOsGroupOptions.length>0?r("el-col",{staticClass:"mb-10",staticStyle:{"padding-right":"10px"},attrs:{xs:24,lg:12}},[r("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:t.osGroupChange},model:{value:t.reinstallFormData.groupVal,callback:function(e){t.$set(t.reinstallFormData,"groupVal",e)},expression:"reinstallFormData.groupVal"}},[r("template",{slot:"prefix"},[r("img",{staticStyle:{height:"20px","margin-right":"10px","margin-top":"10px"},attrs:{src:"/upload/common/system/"+t.osSvgSelected+".svg",alt:""}})]),t._l(t.cloudOsGroupOptions,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[r("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:"/upload/common/system/"+e.osSvg+".svg",alt:""}}),t._v(t._s(e.name)+" ")])}))],2)],1):t._e(),r("el-col",{attrs:{xs:24,lg:12}},[r("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},model:{value:t.reinstallFormData.osVal,callback:function(e){t.$set(t.reinstallFormData,"osVal",e)},expression:"reinstallFormData.osVal"}},t._l(t.filterOsOptions,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1)],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.reinstallCancle}},[t._v(t._s(t.$t("btnCancle")))]),r("el-button",{attrs:{type:"primary"},on:{click:t.reinstall}},[t._v(t._s(t.$t("btnConfirmation")))])],1)],1),r("el-dialog",{attrs:{title:t.$t("cloudServer.crackPwd"),visible:t.crackDialog,width:"600px"},on:{"update:visible":function(e){t.crackDialog=e},close:t.creakonClose}},[r("el-form",{ref:"crackPassword",attrs:{model:t.crackFrom,"label-width":"80px"}},[r("el-form-item",{staticClass:"creakInput",staticStyle:{"margin-bottom":"10px"},attrs:{label:t.$t("cloudServer.pwd"),prop:"password",rules:[{required:!0,message:this.$t("cloudServer.pwdEmpty")}]}},[r("el-input",{model:{value:t.crackFrom.password,callback:function(e){t.$set(t.crackFrom,"password",e)},expression:"crackFrom.password"}}),r("img",{staticClass:"creakInputRandom",staticStyle:{width:"18px",cursor:"pointer","margin-left":"10px"},attrs:{src:a("8728"),alt:""},on:{click:function(e){return t.creatCode(12)}}}),r("i",{ref:t.crackFrom.password,staticClass:"el-icon-copy-document creakInputCopy",staticStyle:{cursor:"pointer"},attrs:{"data-clipboard-text":t.crackFrom.password},on:{click:function(e){return t.clickCopy(t.crackFrom.password)},mouseenter:function(e){return t.clickCopy(t.crackFrom.password)}}})],1),t.errorMsg?r("div",{staticClass:"el-form-item__content"},[r("div",{staticClass:"el-form-item__error",staticStyle:{left:"80px"}},[t._v(t._s(t.errorMsg))])]):t._e()],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.saveCrack}},[t._v(t._s(t.$t("cloudServer.determine")))])],1)],1)],2)},n=[],s=(a("4de4"),a("4160"),a("c975"),a("b0c0"),a("a9e3"),a("4d63"),a("ac1f"),a("25f0"),a("159b"),a("96cf"),a("1da1")),o=a("b311"),i=a.n(o),c=a("4a8e"),l=a("048a"),u=a("2ef0"),d={data:function(){return{crackRePwd:"",module_button:{console:[],control:[]},reinstallDialog:!1,reinstallFormData:{groupVal:"",osVal:""},reinstallFormRules:{},cloudOsGroupOptions:[],cloudOsOptions:[],filterOsOptions:[],osSvgSelected:void 0,crackDialog:!1,crackFrom:{password:""},errorMsg:""}},props:{id:{type:Number,default:0}},methods:{clickCopy:function(t){var e=this,a=0,r=new i.a(this.$refs[t]);r.on("success",(function(t){e.$message.success("复制成功"),a++,a>1&&r.destroy()})),r.on("error",(function(t){e.$message.error("复制失败")}))},creatCode:function(t){this.crackRePwd="";for(var e=parseInt(t),a=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r=0;r<e;r++){var n=Math.floor(52*Math.random());this.crackRePwd+=a[n]}var s=/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?\d).*$/,o=new RegExp(s);o.test(this.crackRePwd)?this.crackFrom.password=this.crackRePwd:this.creatCode(12)},getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["e"])(t.id);case 2:if(a=e.sent,r=a.data,200===r.status){e.next=6;break}return e.abrupt("return",!1);case 6:t.module_button=r.data.module_button,t.cloudOsGroupOptions=r.data.cloud_os_group,t.reinstallFormData.groupVal=0!==t.cloudOsGroupOptions.length?t.cloudOsGroupOptions[0].id:"",t.cloudOsOptions=r.data.cloud_os,t.cloudOsGroupOptions&&t.cloudOsGroupOptions.length>0?(t.filterOsOptions=t.cloudOsOptions.filter((function(e){return e.group===t.reinstallFormData.groupVal})),t.reinstallFormData.osVal=0!==t.filterOsOptions.length?t.filterOsOptions[0].id:"",t.cloudOsGroupOptions.forEach((function(e){t.showOsSvg(e)})),t.osSvgSelected=t.cloudOsGroupOptions[0].osSvg):(t.filterOsOptions=t.cloudOsOptions,t.reinstallFormData.osVal=0!==t.cloudOsOptions.length?t.cloudOsOptions[0].id:"");case 11:case"end":return e.stop()}}),e)})))()},showOsSvg:function(t){-1!==t.name.toLowerCase().indexOf("windows")?t.osSvg=1:-1!==t.name.toLowerCase().indexOf("centos")?t.osSvg=2:-1!==t.name.toLowerCase().indexOf("ubuntu")?t.osSvg=3:-1!==t.name.toLowerCase().indexOf("debian")?t.osSvg=4:-1!==t.name.toLowerCase().indexOf("esxi")?t.osSvg=5:-1!==t.name.toLowerCase().indexOf("xenserver")?t.osSvg=6:-1!==t.name.toLowerCase().indexOf("freebsd")?t.osSvg=7:-1!==t.name.toLowerCase().indexOf("fedora")?t.osSvg=8:t.osSvg=9},controlFunc:function(t){var e=this;"reinstall"===t.func?this.reinstallDialog=!0:"crack_pass"===t.func?(this.creatCode(),this.crackDialog=!0):this.$swal.fire({title:t.name,icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(r){var n,s,o,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.value){a.next=16;break}if(e.$swal.fire("","Loading......","success"),n={id:e.id,func:t.func},"default"!==t.type){a.next=9;break}return a.next=6,Object(l["d"])(n);case 6:s=a.sent,o=s.data,e.totalFunc(o);case 9:if("custom"!==t.type){a.next=16;break}return a.next=12,Object(l["c"])(n);case 12:i=a.sent,c=i.data,e.totalFunc(c),c.url&&window.open(c.url);case 16:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},totalFunc:function(t){var e=this;setTimeout((function(){200===t.status?e.$notify({title:e.$t("standaloneServer.controlSuccess"),message:t.msg,type:"success",offset:80}):e.$notify({title:e.$t("standaloneServer.controlError"),message:t.msg,type:"error",offset:80})}),2e3)},osGroupChange:function(t){var e=this;this.reinstallFormData.groupVal=t,this.reinstallFormData.osVal="",this.filterOsOptions=[],this.filterOsOptions=this.cloudOsOptions.filter((function(e){return e.group===t})),this.reinstallFormData.osVal=0!==this.filterOsOptions.length?this.filterOsOptions[0].id:"",(this.cloudOsGroupOptions||[]).forEach((function(a){a.id===t&&(e.osSvgSelected=a.osSvg)}))},reinstallCancle:function(){var t=this;this.reinstallDialog=!1,this.cloudOsGroupOptions&&this.cloudOsGroupOptions.length>0?(this.filterOsOptions=this.cloudOsOptions.filter((function(e){return e.group===t.reinstallFormData.groupVal})),this.reinstallFormData.osVal=0!==this.filterOsOptions.length?this.filterOsOptions[0].id:""):(this.filterOsOptions=this.cloudOsOptions,this.reinstallFormData.osVal=0!==this.cloudOsOptions.length?this.cloudOsOptions[0].id:"")},reinstallClosed:function(){var t=this;this.cloudOsGroupOptions&&this.cloudOsGroupOptions.length>0?(this.filterOsOptions=this.cloudOsOptions.filter((function(e){return e.group===t.reinstallFormData.groupVal})),this.reinstallFormData.osVal=0!==this.filterOsOptions.length?this.filterOsOptions[0].id:""):(this.filterOsOptions=this.cloudOsOptions,this.reinstallFormData.osVal=0!==this.cloudOsOptions.length?this.cloudOsOptions[0].id:"")},reinstall:u.debounce(Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.reinstallDialog=!1,e={id:this.id,func:"reinstall",os:this.reinstallFormData.osVal},t.next=4,Object(l["d"])(e);case 4:a=t.sent,r=a.data,this.totalFunc(r);case 7:case"end":return t.stop()}}),t,this)}))),200),creakonClose:function(){this.$refs.crackPassword.resetFields(),this.crackFrom.password=""},saveCrack:u.debounce(Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$refs.crackPassword.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=4;break}return t.abrupt("return",!1);case 4:return r={id:e.id,func:"crack_pass",password:e.crackFrom.password},t.next=7,Object(l["d"])(r);case 7:n=t.sent,s=n.data,200!==s.status?e.errorMsg=s.msg:(e.crackDialog=!1,e.totalFunc(s));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)}))),200)},created:function(){this.getData()},mounted:function(){}},p=d,f=(a("e8c7"),a("2877")),m=Object(f["a"])(p,r,n,!1,null,"2954cc92",null);e["default"]=m.exports},2532:function(t,e,a){"use strict";var r=a("23e7"),n=a("5a34"),s=a("1d80"),o=a("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(s(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,a){"use strict";var r=a("6eeb"),n=a("825a"),s=a("d039"),o=a("ad6d"),i="toString",c=RegExp.prototype,l=c[i],u=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=i;(u||d)&&r(RegExp.prototype,i,(function(){var t=n(this),e=String(t.source),a=t.flags,r=String(void 0===a&&t instanceof RegExp&&!("flags"in c)?o.call(t):a);return"/"+e+"/"+r}),{unsafe:!0})},"27fd":function(t,e,a){"use strict";a.d(e,"p",(function(){return n})),a.d(e,"k",(function(){return s})),a.d(e,"x",(function(){return o})),a.d(e,"w",(function(){return i})),a.d(e,"C",(function(){return c})),a.d(e,"i",(function(){return l})),a.d(e,"F",(function(){return u})),a.d(e,"c",(function(){return d})),a.d(e,"A",(function(){return p})),a.d(e,"z",(function(){return f})),a.d(e,"B",(function(){return m})),a.d(e,"f",(function(){return h})),a.d(e,"L",(function(){return g})),a.d(e,"E",(function(){return _})),a.d(e,"s",(function(){return b})),a.d(e,"e",(function(){return v})),a.d(e,"r",(function(){return y})),a.d(e,"y",(function(){return x})),a.d(e,"j",(function(){return C})),a.d(e,"K",(function(){return D})),a.d(e,"u",(function(){return O})),a.d(e,"J",(function(){return w})),a.d(e,"t",(function(){return k})),a.d(e,"q",(function(){return S})),a.d(e,"v",(function(){return $})),a.d(e,"o",(function(){return j})),a.d(e,"G",(function(){return P})),a.d(e,"n",(function(){return R})),a.d(e,"d",(function(){return F})),a.d(e,"m",(function(){return E})),a.d(e,"M",(function(){return L})),a.d(e,"O",(function(){return T})),a.d(e,"N",(function(){return N})),a.d(e,"a",(function(){return I})),a.d(e,"g",(function(){return q})),a.d(e,"P",(function(){return M})),a.d(e,"R",(function(){return V})),a.d(e,"Q",(function(){return z})),a.d(e,"b",(function(){return G})),a.d(e,"l",(function(){return A})),a.d(e,"h",(function(){return Y})),a.d(e,"D",(function(){return H})),a.d(e,"I",(function(){return B})),a.d(e,"H",(function(){return U}));var r=a("a27e");function n(t,e,a,n,s,o,i,c){return Object(r["a"])({url:"host/list",params:{type:"list",groupid:t,page:e,limit:a,orderby:n,sort:s,search:o,dcim_area:i,domain_status:c}})}function s(t){return Object(r["a"])({url:"/host/remark",method:"post",data:t})}function o(t){return Object(r["a"])({url:"host/header",params:{host_id:t}})}function i(t){return Object(r["a"])({url:"host/header",params:{host_id:t}})}function c(t){return Object(r["a"])({url:"/dcim/on",method:"post",timeout:4e4,data:{id:t}})}function l(t){return Object(r["a"])({url:"/dcim/off",method:"post",timeout:4e4,data:{id:t}})}function u(t){return Object(r["a"])({url:"/dcim/reboot",method:"post",timeout:4e4,data:{id:t}})}function d(t){return Object(r["a"])({url:"/dcim/bmc",method:"post",timeout:4e4,data:{id:t}})}function p(t){return Object(r["a"])({url:"/dcim/kvm",method:"post",timeout:4e4,data:{id:t}})}function f(t){return Object(r["a"])({url:"/dcim/ikvm",method:"post",timeout:4e4,data:{id:t}})}function m(t){return Object(r["a"])({url:"/dcim/novnc",method:"post",timeout:4e4,data:t})}function h(t){return Object(r["a"])({url:"/dcim/check_reinstall",method:"post",timeout:4e4,data:{id:t}})}function g(t){return Object(r["a"])({url:"/dcim/reinstall",method:"post",timeout:4e4,data:t})}function _(t){return Object(r["a"])({url:"/dcim/buy_reinstall_times",method:"post",timeout:4e4,data:{id:t}})}function b(t){return Object(r["a"])({url:"/dcim/resintall_status?id=".concat(t),method:"get",timeout:4e4})}function v(t){return Object(r["a"])({url:"/dcim/cancel_task",method:"post",timeout:4e4,data:{id:t}})}function y(t){return Object(r["a"])({url:"/dcim/check_all_status",method:"post",timeout:4e4,data:{id:t}})}function x(t){return Object(r["a"])({url:"/dcim/hide_result",method:"post",timeout:4e4,data:{id:t}})}function C(t){return Object(r["a"])({url:"/dcim/crack_pass",method:"post",timeout:4e4,data:t})}function D(t){return Object(r["a"])({url:"/dcim/rescue",method:"post",timeout:4e4,data:t})}function O(t,e){return Object(r["a"])({url:"host/renewpage",params:{hostid:t,billingcycles:e}})}function w(t){return Object(r["a"])({url:"host/renew",method:"post",data:t})}function k(t,e,a,n,s,o){return Object(r["a"])({url:"host/hostrecharge",params:{hostid:t,page:e,limit:a,order:n,sort:s,keywords:o}})}function S(t,e,a,n,s,o){return Object(r["a"])({url:"user_logdcims",params:{hostid:t,page:e,limit:a,orderby:n,sorting:s,keywords:o}})}function $(t,e){return Object(r["a"])({url:"/dcim/traffic_usage",params:{id:t,start:e}})}function j(t,e){return Object(r["a"])({url:"/host/trafficusage",params:{id:t,start:e}})}function P(t){return Object(r["a"])({url:"/dcim/refresh_all_power_status",method:"post",timeout:4e4,data:{id:t}})}function R(t,e,a,n){return Object(r["a"])({url:"/dcim/traffic",method:"post",data:{id:t,switch_id:e,port_name:a,start_time:n}})}function F(t,e){return Object(r["a"])({url:"/dcim/buy_flow_packet",method:"post",data:{id:t,fid:e}})}function E(t){return Object(r["a"])({url:"/dcim/detail",params:{id:t}})}function L(t){return Object(r["a"])({url:"/upgrade/index/"+t.hid,params:t})}function T(t){return Object(r["a"])({url:"/upgrade/upgrade_config_post",method:"post",data:t})}function N(t){return Object(r["a"])({url:"/upgrade/upgrade_config_page",params:t})}function I(t){return Object(r["a"])({url:"/upgrade/add_promo_code",method:"post",data:t})}function q(t){return Object(r["a"])({url:"/upgrade/checkout_config_upgrade",method:"post",data:t})}function M(t){return Object(r["a"])({url:"/upgrade/upgrade_product/"+t.hid,params:t})}function V(t){return Object(r["a"])({url:"/upgrade/upgrade_product_post",method:"post",data:t})}function z(t){return Object(r["a"])({url:"/upgrade/upgrade_product_page",params:t})}function G(t){return Object(r["a"])({url:"/upgrade/add_promo_code_product",method:"post",data:t})}function A(t){return Object(r["a"])({url:"host/batchrenewpage",method:"post",data:t})}function Y(t){return Object(r["a"])({url:"/upgrade/checkout_upgrade_product",method:"post",data:t})}function H(t){return Object(r["a"])({url:"host/batchrenew",method:"post",data:t})}function B(t){return Object(r["a"])({url:"/upgrade/remove_promo_code",method:"post",data:t})}function U(t){return Object(r["a"])({url:"/upgrade/remove_promo_code_product",method:"post",data:t})}},"2cf5":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[t.configs.length?t._e():a("div",{staticClass:"tac"},[t._v(t._s(t.$t("standaloneServer.noUpDownProduct")))]),t._l(t.configs,(function(e,r){return a("div",{key:"config"+r,staticClass:"upgrade_configitem_box mb-20"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",[t._v(" "+t._s(e.option_name)+" : "),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("span",[t._v(t._s(e.qty_zh)+" "),4===e.option_type||15===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("核心")]):t._e(),9===e.option_type||17===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e()]):a("span",[t._v(t._s(e.suboption_name))]),e.option_name?a("span",{staticClass:"fr"},[t._v(">>>")]):t._e()])]),a("el-col",{attrs:{span:16}},[1===e.option_type?a("div",{staticClass:"pl-20"},[a("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},t._l(e.sub,(function(t){return a("el-option",{key:t.id,attrs:{label:t.option_name,value:t.id}})})),1)],1):t._e(),2===e.option_type?a("div",{staticClass:"pl-20"},t._l(e.sub,(function(r,n){return a("el-radio",{key:"Radio"+n,attrs:{label:r.id},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},[t._v(t._s(r.option_name))])})),1):t._e(),3===e.option_type?a("div",{staticClass:"pl-20"},t._l(e.sub,(function(r,n){return a("el-checkbox",{key:"yes/no"+n,attrs:{"true-label":r.id,"false-label":void 0},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},[t._v(t._s(r.option_name)+" ")])})),1):t._e(),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("div",{staticClass:"quantity_box"},[a("el-slider",{staticClass:"fl quantity_box_slider",attrs:{min:e.qty_minimum,max:e.qty_maximum},on:{change:function(e){t.nextDisable=!1}},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"configItem.qty"}}),a("div",{staticClass:"fr quantity_box_input"},[a("el-input-number",{staticClass:"quantity_input",attrs:{controls:!1,precision:0,min:e.qty_minimum,max:e.qty_maximum},on:{change:function(e){t.nextDisable=!1}},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"configItem.qty"}}),4===e.option_type||15===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("核心")]):t._e(),9===e.option_type||17===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e()],1)],1):t._e(),5===e.option_type?a("div",{staticClass:"pl-20"},[a("el-select",{staticStyle:{"margin-right":"10px","margin-bottom":"10px"},attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(a){return t.osSelectChange(e.osName)}},model:{value:e.osName,callback:function(a){t.$set(e,"osName",a)},expression:"configItem.osName"}},t._l(e.sub,(function(t,e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),a("el-select",{staticStyle:{"margin-bottom":"10px",width:"300px"},attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},t._l(e.osVersionOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.version,value:t.id}})})),1)],1):t._e(),6===e.option_type||8===e.option_type||10===e.option_type||13===e.option_type?a("div",{staticClass:"pl-20",staticStyle:{"padding-top":"5px"},attrs:{span:24}},t._l(e.sub,(function(r,n){return a("div",{key:n,staticClass:"select_block_item",class:{block_item_active:r.id===e.subid},on:{click:function(a){return t.selectBlockChange(e,r)}}},[t._v(" "+t._s(r.option_name)+" ")])})),0):t._e(),12===e.option_type?a("div",{staticClass:"pl-20",attrs:{span:24}},[a("div",{staticClass:"country_box"},t._l(e.sub,(function(r,n){return a("div",{key:n,staticClass:"country_item fl",class:{country_item_active:r.active,country_item_noarea:r.noarea},on:{click:function(a){return t.cityChange(e,r,t.configs)}}},[a("div",{staticClass:"country_item_innerbox"},[a("img",{staticClass:"country_item_flag",attrs:{src:"/upload/common/country/"+r.country_code+".png",alt:""}}),a("div",{staticClass:"country_item_name"},[t._v(t._s(r.city))])]),r.noarea?t._e():a("div",[a("el-select",{attrs:{size:"mini",disabled:!r.active||1===r.area.length&&""===r.area[0].area},model:{value:r.areaId,callback:function(e){t.$set(r,"areaId",e)},expression:"cityItem.areaId"}},t._l(r.area,(function(t,e){return a("el-option",{key:e,attrs:{label:t.area_zh,value:t.id}})})),1)],1)])})),0)]):t._e()])],1)],1)})),t.configs.length?a("div",{staticClass:"tar"},[a("el-button",{attrs:{type:"primary",disabled:t.nextDisable},on:{click:t.nextHandleClick}},[t._v(t._s(t.$t("standaloneServer.next"))+" ")])],1):t._e()],2)},n=[],s=(a("4160"),a("caad"),a("d81d"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("5319"),a("4c53"),a("159b"),a("96cf"),a("1da1")),o=a("27fd"),i={data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,configs:[1],upgradeSubmitData:{hid:this.$route.query.id,currencyid:void 0,promo_code:void 0,configoption:[]},nextDisable:!0}},methods:{getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["M"])({hid:t.id,currencyid:void 0});case 2:a=e.sent,r=a.data,200!==r.status||((r.data.host||[]).forEach((function(e){if(5===e.option_type)for(var a in e.sub)e.sub[a].osName=a;else 12===e.option_type?(e.sub=t.objToArr(e.sub,"dataCenter"),(e.sub||[]).forEach((function(t){var a=t.area.map((function(t){return t.id}));a.includes(e.subid)?(t.active=!0,t.areaId=e.subid):t.active=!1,t.noarea=!0,(t.area||[]).forEach((function(e){""===e.area?e.area_zh="无配置区域":t.noarea=!1}))}))):[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)&&(e.qty_zh=e.qty)})),t.configs=r.data.host,t.osSelectChange(void 0,!0));case 5:case"end":return e.stop()}}),e)})))()},objToArr:function(t,e){var a=[];for(var r in t)"dataCenter"===e?(t[r].id=this.guid(),t[r].active=!1,t[r].city=r,t[r].areaId=void 0):t[r].osName=r,a.push(t[r]);return a},guid:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"===t?e:3&e|8;return a.toString(16)}))},osSelectChange:function(t,e){var a=this;(this.configs||[]).forEach((function(r){if(5!==r.option_type)return!1;var n=function(n){t===n&&(r.subid=r.sub[n].child[0].id,r.osVersionOptions=r.sub[n].child),e?(r.sub[n].child||[]).forEach((function(t){r.subid===t.id&&(r.osName=n,r.osVersionOptions=r.sub[n].child)})):a.nextDisable=!1};for(var s in r.sub)n(s)}))},selectBlockChange:function(t,e){t.subid=e.id,this.$forceUpdate(),this.nextDisable=!1},cityChange:function(t,e,a){var r=this;this.nextDisable=!1,(a||[]).forEach((function(a){12===a.option_type&&t.oid===a.oid&&(a.sub||[]).forEach((function(t){e.id!==t.id?(t.areaId=void 0,t.active=!1):(t.areaId=t.area.length?t.area[0].id:void 0,r.areaChange(a,t),t.active=!0),r.$forceUpdate()}))}))},areaChange:function(t,e){t.subid=e.areaId},nextHandleClick:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeSubmitData.configoption=[],(t.configs||[]).forEach((function(e){[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?t.upgradeSubmitData.configoption[e.oid]=e.qty:t.upgradeSubmitData.configoption[e.oid]=e.subid})),e.next=4,Object(o["O"])(t.$qs.stringify(t.upgradeSubmitData));case 4:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):t.$emit("nextClick");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.getData()}},c=i,l=(a("6fde"),a("2877")),u=Object(l["a"])(c,r,n,!1,null,"8ad93766",null);e["default"]=u.exports},"3b93":function(t,e,a){},"3df3":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_control_box"},[1===t.allowProduct&&0===t.upgradeType?a("div",{staticClass:"standaloneserver_control_item"},[a("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.upDown")))]),a("div",{staticClass:"standaloneserver_control_item_msg"},[a("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.upDownMsg")))])]),a("div",{staticClass:"standaloneserver_control_item_btn"},[a("el-button",{attrs:{plain:""},on:{click:t.upgradeProductHandleClick}},[t._v(t._s(t.$t("standaloneServer.upDown")))])],1)]):t._e(),1===t.allowConfig&&0===t.upgradeType?a("div",{staticClass:"standaloneserver_control_item"},[a("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.upDownOptions")))]),a("div",{staticClass:"standaloneserver_control_item_msg"},[a("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.upDownOptionsMsg")))])]),a("div",{staticClass:"standaloneserver_control_item_btn"},[a("el-button",{attrs:{plain:""},on:{click:t.upgradeConfigHandleClick}},[t._v(t._s(t.$t("standaloneServer.upDownOptions")))])],1)]):t._e(),1===t.upgradeType?a("upgradeProduct",{on:{nextClick:function(e){return t.upgradeNext(1)}}}):t._e(),2===t.upgradeType?a("upgradeConfig",{on:{nextClick:function(e){return t.upgradeNext(2)}}}):t._e(),3===t.upgradeType?a("upgradePay",{attrs:{upgradeTypeChild:t.upgradeTypeChild}}):t._e()],1)},n=[],s=(a("a9e3"),a("b4f7")),o=a("2cf5"),i=a("7028"),c={data:function(){return{upgradeTypeChild:"product"}},props:{id:{type:Number,default:0},groupid:{type:Number,default:0},allowProduct:{type:Number,default:0},allowConfig:{type:Number,default:0},upgradeType:{type:Number,default:0}},components:{upgradeProduct:s["default"],upgradeConfig:o["default"],upgradePay:i["default"]},methods:{upgradeProductHandleClick:function(){this.upgradeType=1},upgradeConfigHandleClick:function(){this.upgradeType=2},upgradeNext:function(t){this.upgradeType=3,1===t?this.upgradeTypeChild="product":2===t&&(this.upgradeTypeChild="config")}},created:function(){}},l=c,u=(a("58ff"),a("2877")),d=Object(u["a"])(l,r,n,!1,null,"1dd1b682",null);e["default"]=d.exports},4160:function(t,e,a){"use strict";var r=a("23e7"),n=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"44e7":function(t,e,a){var r=a("861d"),n=a("c6b6"),s=a("b622"),o=s("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},4763:function(t,e,a){},"47d5":function(t,e,a){},"4a8e":function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return o})),a.d(e,"e",(function(){return i})),a.d(e,"c",(function(){return c}));var r=a("a27e");function n(t,e,a,n,s,o,i){return Object(r["a"])({url:"host/list",params:{type:"list",groupid:t,page:e,limit:a,orderby:n,sort:s,search:o,domain_status:i}})}function s(t,e,a,n,s,o){return Object(r["a"])({url:"host/list",params:{type:"index",page:t,limit:e,orderby:a,sort:n,search:s,domain_status:o}})}function o(t){return Object(r["a"])({url:"/host/remark",method:"post",data:t})}function i(t){return Object(r["a"])({url:"host/header",params:{host_id:t}})}function c(t,e,a,n,s,o){return Object(r["a"])({url:"user_logdcims",params:{hostid:t,page:e,limit:a,orderby:n,sorting:s,keywords:o}})}},"4c53":function(t,e,a){"use strict";var r=a("23e7"),n=a("857a"),s=a("af03");r({target:"String",proto:!0,forced:s("sub")},{sub:function(){return n(this,"sub","","")}})},"4d63":function(t,e,a){var r=a("83ab"),n=a("da84"),s=a("94ca"),o=a("7156"),i=a("9bf2").f,c=a("241c").f,l=a("44e7"),u=a("ad6d"),d=a("9f7f"),p=a("6eeb"),f=a("d039"),m=a("69f3").set,h=a("2626"),g=a("b622"),_=g("match"),b=n.RegExp,v=b.prototype,y=/a/g,x=/a/g,C=new b(y)!==y,D=d.UNSUPPORTED_Y,O=r&&s("RegExp",!C||D||f((function(){return x[_]=!1,b(y)!=y||b(x)==x||"/a/i"!=b(y,"i")})));if(O){var w=function(t,e){var a,r=this instanceof w,n=l(t),s=void 0===e;if(!r&&n&&t.constructor===w&&s)return t;C?n&&!s&&(t=t.source):t instanceof w&&(s&&(e=u.call(t)),t=t.source),D&&(a=!!e&&e.indexOf("y")>-1,a&&(e=e.replace(/y/g,"")));var i=o(C?new b(t,e):b(t,e),r?this:v,w);return D&&a&&m(i,{sticky:a}),i},k=function(t){t in w||i(w,t,{configurable:!0,get:function(){return b[t]},set:function(e){b[t]=e}})},S=c(b),$=0;while(S.length>$)k(S[$++]);v.constructor=w,w.prototype=v,p(n,"RegExp",w)}h("RegExp")},"4de4":function(t,e,a){"use strict";var r=a("23e7"),n=a("b727").filter,s=a("1dde"),o=a("ae40"),i=s("filter"),c=o("filter");r({target:"Array",proto:!0,forced:!i||!c},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),n=a("5899"),s="["+n+"]",o=RegExp("^"+s+s+"*"),i=RegExp(s+s+"*$"),c=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(o,"")),2&t&&(a=a.replace(i,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},"58ff":function(t,e,a){"use strict";var r=a("4763"),n=a.n(r);n.a},"5a34":function(t,e,a){var r=a("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5bd6":function(t,e,a){},"6fde":function(t,e,a){"use strict";var r=a("ec1c"),n=a.n(r);n.a},7028:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},["product"===t.upgradeType?a("div",{staticClass:"order_box"},[a("el-row",{staticClass:"box_goodsitem_box"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"goodsitem_box_header"},[a("div",[a("span",[t._v(t._s(t.proPageData.old_host.host))])])]),a("el-row",{staticClass:"goodsitem_box_body"},[a("el-col",{staticClass:"box_body_left",attrs:{lg:18,xs:24}},[t._v(" "+t._s(t.$t("standaloneServer.newProduct"))+": "+t._s(t.proPageData.des)+" ")]),a("el-col",{staticClass:"box_body_right",attrs:{lg:6,xs:24}},[a("div",[a("span",[t._v(" "+t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount)+" "+t._s(t.proPageData.suffix))]),a("span",{staticClass:"body_right_cycle"},[t._v("/ "+t._s(t.proPageData.billingcycle_zh))])])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fr"},[a("div",{staticClass:"order_box_total"},[a("div",[t._v(t._s(t.$t("standaloneServer.total")))]),a("div",{staticClass:"box_total_money"},[a("span",{staticClass:"total_money_price"},[t._v(t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount_total)+" "+t._s(t.proPageData.suffix))]),a("span",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v(" / "+t._s(t.proPageData.billingcycle_zh))])])]),a("div",{staticClass:"order_box_promo"},[a("el-input",{staticClass:"box_promo_inp",attrs:{placeholder:t.$t("standaloneServer.placeholderPromo")},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),a("el-button",{staticClass:"box_promo_btn",attrs:{type:"primary"},on:{click:t.addProductCode}},[t._v(" "+t._s(t.$t("standaloneServer.usePromo")))])],1),a("div",[a("el-button",{staticClass:"order_box_topay",attrs:{type:"primary",loading:t.btnLoading},on:{click:t.proUpgradePay}},[t._v(" "+t._s(t.$t("standaloneServer.settlement")))])],1),a("div",{staticClass:"tar"},[a("el-button",{staticClass:"order_box_continue",attrs:{type:"text"},on:{click:t.backHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.goBack")))])],1)])])],1)],1):t._e(),"config"===t.upgradeType?a("div",{staticClass:"order_box"},[a("el-row",{staticClass:"box_goodsitem_box"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"goodsitem_box_header"},[a("div",[a("span",[t._v(t._s(t.configPageData.name))])])]),a("el-row",{staticClass:"goodsitem_box_body"},[a("el-col",{staticClass:"box_body_left",attrs:{lg:18,xs:24}},t._l(t.configPageData.alloption,(function(e,r){return a("div",{key:r,staticClass:"body_left_item"},[t._v(" "+t._s(e.option_name)+": "),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("span",{staticClass:"body_item_value"},[t._v(t._s(e.qty))]):a("span",{staticClass:"body_item_value"},[t._v(t._s(e.suboption_name))])])})),0),a("el-col",{staticClass:"box_body_right",attrs:{lg:6,xs:24}},[a("div",[a("span",[t._v(t._s(t.configPageData.currency.prefix)+" "+t._s(t.configPageData.subtotal)+" "+t._s(t.configPageData.currency.suffix))]),a("span",{staticClass:"body_right_cycle"},[t._v("/"+t._s(t.configPageData.billingcycle_zh))])])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fr"},[a("div",{staticClass:"order_box_total"},[a("div",[t._v(t._s(t.$t("standaloneServer.total")))]),a("div",{staticClass:"box_total_money"},[a("span",{staticClass:"total_money_price"},[t._v(t._s(t.configPageData.currency.prefix)+t._s(t.configPageData.total)+t._s(t.configPageData.currency.suffix))]),a("span",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v(" / "+t._s(t.configPageData.billingcycle_zh))])])]),a("div",{staticClass:"order_box_promo"},[a("el-input",{staticClass:"box_promo_inp",attrs:{placeholder:t.$t("standaloneServer.placeholderPromo")},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),a("el-button",{staticClass:"box_promo_btn",attrs:{type:"primary"},on:{click:t.addConfigCode}},[t._v(t._s(t.$t("standaloneServer.usePromo"))+" ")])],1),a("div",[a("el-button",{staticClass:"order_box_topay",attrs:{type:"primary",loading:t.btnLoading},on:{click:t.configUpgradePay}},[t._v(" "+t._s(t.$t("standaloneServer.settlement")))])],1),a("div",{staticClass:"tar"},[a("el-button",{staticClass:"order_box_continue",attrs:{type:"text"},on:{click:t.backHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.goBack")))])],1)])])],1)],1):t._e(),a("payPop",{ref:"control",on:{"pay-success":t.successCallBack}})],1)},n=[],s=(a("96cf"),a("1da1")),o=a("27fd"),i=a("92b1"),c=a("2ef0"),l={props:{upgradeTypeChild:{type:String,default:"product"}},data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,upgradeType:this.upgradeTypeChild,proPageData:{old_host:{id:0,host:"",domain:""},currency:{id:0,code:"",prefix:"",suffix:""}},configPageData:{alloption:[],currency:{id:1,code:"",prefix:"",suffix:""}},promoCode:"",payment:"",dialogVisible:!1,QRcodeUrl:"",payType:"",btnLoading:!1}},components:{payPop:i["a"]},methods:{getProductData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["Q"])({hid:t.id});case 2:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):(t.proPageData=r.data,t.promoCode=r.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},addProductCode:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["b"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):(t.$message.success(r.msg),t.getProductData());case 5:case"end":return e.stop()}}),e)})))()},proUpgradePay:c.throttle(Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.btnLoading=!0,t.next=3,Object(o["h"])({hid:this.proPageData.old_host.id});case 3:e=t.sent,a=e.data,200===a.status?this.$refs.control.startPay({id:a.data.invoiceid,name:this.$t("standaloneServer.upDown")}):1001===a.status?(this.$message.success(a.msg),this.$router.push({path:"/other-servers",query:{groupid:this.groupid}})):this.$message.error(a.msg),this.btnLoading=!1;case 7:case"end":return t.stop()}}),t,this)}))),2e3),getConfigData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["N"])({hid:t.id});case 2:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):(t.configPageData=r.data,t.promoCode=r.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},promoChange:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.promoCode){e.next=14;break}if("product"!==t.upgradeType){e.next=9;break}return e.next=4,Object(o["H"])({hid:t.id});case 4:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):(t.$message.success(r.msg),t.getProductData()),e.next=14;break;case 9:return e.next=11,Object(o["I"])({hid:t.id});case 11:n=e.sent,s=n.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getConfigData());case 14:case"end":return e.stop()}}),e)})))()},addConfigCode:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):(t.$message.success(r.msg),t.getConfigData());case 5:case"end":return e.stop()}}),e)})))()},configUpgradePay:c.throttle(Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in e={hid:this.id},e.configoption=[],this.configPageData.alloption)4===this.configPageData.alloption[a].option_type?e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].qty:e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].suboption_id;return this.btnLoading=!0,t.next=6,Object(o["g"])(this.$qs.stringify(e));case 6:r=t.sent,n=r.data,200===n.status?this.$refs.control.startPay({id:n.data.invoiceid,name:this.$t("standaloneServer.upDownOptions")}):1001===n.status?(this.$message.success(n.msg),this.$router.push({path:"/other-servers",query:{groupid:this.groupid}})):this.$message.error(n.msg),this.btnLoading=!1;case 10:case"end":return t.stop()}}),t,this)}))),2e3),successCallBack:function(t){t&&this.$router.push({path:"/other-servers",query:{groupid:this.groupid}})},backHandleClick:function(){this.$router.go(-1)}},created:function(){"config"===this.upgradeType?this.getConfigData():this.getProductData()},destroyed:function(){}},u=l,d=(a("eff3"),a("2877")),p=Object(d["a"])(u,r,n,!1,null,"6fe14d7a",null);e["default"]=p.exports},7156:function(t,e,a){var r=a("861d"),n=a("d2bb");t.exports=function(t,e,a){var s,o;return n&&"function"==typeof(s=e.constructor)&&s!==a&&r(o=s.prototype)&&o!==a.prototype&&n(t,o),t}},"857a":function(t,e,a){var r=a("1d80"),n=/"/g;t.exports=function(t,e,a,s){var o=String(r(t)),i="<"+e;return""!==a&&(i+=" "+a+'="'+String(s).replace(n,"&quot;")+'"'),i+">"+o+"</"+e+">"}},"8dae":function(t,e,a){"use strict";var r=a("3b93"),n=a.n(r);n.a},a9e3:function(t,e,a){"use strict";var r=a("83ab"),n=a("da84"),s=a("94ca"),o=a("6eeb"),i=a("5135"),c=a("c6b6"),l=a("7156"),u=a("c04e"),d=a("d039"),p=a("7c73"),f=a("241c").f,m=a("06cf").f,h=a("9bf2").f,g=a("58a8").trim,_="Number",b=n[_],v=b.prototype,y=c(p(v))==_,x=function(t){var e,a,r,n,s,o,i,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+l}for(s=l.slice(2),o=s.length,i=0;i<o;i++)if(c=s.charCodeAt(i),c<48||c>n)return NaN;return parseInt(s,r)}return+l};if(s(_,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var C,D=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof D&&(y?d((function(){v.valueOf.call(a)})):c(a)!=_)?l(new b(x(e)),a,D):x(e)},O=r?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;O.length>w;w++)i(b,C=O[w])&&!i(D,C)&&h(D,C,m(b,C));D.prototype=v,v.constructor=D,o(n,_,D)}},ab13:function(t,e,a){var r=a("b622"),n=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[n]=!1,"/./"[t](e)}catch(r){}}return!1}},ab37:function(t,e,a){"use strict";var r=a("e6f8"),n=a.n(r);n.a},af03:function(t,e,a){var r=a("d039");t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b0f3:function(t,e,a){"use strict";var r=a("5bd6"),n=a.n(r);n.a},b4f7:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[t.productList.length?t._e():a("div",{staticClass:"tac"},[t._v(t._s(t.$t("standaloneServer.noUpDownProduct")))]),t._l(t.productList,(function(e,r){return a("div",{key:"pro"+r,class:{upgrade_proitem_box:e.host,upgrade_proitem_box_active:t.upgradeSubmitData.pid===e.pid},on:{click:function(a){return t.proChange(e.pid)}}},[e.host?a("el-row",[a("el-col",{attrs:{lg:18,xs:16}},[t._v(t._s(e.host))]),a("el-col",{staticClass:"tar",attrs:{lg:6,xs:8}},[a("el-select",{on:{change:t.cycleChange},model:{value:e.billingcycle,callback:function(a){t.$set(e,"billingcycle",a)},expression:"proItem.billingcycle"}},t._l(e.cycle,(function(e,r){return a("el-option",{key:"cycle"+r,attrs:{label:t.currency.prefix+e.price+t.currency.suffix+" / "+e.billingcycle_zh+(Number(e.saleproducts)?"(客户折扣："+t.currency.prefix+Number(e.saleproducts).toFixed(2)+t.currency.suffix+")":""),value:e.billingcycle}})})),1)],1)],1):t._e()],1)})),t.productList.length?a("div",{staticClass:"tar"},[a("el-button",{attrs:{type:"primary",disabled:!t.upgradeSubmitData.pid},on:{click:t.nextHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.next")))])],1):t._e()],2)},n=[],s=(a("4160"),a("159b"),a("96cf"),a("1da1")),o=a("27fd"),i={data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,productList:[1],upgradeSubmitData:{hid:this.$route.query.id,pid:0,billingcycle:void 0,currencyid:void 0,promo_code:void 0},currency:void 0,toPayParams:{}}},computed:{},watch:{},methods:{getData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["P"])({hid:t.id,currencyid:void 0});case 2:a=e.sent,r=a.data,200!==r.status||((r.data.host||[]).forEach((function(t){t.billingcycle=t.cycle.length?t.cycle[0].billingcycle:void 0})),t.upgradeSubmitData.pid=r.data.host[0].pid,t.productList=r.data.host,t.currency=r.data.currency);case 5:case"end":return e.stop()}}),e)})))()},proChange:function(t){var e=this;this.upgradeSubmitData.pid=t,(this.productList||[]).forEach((function(a){a.pid===t&&a.cycle.length&&e.cycleChange(a.billingcycle)}))},cycleChange:function(t){var e=this;(this.productList||[]).forEach((function(a){(a.cycle||[]).forEach((function(a){t===a.billingcycle&&(e.upgradeSubmitData.billingcycle_zh=a.billingcycle_zh)}))}))},nextHandleClick:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeSubmitData.currencyid=t.currency.id,(t.productList||[]).forEach((function(e){e.pid===t.upgradeSubmitData.pid&&(t.upgradeSubmitData.billingcycle=e.billingcycle,t.toPayParams.newHost=e)})),e.next=4,Object(o["R"])(t.upgradeSubmitData);case 4:a=e.sent,r=a.data,200!==r.status?t.$message.error(r.msg):t.$emit("nextClick");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.getData()},mounted:function(){}},c=i,l=(a("b0f3"),a("2877")),u=Object(l["a"])(c,r,n,!1,null,"1c60d1d6",null);e["default"]=u.exports},caad:function(t,e,a){"use strict";var r=a("23e7"),n=a("4d64").includes,s=a("44d2"),o=a("ae40"),i=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!i},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},d81d:function(t,e,a){"use strict";var r=a("23e7"),n=a("b727").map,s=a("1dde"),o=a("ae40"),i=s("map"),c=o("map");r({target:"Array",proto:!0,forced:!i||!c},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},e6f8:function(t,e,a){},e8c7:function(t,e,a){"use strict";var r=a("47d5"),n=a.n(r);n.a},ec1c:function(t,e,a){},ef39:function(t,e,a){},eff3:function(t,e,a){"use strict";var r=a("ef39"),n=a.n(r);n.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);