(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["homeSplit02"],{"0309":function(t,e,a){},"048a":function(t,e,a){"use strict";a.d(e,"f",(function(){return r})),a.d(e,"k",(function(){return n})),a.d(e,"j",(function(){return o})),a.d(e,"g",(function(){return i})),a.d(e,"i",(function(){return c})),a.d(e,"l",(function(){return l})),a.d(e,"h",(function(){return u})),a.d(e,"d",(function(){return d})),a.d(e,"c",(function(){return p})),a.d(e,"b",(function(){return m})),a.d(e,"a",(function(){return h})),a.d(e,"e",(function(){return f}));var s=a("a27e");function r(t,e,a,r,n,o,i,c){return Object(s["a"])({url:"host/list",params:{type:"list",groupid:t,page:e,limit:a,orderby:r,sort:n,search:o,dcim_area:i,domain_status:c}})}function n(t){return Object(s["a"])({url:"host/header",params:{host_id:t}})}function o(t){return Object(s["a"])({url:"/provision/chart/".concat(t.hostId),params:t})}function i(t,e,a,r,n,o){return Object(s["a"])({url:"user_logdcims",params:{hostid:t,page:e,limit:a,orderby:r,sorting:n,keywords:o}})}function c(t,e){return Object(s["a"])({url:"host/renewpage",params:{hostid:t,billingcycles:e}})}function l(t){return Object(s["a"])({url:"host/renew",method:"post",data:t})}function u(t,e,a,r,n,o){return Object(s["a"])({url:"host/hostrecharge",params:{hostid:t,page:e,limit:a,order:r,sort:n,keywords:o}})}function d(t){return Object(s["a"])({url:"provision/default",method:"post",data:t})}function p(t){return Object(s["a"])({url:"provision/button",method:"post",data:t})}function m(t){return Object(s["a"])({url:"/host/remark",method:"post",data:t})}function h(t){return Object(s["a"])({url:"/host/cancel",method:"post",data:t})}function f(t){return Object(s["a"])({url:"/host/cancel",method:"delete",data:t})}},"0547":function(t,e,a){"use strict";var s=a("f640"),r=a.n(s);r.a},"06a8":function(t,e,a){"use strict";var s=a("4a89"),r=a.n(s);r.a},"0838":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standalone_server layout_card"},[a("div",{staticClass:"page-title"},[t._v(t._s(t.host_data.group.groupname))]),a("div",{staticClass:"serve_msg"},["on"===t.powerStatus?a("el-tooltip",{attrs:{content:t.powerStatusMsg,placement:"right",effect:"light"}},[a("div",{staticClass:"power_status on_color",on:{click:t.againRefresh}})]):"off"===t.powerStatus?a("el-tooltip",{attrs:{content:t.powerStatusMsg,placement:"right",effect:"light"}},[a("div",{staticClass:"power_status off_color",on:{click:t.againRefresh}})]):"error"===t.powerStatus?a("el-tooltip",{attrs:{content:t.powerStatusMsg,placement:"right",effect:"light"}},[a("div",{staticClass:"power_status error_color",on:{click:t.againRefresh}})]):"not_support"===t.powerStatus?a("el-tooltip",{attrs:{content:t.powerStatusMsg,placement:"right",effect:"light"}},[a("div",{staticClass:"power_status not_color",on:{click:t.againRefresh}})]):t._e(),t.powerStatusLoading?a("div",[a("div",{staticClass:"loading_status el-icon-loading"})]):t._e(),a("server-header",{attrs:{serverInfo:t.host_data,animation:t.isSpeenAnimation},on:{consoleClick:t.handleClick}})],1),a("div",{staticClass:"standalone_server_nav"},[a("el-tabs",{on:{"tab-click":t.getCustom},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},["Active"===t.host_data.domainstatus&&t.host_data.auth?a("el-tab-pane",{attrs:{label:t.$t("standaloneServer.control"),name:"1"}},[a("control",{attrs:{id:t.id}})],1):t._e(),"Active"===t.host_data.domainstatus&&"on"===(t.host_data.auth?t.host_data.auth.traffic:"")?a("el-tab-pane",{attrs:{label:t.$t("standaloneServer.chart"),name:"2"}},[a("chart",{attrs:{id:t.id}})],1):t._e(),"Active"===t.host_data.domainstatus||"Suspended"===t.host_data.domainstatus||"Pending"===t.host_data.domainstatus||"Fraud"===t.host_data.domainstatus?a("el-tab-pane",{attrs:{label:t.$t("standaloneServer.billing"),name:"3"}},[a("finance",{attrs:{id:t.id}})],1):t._e(),a("el-tab-pane",{attrs:{label:t.$t("standaloneServer.log"),name:"4"}},[a("log",{attrs:{id:t.id}})],1),"Active"===t.host_data.domainstatus&&0!==t.bwlimit||"已暂停"===t.host_data.domainstatus&&("用量超额"===t.suspendreason_type||"flow"===t.suspendreason_type)?a("el-tab-pane",{attrs:{label:t.$t("standaloneServer.traffic"),name:"5"}},[a("traffic",{attrs:{id:t.id}})],1):t._e(),"Active"!==t.host_data.domainstatus||1!==t.host_data.allow_upgrade_config&&1!==t.host_data.allow_upgrade_product?t._e():a("el-tab-pane",{attrs:{label:t.$t("standaloneServer.upDown"),name:"6"}},[0===t.upgradeType?a("div",{staticClass:"standaloneserver_control_box"},[1===t.host_data.allow_upgrade_product?a("div",{staticClass:"standaloneserver_control_item"},[a("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.upDown")))]),a("div",{staticClass:"standaloneserver_control_item_msg"},[a("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.upDownMsg")))])]),a("div",{staticClass:"standaloneserver_control_item_btn"},[a("el-button",{attrs:{plain:""},on:{click:function(e){t.upgradeType}}},[t._v(t._s(t.$t("standaloneServer.upDown")))])],1)]):t._e(),1===t.host_data.allow_upgrade_config?a("div",{staticClass:"standaloneserver_control_item"},[a("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.upDownOptions")))]),a("div",{staticClass:"standaloneserver_control_item_msg"},[a("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.upDownOptionsMsg")))])]),a("div",{staticClass:"standaloneserver_control_item_btn"},[a("el-button",{attrs:{plain:""},on:{click:function(e){t.upgradeType}}},[t._v(t._s(t.$t("standaloneServer.upDownOptions")))])],1)]):t._e()]):t._e(),1===t.upgradeType?a("upgradeProduct",{on:{nextClick:function(e){return t.upgradeNext(1)}}}):t._e(),2===t.upgradeType?a("upgradeConfig",{on:{nextClick:function(e){return t.upgradeNext(2)}}}):t._e(),3===t.upgradeType?a("upgradePay",{attrs:{upgradeTypeChild:t.upgradeTypeChild}}):t._e()],1),t.module_chart.length>0&&"Active"===t.host_data.domainstatus?a("el-tab-pane",{attrs:{label:t.$t("cloudServer.charts"),name:"7"}},[a("div",{staticClass:"info_box_chart info_box_list"},[a("el-row",{attrs:{gutter:40}},[t._l(t.module_chart,(function(e){return[a("el-col",{key:e.type,attrs:{xs:24,md:24,lg:12}},[a("div",{staticClass:"box_chart_flow"},[a("div",{staticClass:"chart_flow_title"},[a("div",{staticClass:"flow_title_text"},[t._v(t._s(e.title))])]),a("flowEcharts",{ref:"flowEcharts"+e.type,refInFor:!0,attrs:{moduleChart:e,hostId:parseInt(t.id),toDayDate:parseInt(1e3*t.host_data.regdate)}})],1)])]}))],2)],1)]):t._e(),"Active"===t.host_data.domainstatus?a("el-tab-pane",{attrs:{name:"8",label:"文件下载"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.download_data,border:""}},[a("el-table-column",{attrs:{prop:"title",label:"文件名"}}),a("el-table-column",{attrs:{prop:"description",label:"文件描述"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.goDownload(s)}}},[t._v("立即下载")])]}}],null,!1,1668826208)})],1)],1):t._e(),t._l(t.module_client_area,(function(e,s){return a("el-tab-pane",{key:s,attrs:{label:e.name,name:e.key}},[isNaN(parseInt(t.activeName))?a("embed",{staticStyle:{width:"100%"},attrs:{height:"800",src:t.htmlContent,type:""}}):t._e()])}))],2)],1)])},r=[],n=(a("99af"),a("4160"),a("b0c0"),a("a9e3"),a("159b"),a("96cf"),a("1da1")),o=a("318a"),i=a("27fd"),c=a("2a69"),l=a("32d2"),u=a("372e"),d=a("31d7"),p=a("126a"),m=a("4c8e"),h=a("163e"),f=a("3adc"),v=a("b489"),g={metaInfo:function(){return{title:this.host_data.group.groupname,titleTemplate:"%s - "+this.host_data.domain+(this.companyname?" - "+this.companyname:""),htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},data:function(){return{download_data:[],groupid:Number(this.$route.query.groupid),companyname:"",id:Number(this.$route.query.id),host_data:{domain:"",productname:"",auth:{bmc:"off",crack_pass:"off",ikvm:"off",kvm:"off",novnc:"off",off:"off",on:"off",reboot:"off",reinstall:"off",rescue:"off",traffic:"off"},domainstatus_desc:"",config_options:[],custom_field_data:[],assignedips:[],hasSelect:!1,svg:"",group:{fa_icon:"",groupname:"",id:0}},powerStatus:"",bwlimit:0,suspendreason_type:"",isSpeenAnimation:!1,powerStatusMsg:"",powerStatusLoading:!1,activeName:"3",htmlContent:"",module_chart:[],module_client_area:[],upgradeType:0,upgradeTypeChild:"product"}},components:{ServerHeader:o["a"],control:c["default"],chart:l["default"],finance:u["default"],log:d["default"],traffic:p["default"],flowEcharts:m["a"],upgradeProduct:h["default"],upgradeConfig:f["default"],upgradePay:v["default"]},computed:{updateHostData:function(){return this.$store.state.currentProHostData}},watch:{updateHostData:function(t){this.getData()}},methods:{goDownload:function(t){t.url?open(t.url):this.$message.error("该文件没有下载链接")},getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["x"])(t.id);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=6;break}return e.abrupt("return",!1);case 6:t.companyname=s.data.system_config.company_name,t.download_data=s.data.download_data,t.host_data=s.data.host_data,t.host_data.config_options=s.data.config_options,t.host_data.custom_field_data=s.data.custom_field_data,t.host_data.svg=s.data.dcim.svg,t.host_data.group=s.data.host_data.group,s.data.dcim&&(t.host_data.auth=s.data.dcim.auth?s.data.dcim.auth:void 0),t.host_data.id=t.id,t.bwlimit=s.data.host_data.bwlimit,t.suspendreason_type=s.data.host_data.suspendreason_type,t.host_data.domainstatus_desc=s.data.host_data.domainstatus_desc,"已激活"===s.data.host_data.domainstatus_desc&&s.data.dcim.auth&&(t.host_data.hasSelect=!0),"Active"!==s.data.host_data.domainstatus||0===s.data.host_data.serverid&&0===s.data.host_data.dcimid||"hostingaccount"===s.data.host_data.type||"software"===s.data.host_data.type||"cdn"===s.data.host_data.type||"other"===s.data.host_data.type||t.refreshStatus(),"dcim"!==s.data.host_data.type&&(t.module_chart=s.data.module_chart,t.module_client_area=s.data.module_client_area,setTimeout((function(){t.module_chart&&t.module_chart.forEach((function(e){void 0!==t.$refs["flowEcharts"+e.type]&&"undefined"!==t.$refs["flowEcharts"+e.type]&&(t.$refs["flowEcharts"+e.type][0].type=e.type,t.$refs["flowEcharts"+e.type][0].init())}))}),0)),0===t.host_data.dcimid&&"dcimcloud"===t.host_data.type||0===t.host_data.serverid&&0===t.host_data.zjmf_api_id||"Suspended"===t.host_data.domainstatus||"Pending"===t.host_data.domainstatus||"Cancelled"===t.host_data.domainstatus||"Fraud"===t.host_data.domainstatus?t.activeName="3":"Active"===t.host_data.domainstatus&&t.host_data.auth?t.activeName="1":"Deleted"===t.host_data.domainstatus?t.activeName="4":t.activeName="3";case 22:case"end":return e.stop()}}),e)})))()},handleClick:function(t){"kvm"===t?this.kvmTransfer():"ikvm"===t?this.ikvmTransfer():"vnc"===t&&this.vncTransfer()},getOperStatusFunc:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["r"])(t.id);case 2:a=e.sent,s=a.data,200===s.status&&s.data.length;case 5:case"end":return e.stop()}}),e)})))()},getShopCode:function(t){this.isSpeenAnimation=t},kvmTransfer:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$swal("","请求成功","success"),e.next=3,Object(i["A"])(t.id);case 3:a=e.sent,s=a.data,200===s.status?t.downloadJavaFunc(s.name,s.token):t.$swal("",s.msg,"error");case 6:case"end":return e.stop()}}),e)})))()},ikvmTransfer:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$swal("","请求成功","success"),e.next=3,Object(i["z"])(t.id);case 3:a=e.sent,s=a.data,200===s.status?t.downloadJavaFunc(s.name,s.token):t.$swal("",s.msg,"error");case 6:case"end":return e.stop()}}),e)})))()},vncTransfer:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n,o,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["B"])({id:t.id});case 2:a=e.sent,s=a.data,200===s.status?(r="".concat(t.$baseUrl,"/dcim/novnc?password=").concat(s.data.password,"&url=").concat(s.data.url),n=1100,o=550,c=(window.screen.availHeight-30-o)/2,l=(window.screen.availWidth-10-n)/2,window.open(r,"QRcodeWin"+t.id,"height="+o+", width="+n+", top="+c+", left="+l+",toolbar=no, menubar=no,  scrollbars=yes,resizable=yes,location=no, status=no")):t.$swal("",s.msg,"error");case 5:case"end":return e.stop()}}),e)})))()},downloadJavaFunc:function(t,e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:r=document.createElement("a"),r.download=t,r.style.display="none",r.href="".concat(a.$baseUrl,"/dcim/download?name=").concat(t,"&token=").concat(e),document.body.appendChild(r),r.click(),document.body.removeChild(r);case 7:case"end":return s.stop()}}),s)})))()},totalFunc:function(t){var e=this;setTimeout((function(){200===t.status?e.$notify({title:"成功",message:t.msg,type:"success",offset:80}):e.$notify({title:"失败",message:t.msg,type:"error",offset:80})}),2e3)},refreshStatus:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.powerStatus="",t.powerStatusLoading=!0,e.next=4,Object(i["G"])(t.id);case 4:if(a=e.sent,s=a.data,200===s.status){e.next=9;break}return t.powerStatusLoading=!0,e.abrupt("return",!1);case 9:t.powerStatus=s.data.length?s.data[0].status:"",t.powerStatusMsg=s.data.length?s.data[0].msg:"",t.powerStatusLoading=!1;case 12:case"end":return e.stop()}}),e)})))()},againRefresh:function(){this.refreshStatus()},getCustom:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t&&(parseInt(t.name)<=7||(s=localStorage.getItem("OrfLcI2IqQItv0vS"),e.htmlContent=e.$baseUrl+"/provision/custom/content?id="+e.id+"&key="+t.name+"&jwt="+s),"6"===t.name&&(e.upgradeType=0));case 1:case"end":return a.stop()}}),a)})))()},resize:function(){var t=this;this.module_chart.forEach((function(e){t.$refs["flowEcharts"+e.type][0]&&t.$refs["flowEcharts"+e.type][0].resize(e.type)})),this.screenWidth=document.body.clientWidth,this.type=this.screenWidth>900?"left":"top",this.popWidth=this.screenWidth>900?400:320},upgradeNext:function(t){this.upgradeType=3,1===t?this.upgradeTypeChild="product":2===t&&(this.upgradeTypeChild="config")}},created:function(){this.getData()},mounted:function(){var t,e=this;this.getOperStatusFunc(),window.addEventListener("resize",(function(){t&&clearTimeout(t),t=setTimeout((function(){t=null,e.resize()}),300)})),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",e.resize)}))}},_=g,b=(a("9055"),a("2877")),y=Object(b["a"])(_,s,r,!1,null,"7c986708",null);e["default"]=y.exports},"0b80":function(t,e,a){},"0f69":function(t,e,a){},"126a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_traffic"},[a("div",{staticClass:"standaloneserver_traffic_chart"},[a("div",{staticClass:"chart_title"},[a("div",{staticClass:"chart_titlel"},[t._v(t._s(t.$t("standaloneServer.usageStatistics")))]),a("div",{staticClass:"chart_titler"},[a("el-select",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),a("div",{staticClass:"chart_box",attrs:{id:"trafficCanvas"}})]),a("div",{staticClass:"standaloneserver_traffic_list"},[a("div",{staticClass:"list_title"},[a("div",{staticClass:"list_titlel"},[a("div",{staticClass:"list_titlel_top"},[a("div",{staticClass:"list_titlel_topl"},[a("span",{staticStyle:{fontSize:"16px"}},[t._v(t._s(t.$t("standaloneServer.remainingFlow")))]),t._v(" / "),a("span",{staticStyle:{fontSize:"12px"}},[t._v(t._s(t.$t("standaloneServer.totalFlow")))])]),a("div",{staticClass:"list_titlel_topr"},[t.less>=0?a("div",[a("span",{staticStyle:{fontWeight:"700",fontSize:"16px",color:"#007bfc"}},[t._v(t._s(t.less)+"GB")]),t._v(" / "),a("span",{staticStyle:{fontSize:"12px"}},[t._v(t._s(t.bwlimit)+"GB")])]):a("div",[a("span",{staticStyle:{fontWeight:"700",fontSize:"16px",color:"red"}},[t._v(t._s(t.less)+"GB")]),t._v(" / "),a("span",{staticStyle:{fontSize:"12px"}},[t._v(t._s(t.bwlimit)+"GB")])])])]),a("div",{staticClass:"list_titlel_foot"},[a("div",{staticClass:"progress"},[a("el-progress",{staticStyle:{width:"100%"},attrs:{percentage:t.percentage,"show-text":!1}})],1)])]),a("div",{staticClass:"list_titler"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogTableVisible=!0}}},[t._v(t._s(t.$t("standaloneServer.order")))])],1)]),a("div",{staticClass:"list_box"},[a("div",{staticClass:"list_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.frontEndPageChange,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}}},[a("el-table-column",{attrs:{prop:"name",label:t.$t("standaloneServer.name"),align:"center",sortable:""}}),a("el-table-column",{attrs:{prop:"capacity",label:t.$t("standaloneServer.total"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(s.capacity)+" GB")])]}}])}),a("el-table-column",{attrs:{prop:"leave",label:t.$t("standaloneServer.Remain"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(s.leave)+" GB")])]}}])}),a("el-table-column",{attrs:{prop:"pay_time",label:t.$t("standaloneServer.orderTime"),align:"center",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(t.$moment(1e3*s.pay_time).format("YYYY-MM-DD")))])]}}])})],1)],1),a("div",{staticClass:"list_page"},[a("el-pagination",{attrs:{background:"",layout:" prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"page-size":t.limit,total:t.total,"pager-count":5},on:{"current-change":t.handlePageChange}})],1)])]),a("el-dialog",{attrs:{title:t.$t("standaloneServer.orderFlowPack"),visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("div",{staticClass:"dialog_table"},[a("el-table",{attrs:{data:t.gridData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}}},[a("el-table-column",{attrs:{property:"name",label:t.$t("standaloneServer.flowname")},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(s.name))]),t._v(" "),0===s.leave?a("span",[t._v("("+t._s(t.$t("standaloneServer.outOfStock"))+")")]):t._e()]}}])}),a("el-table-column",{attrs:{property:"capacity",label:t.$t("standaloneServer.flow")},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(s.capacity)+" GB")])]}}])}),a("el-table-column",{attrs:{property:"price",label:t.$t("standaloneServer.price")},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(t.currency.prefix)+" "+t._s(s.price)+" "+t._s(t.currency.suffix))])]}}])}),a("el-table-column",{attrs:{label:t.$t("standaloneServer.order"),align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("el-button",{attrs:{type:"primary",size:"mini",disabled:!s.leave},on:{click:function(e){return t.buy(s)}}},[t._v(" "+t._s(t.$t("standaloneServer.buyNow")))])]}}])})],1)],1)]),a("payPop",{ref:"control",on:{"pay-success":t.reloadList,"balance-success":t.reList}})],1)},r=[],n=(a("fb6a"),a("b0c0"),a("a9e3"),a("b680"),a("96cf"),a("1da1")),o=a("27fd"),i=a("92b1"),c=a("99afe"),l=a("2ef0"),u={data:function(){return{chartData:[],value:7,start:"",options:[{value:7,label:this.$t("standaloneServer.selectTime7")},{value:15,label:this.$t("standaloneServer.selectTime15")},{value:30,label:this.$t("standaloneServer.selectTime30")}],bwlimit:0,bwusage:0,less:0,percentage:0,dialogTableVisible:!1,gridData:[],currency:{},page:1,limit:6,total:0,tableData:[]}},props:{id:{type:Number,default:0}},components:{payPop:i["a"]},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["w"])(t.id);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:t.currency=s.data.currency,t.gridData=s.data.dcim.flowpacket,t.bwlimit=s.data.host_data.bwlimit,t.bwusage=s.data.host_data.bwusage,t.less=parseFloat((s.data.host_data.bwlimit-s.data.host_data.bwusage).toFixed(2)),t.percentage=(t.less<=0?0:t.less)/(s.data.host_data.bwlimit?s.data.host_data.bwlimit:1)*100,t.tableData=s.data.dcim.flow_packet_use_list,t.total=s.data.dcim.flow_packet_use_list.length;case 15:case"end":return e.stop()}}),e)})))()},getChartData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.chartData=[],0!==t.id){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Object(o["v"])(t.id,t.start);case 5:if(a=e.sent,s=a.data,200===s.status){e.next=9;break}return e.abrupt("return",!1);case 9:t.chartData=s.data,t.initCharts();case 11:case"end":return e.stop()}}),e)})))()},initCharts:function(){var t=this.$t("standaloneServer.traffic");this.columnPlot&&this.columnPlot.destroy(),this.columnPlot=new c["a"]("trafficCanvas",{data:this.chartData,xField:"time",yField:"value",meta:{value:{alias:t}},color:"#007bfc",yAxis:{label:{suffix:"GB"},title:{visible:!1},grid:{visible:!1}},xAxis:{title:{visible:!1}}}),this.columnPlot.render()},buy:l.throttle(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["d"])(this.id,e.id);case 2:if(a=t.sent,s=a.data,200===s.status){t.next=7;break}return this.$message.error(s.msg),t.abrupt("return",!1);case 7:this.dialogTableVisible=!1,this.$refs.control.startPay({id:s.data.invoiceid,name:e.name});case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),200),reloadList:function(t){t&&this.getData()},reList:function(t){t&&this.getData()},handlePageChange:function(t){this.page=t}},created:function(){this.getData(),this.getChartData()},computed:{frontEndPageChange:function(){var t=(this.page-1)*this.limit,e=this.page*this.limit;return this.tableData.slice(t,e)}},watch:{value:{handler:function(t){7===t?(this.start=this.$moment(Date.now()-5184e5).format("YYYY-MM-DD"),this.getChartData()):15===t?(this.start=this.$moment(Date.now()-12096e5).format("YYYY-MM-DD"),this.getChartData()):30===t&&(this.start=this.$moment(Date.now()-25056e5).format("YYYY-MM-DD"),this.getChartData())},immediate:!0}}},d=u,p=(a("06a8"),a("2877")),m=Object(p["a"])(d,s,r,!1,null,"9993a870",null);e["default"]=m.exports},"163e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[t.productList.length?t._e():a("div",{staticClass:"tac"},[t._v(t._s(t.$t("standaloneServer.noUpDownProduct")))]),t._l(t.productList,(function(e,s){return a("div",{key:"pro"+s,class:{upgrade_proitem_box:e.host,upgrade_proitem_box_active:t.upgradeSubmitData.pid===e.pid},on:{click:function(a){return t.proChange(e.pid)}}},[e.host?a("el-row",[a("el-col",{attrs:{lg:18,xs:16}},[t._v(t._s(e.host))]),a("el-col",{staticClass:"tar",attrs:{lg:6,xs:8}},[a("el-select",{on:{change:t.cycleChange},model:{value:e.billingcycle,callback:function(a){t.$set(e,"billingcycle",a)},expression:"proItem.billingcycle"}},t._l(e.cycle,(function(e,s){return a("el-option",{key:"cycle"+s,attrs:{label:t.currency.prefix+e.price+t.currency.suffix+" / "+e.billingcycle_zh+(Number(e.saleproducts)?"(客户折扣："+t.currency.prefix+Number(e.saleproducts).toFixed(2)+t.currency.suffix+")":""),value:e.billingcycle}})})),1)],1)],1):t._e()],1)})),t.productList.length?a("div",{staticClass:"tar"},[a("el-button",{attrs:{type:"primary",disabled:!t.upgradeSubmitData.pid},on:{click:t.nextHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.next")))])],1):t._e()],2)},r=[],n=(a("4160"),a("159b"),a("96cf"),a("1da1")),o=a("27fd"),i={data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,productList:[1],upgradeSubmitData:{hid:this.$route.query.id,pid:0,billingcycle:void 0,currencyid:void 0,promo_code:void 0},currency:void 0,toPayParams:{}}},computed:{},watch:{},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["P"])({hid:t.id,currencyid:void 0});case 2:a=e.sent,s=a.data,200!==s.status||((s.data.host||[]).forEach((function(t){t.billingcycle=t.cycle.length?t.cycle[0].billingcycle:void 0})),t.upgradeSubmitData.pid=s.data.host[0].pid,t.productList=s.data.host,t.currency=s.data.currency);case 5:case"end":return e.stop()}}),e)})))()},proChange:function(t){var e=this;this.upgradeSubmitData.pid=t,(this.productList||[]).forEach((function(a){a.pid===t&&a.cycle.length&&e.cycleChange(a.billingcycle)}))},cycleChange:function(t){var e=this;(this.productList||[]).forEach((function(a){(a.cycle||[]).forEach((function(a){t===a.billingcycle&&(e.upgradeSubmitData.billingcycle_zh=a.billingcycle_zh)}))}))},nextHandleClick:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeSubmitData.currencyid=t.currency.id,(t.productList||[]).forEach((function(e){e.pid===t.upgradeSubmitData.pid&&(t.upgradeSubmitData.billingcycle=e.billingcycle,t.toPayParams.newHost=e)})),e.next=4,Object(o["R"])(t.upgradeSubmitData);case 4:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):t.$emit("nextClick");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.getData()},mounted:function(){}},c=i,l=(a("2223"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,"81f3f03c",null);e["default"]=u.exports},"1b14":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQyQ0IxOTRFOTBGNDExRUE5NkI0RjJBRjFDOEE3NkUyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQyQ0IxOTRGOTBGNDExRUE5NkI0RjJBRjFDOEE3NkUyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDJDQjE5NEM5MEY0MTFFQTk2QjRGMkFGMUM4QTc2RTIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDJDQjE5NEQ5MEY0MTFFQTk2QjRGMkFGMUM4QTc2RTIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6SDsinAAADV0lEQVR42uyYXUhTYRjH/3Of6SxS+0I0TVNL0oaSZmQRdVESGV1UF0GgYBd2ISZlSSDdSDcVEdVFEoSp+UEUWgl9oKKjD7S0bwM1nStsOtuH23TrvIeS5hFiy/OutvcPL2yc7XB+7/85z/O8j8Rsse4EcI1bK+DfGuFWnoQD1gUA7Aw0AXYhgBSEABMDZsAMmAEzYAbMgBkwAxZLMk//MO10oqquA0/a38JstlF9WLlcipTkKOQd2orwxWqv7uHx4aG47Cbq7zz1qUsx0RFori1BSIhS3JD+ZjBRg5VIJNi4YTW2ZCUJrvUPjuLew5fih/SXr0YqsEqlHDeuHEFGWhz/vbqhEyfKa91+Y5yw+k/SIq7+giXavzcTwQsU/pulJ767u2ezO+CYmqYPLJXR2R/t8z7UNGrhdLr4SnDyTB0cDndgaZBE/CxtsdqhyT6FSZuDCrharYLVYudL4eyE1tJ4HAlxy8V1mLxH5aX7uN2l47TJNCmADeKcLTu2xytYr+ow0cDnUbR2vofdPkX13VYoZNicmcjXYa/LXaBNLWXe/Kld+wGP295g3Gih+rAqlRypydHIzUnj3abi8LnL93GeW76UJiUG9dePQiaTipu0jBMWXLzaQif0OBjNupVYtDBYcK3rVT8ePOoRP6R1I2OCrCmGSBW4VVmItPWxMFtsKCiqRBuXJH+X3ss21yOHXZTSW/amJB6WKCRYibPlB/lyFDADgKURoVAq5PSBJfO0y38SCV/ts76fUeXCBS5vWCfts7otCmUpOjKcP7rZRG4tp7iDwoH8S1ibGImxcRN0+nHhWTk9XnyHyYThdEkuFZeJs6/fDQlgiUqLdmMNtxnUOq3u3kE0tXTDYDBRfZfDwtTYtSOVL1estRSrtWRTSx/IL6eWRKFqFZ+RZ+tvppYeAdOaWi6JWIi71cXo7ahAW3MZ4lctm6Ov96OpZcHhbfy7ShTF1f6Swpx5u/c/CUxC2d3xUN8A05pa1jR0zrSSpCpUVrXOcaLyrrf0qCyR8FJxraXYU8uungFsz61AuiaW67aG8fGTXtBaZmUkiO8wzanlkM6A200vBLBsaslaSz8YADBgBsyAGTADZsAMmAEz4P8FeCSAePUEOJ98CADYYW7l/RBgAPH6UjzAtR40AAAAAElFTkSuQmCC"},"1ec0":function(t,e,a){},2223:function(t,e,a){"use strict";var s=a("9744"),r=a.n(s);r.a},"27fd":function(t,e,a){"use strict";a.d(e,"p",(function(){return r})),a.d(e,"k",(function(){return n})),a.d(e,"x",(function(){return o})),a.d(e,"w",(function(){return i})),a.d(e,"C",(function(){return c})),a.d(e,"i",(function(){return l})),a.d(e,"F",(function(){return u})),a.d(e,"c",(function(){return d})),a.d(e,"A",(function(){return p})),a.d(e,"z",(function(){return m})),a.d(e,"B",(function(){return h})),a.d(e,"f",(function(){return f})),a.d(e,"L",(function(){return v})),a.d(e,"E",(function(){return g})),a.d(e,"s",(function(){return _})),a.d(e,"e",(function(){return b})),a.d(e,"r",(function(){return y})),a.d(e,"y",(function(){return w})),a.d(e,"j",(function(){return x})),a.d(e,"K",(function(){return C})),a.d(e,"u",(function(){return S})),a.d(e,"J",(function(){return D})),a.d(e,"t",(function(){return k})),a.d(e,"q",(function(){return $})),a.d(e,"v",(function(){return O})),a.d(e,"o",(function(){return R})),a.d(e,"G",(function(){return j})),a.d(e,"n",(function(){return T})),a.d(e,"d",(function(){return P})),a.d(e,"m",(function(){return I})),a.d(e,"M",(function(){return F})),a.d(e,"O",(function(){return A})),a.d(e,"N",(function(){return N})),a.d(e,"a",(function(){return M})),a.d(e,"g",(function(){return L})),a.d(e,"P",(function(){return Y})),a.d(e,"R",(function(){return E})),a.d(e,"Q",(function(){return B})),a.d(e,"b",(function(){return z})),a.d(e,"l",(function(){return V})),a.d(e,"h",(function(){return G})),a.d(e,"D",(function(){return q})),a.d(e,"I",(function(){return W})),a.d(e,"H",(function(){return U}));var s=a("a27e");function r(t,e,a,r,n,o,i,c){return Object(s["a"])({url:"host/list",params:{type:"list",groupid:t,page:e,limit:a,orderby:r,sort:n,search:o,dcim_area:i,domain_status:c}})}function n(t){return Object(s["a"])({url:"/host/remark",method:"post",data:t})}function o(t){return Object(s["a"])({url:"host/header",params:{host_id:t}})}function i(t){return Object(s["a"])({url:"host/header",params:{host_id:t}})}function c(t){return Object(s["a"])({url:"/dcim/on",method:"post",timeout:4e4,data:{id:t}})}function l(t){return Object(s["a"])({url:"/dcim/off",method:"post",timeout:4e4,data:{id:t}})}function u(t){return Object(s["a"])({url:"/dcim/reboot",method:"post",timeout:4e4,data:{id:t}})}function d(t){return Object(s["a"])({url:"/dcim/bmc",method:"post",timeout:4e4,data:{id:t}})}function p(t){return Object(s["a"])({url:"/dcim/kvm",method:"post",timeout:4e4,data:{id:t}})}function m(t){return Object(s["a"])({url:"/dcim/ikvm",method:"post",timeout:4e4,data:{id:t}})}function h(t){return Object(s["a"])({url:"/dcim/novnc",method:"post",timeout:4e4,data:t})}function f(t){return Object(s["a"])({url:"/dcim/check_reinstall",method:"post",timeout:4e4,data:{id:t}})}function v(t){return Object(s["a"])({url:"/dcim/reinstall",method:"post",timeout:4e4,data:t})}function g(t){return Object(s["a"])({url:"/dcim/buy_reinstall_times",method:"post",timeout:4e4,data:{id:t}})}function _(t){return Object(s["a"])({url:"/dcim/resintall_status?id=".concat(t),method:"get",timeout:4e4})}function b(t){return Object(s["a"])({url:"/dcim/cancel_task",method:"post",timeout:4e4,data:{id:t}})}function y(t){return Object(s["a"])({url:"/dcim/check_all_status",method:"post",timeout:4e4,data:{id:t}})}function w(t){return Object(s["a"])({url:"/dcim/hide_result",method:"post",timeout:4e4,data:{id:t}})}function x(t){return Object(s["a"])({url:"/dcim/crack_pass",method:"post",timeout:4e4,data:t})}function C(t){return Object(s["a"])({url:"/dcim/rescue",method:"post",timeout:4e4,data:t})}function S(t,e){return Object(s["a"])({url:"host/renewpage",params:{hostid:t,billingcycles:e}})}function D(t){return Object(s["a"])({url:"host/renew",method:"post",data:t})}function k(t,e,a,r,n,o){return Object(s["a"])({url:"host/hostrecharge",params:{hostid:t,page:e,limit:a,order:r,sort:n,keywords:o}})}function $(t,e,a,r,n,o){return Object(s["a"])({url:"user_logdcims",params:{hostid:t,page:e,limit:a,orderby:r,sorting:n,keywords:o}})}function O(t,e){return Object(s["a"])({url:"/dcim/traffic_usage",params:{id:t,start:e}})}function R(t,e){return Object(s["a"])({url:"/host/trafficusage",params:{id:t,start:e}})}function j(t){return Object(s["a"])({url:"/dcim/refresh_all_power_status",method:"post",timeout:4e4,data:{id:t}})}function T(t,e,a,r){return Object(s["a"])({url:"/dcim/traffic",method:"post",data:{id:t,switch_id:e,port_name:a,start_time:r}})}function P(t,e){return Object(s["a"])({url:"/dcim/buy_flow_packet",method:"post",data:{id:t,fid:e}})}function I(t){return Object(s["a"])({url:"/dcim/detail",params:{id:t}})}function F(t){return Object(s["a"])({url:"/upgrade/index/"+t.hid,params:t})}function A(t){return Object(s["a"])({url:"/upgrade/upgrade_config_post",method:"post",data:t})}function N(t){return Object(s["a"])({url:"/upgrade/upgrade_config_page",params:t})}function M(t){return Object(s["a"])({url:"/upgrade/add_promo_code",method:"post",data:t})}function L(t){return Object(s["a"])({url:"/upgrade/checkout_config_upgrade",method:"post",data:t})}function Y(t){return Object(s["a"])({url:"/upgrade/upgrade_product/"+t.hid,params:t})}function E(t){return Object(s["a"])({url:"/upgrade/upgrade_product_post",method:"post",data:t})}function B(t){return Object(s["a"])({url:"/upgrade/upgrade_product_page",params:t})}function z(t){return Object(s["a"])({url:"/upgrade/add_promo_code_product",method:"post",data:t})}function V(t){return Object(s["a"])({url:"host/batchrenewpage",method:"post",data:t})}function G(t){return Object(s["a"])({url:"/upgrade/checkout_upgrade_product",method:"post",data:t})}function q(t){return Object(s["a"])({url:"host/batchrenew",method:"post",data:t})}function W(t){return Object(s["a"])({url:"/upgrade/remove_promo_code",method:"post",data:t})}function U(t){return Object(s["a"])({url:"/upgrade/remove_promo_code_product",method:"post",data:t})}},"299cb":function(t,e,a){},"2a69":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"standaloneserver_control"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"standaloneserver_control_box",attrs:{"element-loading-text":"Loading......","element-loading-background":"rgba(255, 255, 255, 0.8)"}},["on"===t.auth.on?s("div",{staticClass:"standaloneserver_control_item"},[s("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.controlOn")))]),s("div",{staticClass:"standaloneserver_control_item_msg"},[s("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.controlOnMsg")))])]),s("div",{staticClass:"standaloneserver_control_item_btn"},[s("el-button",{attrs:{plain:""},on:{click:t.clickOn}},[t._v(t._s(t.$t("standaloneServer.controlOn")))])],1)]):t._e(),"on"===t.auth.off?s("div",{staticClass:"standaloneserver_control_item"},[s("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.controlOff")))]),s("div",{staticClass:"standaloneserver_control_item_msg"},[s("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.controlOffMsg")))])]),s("div",{staticClass:"standaloneserver_control_item_btn"},[s("el-button",{attrs:{plain:""},on:{click:t.clickClose}},[t._v(t._s(t.$t("standaloneServer.controlOff")))])],1)]):t._e(),"on"===t.auth.reboot?s("div",{staticClass:"standaloneserver_control_item"},[s("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.controlReboot")))]),s("div",{staticClass:"standaloneserver_control_item_msg"},[s("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.controlRebootMsg")))])]),s("div",{staticClass:"standaloneserver_control_item_btn"},[s("el-button",{attrs:{plain:""},on:{click:t.clickReboot}},[t._v(t._s(t.$t("standaloneServer.controlReboot")))])],1)]):t._e(),"on"===t.auth.bmc?s("div",{staticClass:"standaloneserver_control_item"},[s("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.controlResetBMC")))]),s("div",{staticClass:"standaloneserver_control_item_msg"},[s("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.controlResetBMCMsg")))])]),s("div",{staticClass:"standaloneserver_control_item_btn"},[s("el-button",{attrs:{plain:""},on:{click:t.clickBmc}},[t._v(t._s(t.$t("standaloneServer.controlResetBMC")))])],1)]):t._e(),"on"===t.auth.reinstall?s("div",{staticClass:"standaloneserver_control_item"},[s("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.controlReinstallSystem")))]),s("div",{staticClass:"standaloneserver_control_item_msg"},[s("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.controlReinstallSystemMsg")))])]),s("div",{staticClass:"standaloneserver_control_item_btn"},[s("el-button",{attrs:{plain:""},on:{click:t.reloadSystemPopup}},[t._v(t._s(t.$t("standaloneServer.controlReinstallSystem")))])],1)]):t._e(),s("el-dialog",{staticClass:"reloadSystem",attrs:{title:t.$t("standaloneServer.controlReinstallSystem"),visible:t.isReloadSystem,width:"600px",height:"600px"},on:{"update:visible":function(e){t.isReloadSystem=e},colsed:t.onClosed}},[s("el-form",{ref:"reloadSystemDataRef",staticClass:"demo-reloadSystemData",attrs:{model:t.reloadSystemData,rules:t.rules,"label-width":"80px"}},[s("el-form-item",{staticClass:"reload-deta theme_color",attrs:{"label-width":"90px",label:t.$t("standaloneServer.hostName")}},[t._v(" "+t._s(t.reloadSystemData.domain)+" ")]),s("el-form-item",{staticClass:"reload-deta theme_color",attrs:{"label-width":"100px",label:t.$t("standaloneServer.dedicatedIP")}},[t._v(" "+t._s(t.reloadSystemData.advIp+"("+t.reloadSystemData.sum+")"))]),s("el-form-item",{staticClass:"reload-deta theme_color",attrs:{"label-width":"80px",label:t.$t("standaloneServer.remark")}},[t._v(" "+t._s(t.reloadSystemData.remark))]),s("el-form-item",{attrs:{label:t.$t("standaloneServer.os"),prop:"systemVal"}},[s("el-select",{staticClass:"systemVal",attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:t.systemChang},model:{value:t.reloadSystemData.systemVal,callback:function(e){t.$set(t.reloadSystemData,"systemVal",e)},expression:"reloadSystemData.systemVal"}},[s("template",{slot:"prefix"},[s("img",{staticStyle:{height:"20px","margin-right":"10px","margin-top":"10px"},attrs:{src:"/upload/common/system/"+t.getOsSvg(t.reloadSystemData.systemVal)+".svg",alt:""}})]),t._l(t.systemArray,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[s("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:"/upload/common/system/"+t.getOsSvg(e.id)+".svg",alt:""}}),t._v(t._s(e.name)+" ")])}))],2),s("el-select",{staticClass:"versionsVal",attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:t.versionsChang},model:{value:t.reloadSystemData.versionsVal,callback:function(e){t.$set(t.reloadSystemData,"versionsVal",e)},expression:"reloadSystemData.versionsVal"}},t._l(t.versionsArray,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[t._v(t._s(e.name)+" ")])})),1)],1),s("el-form-item",{attrs:{label:t.$t("standaloneServer.password"),prop:"rootPass"}},[s("el-input",{attrs:{type:"password","show-password":"",autocomplete:"off",clearable:""},model:{value:t.reloadSystemData.rootPass,callback:function(e){t.$set(t.reloadSystemData,"rootPass",e)},expression:"reloadSystemData.rootPass"}})],1),s("el-form-item",{attrs:{label:t.$t("standaloneServer.port"),prop:"port"}},[s("el-input",{attrs:{placeholder:t.$t("standaloneServer.port")},model:{value:t.reloadSystemData.port,callback:function(e){t.$set(t.reloadSystemData,"port",e)},expression:"reloadSystemData.port"}},[s("el-button",{staticClass:"random",attrs:{slot:"append",type:"primary"},on:{click:t.portRandom},slot:"append"},[t._v(" "+t._s(t.$t("standaloneServer.random")))])],1)],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showSubType,expression:"showSubType"}],attrs:{label:t.$t("standaloneServer.partitionType"),prop:"subareaType"}},[s("el-radio-group",{on:{change:t.subTypeFunc},model:{value:t.reloadSystemData.subareaType,callback:function(e){t.$set(t.reloadSystemData,"subareaType",e)},expression:"reloadSystemData.subareaType"}},[s("el-radio",{attrs:{label:"0"}},[t._v(t._s(t.$t("standaloneServer.fullFormat")))]),s("el-radio",{attrs:{label:"1"}},[t._v(t._s(t.$t("standaloneServer.formatTheFirstPartition")))])],1),s("el-checkbox-group",{staticClass:"advanced",on:{change:t.advancedFunc},model:{value:t.advanced,callback:function(e){t.advanced=e},expression:"advanced"}},[s("el-checkbox",{attrs:{value:"1",label:"高级"}},[t._v(t._s(t.$t("standaloneServer.highLevel")))])],1)],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showDisk,expression:"showDisk"}],attrs:{label:t.$t("standaloneServer.disk")}},[s("el-select",{staticClass:"disk-w",attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},model:{value:t.reloadSystemData.disk,callback:function(e){t.$set(t.reloadSystemData,"disk",e)},expression:"reloadSystemData.disk"}},t._l(t.diskArray,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),s("p",{directives:[{name:"show",rawName:"v-show",value:"1"===t.reloadSystemData.subareaType,expression:"reloadSystemData.subareaType === '1'"}],staticClass:"hintStr"},[t._v(" "+t._s(t.hintStr)+" ")])],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.isReloadSystem=!1}}},[t._v(t._s(t.$t("btnCancle")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.saveReloadSystem}},[t._v(t._s(t.$t("btnConfirmation")))])],1)],1),"on"===t.auth.crack_pass?s("div",{staticClass:"standaloneserver_control_item"},[s("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.controlDecryption")))]),s("div",{staticClass:"standaloneserver_control_item_msg"},[s("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.controlDecryptionMsg")))])]),s("div",{staticClass:"standaloneserver_control_item_btn"},[s("el-button",{attrs:{plain:""},on:{click:t.openaaCrackPass}},[t._v(t._s(t.$t("standaloneServer.controlDecryption")))])],1)]):t._e(),s("el-dialog",{attrs:{title:t.$t("standaloneServer.controlDecryption"),visible:t.isCrack,width:"600px",height:"600px"},on:{"update:visible":function(e){t.isCrack=e},closed:t.crackPassFunc}},[s("el-form",{ref:"crackPassObjRef",staticClass:"demo-reloadSystemData",attrs:{model:t.crackPassObj,rules:t.crackRules,"label-width":"95px"}},[s("el-form-item",{attrs:{label:"","label-width":"0px"}},[s("span",[t._v(t._s(t.$t("standaloneServer.decryTitle")))])]),s("el-form-item",{staticClass:"creakInput",attrs:{label:t.$t("standaloneServer.password"),prop:"password"}},[s("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.crackPassObj.password,callback:function(e){t.$set(t.crackPassObj,"password",e)},expression:"crackPassObj.password"}}),s("img",{staticClass:"creakInputRandom",staticStyle:{width:"18px",cursor:"pointer","margin-left":"10px"},attrs:{src:a("8728"),alt:""},on:{click:function(e){return t.creatCode(12)}}}),s("i",{ref:t.crackPassObj.password,staticClass:"el-icon-copy-document creakInputCopy",staticStyle:{cursor:"pointer"},attrs:{"data-clipboard-text":t.crackPassObj.password},on:{click:function(e){return t.clickCopy(t.crackPassObj.password)},mouseenter:function(e){return t.clickCopy(t.crackPassObj.password)}}})],1),s("el-form-item",{attrs:{label:t.$t("standaloneServer.crackOther")}},[s("el-checkbox-group",{model:{value:t.crackRest,callback:function(e){t.crackRest=e},expression:"crackRest"}},[s("el-checkbox",{attrs:{value:"1",label:"1"}},[t._v(t._s(t.$t("standaloneServer.crackOtherLabel")))])],1)],1),s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!==t.crackRest.length,expression:"crackRest.length === 0 ? false : true"}],attrs:{label:t.$t("standaloneServer.customUser")}},[s("el-input",{attrs:{type:"text",placeholder:"",autocomplete:"off",clearable:""},model:{value:t.crackPassObj.user,callback:function(e){t.$set(t.crackPassObj,"user",e)},expression:"crackPassObj.user"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.isCrack=!1}}},[t._v(t._s(t.$t("btnCancle")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.crackBtn}},[t._v(t._s(t.$t("btnConfirmation")))])],1)],1),"on"===t.auth.rescue?s("div",{staticClass:"standaloneserver_control_item"},[s("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.controlRescueSystem")))]),s("div",{staticClass:"standaloneserver_control_item_msg"},[s("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.controlRescueMsg")))])]),s("div",{staticClass:"standaloneserver_control_item_btn"},[s("el-button",{attrs:{plain:""},on:{click:t.rescuePop}},[t._v(t._s(t.$t("standaloneServer.controlRescueSystem")))])],1)]):t._e(),s("el-dialog",{attrs:{title:t.$t("standaloneServer.controlRescueSystem"),visible:t.rescueDialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.rescueDialogFormVisible=e}}},[s("el-form",{ref:"rescueFormRef",staticClass:"rescue-box",attrs:{model:t.rescueForm,"label-width":"80px"}},[s("el-form-item",{attrs:{label:t.$t("standaloneServer.os")}},[s("el-select",{staticStyle:{width:"100%"},model:{value:t.rescueForm.system,callback:function(e){t.$set(t.rescueForm,"system",e)},expression:"rescueForm.system"}},[s("el-option",{attrs:{label:"Linux",value:"1"}}),s("el-option",{attrs:{label:"Windows",value:"2"}})],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.rescueDialogFormVisible=!1}}},[t._v(t._s(t.$t("btnCancle")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.clickRescue}},[t._v(t._s(t.$t("btnConfirmation")))])],1)],1),s("payPop",{ref:"control"})],1)])},r=[],n=(a("99af"),a("c975"),a("b0c0"),a("a9e3"),a("4d63"),a("ac1f"),a("25f0"),a("b85c")),o=(a("96cf"),a("1da1")),i=a("b311"),c=a.n(i),l=a("27fd"),u=a("92b1"),d={data:function(){var t=this,e=function(e,a,s){""===a?s(new Error(t.$t("standaloneServer.rulesEnterPassword"))):t.checkSpecial(a)?s(new Error(t.$t("standaloneServer.rulesPassword"))):t.checkPass(a)?s():s(new Error(t.$t("standaloneServer.rulesNumPassword")))};return{crackRePwd:"",auth:{bmc:"off",crack_pass:"off",ikvm:"off",kvm:"off",novnc:"off",off:"off",on:"off",reboot:"off",reinstall:"off",rescue:"off",traffic:"off"},loading:!1,rescueDialogFormVisible:!1,rescueForm:{id:0,system:"1"},control:"",isCrack:!1,crackPassObj:{user:"",password:""},crackRest:[],crackRules:{password:[{required:!0,message:this.$t("standaloneServer.rulesEnterPassword"),trigger:"change"}]},isReloadSystem:!1,showSubType:!0,showDisk:!1,hintStr:"",rules:{systemVal:[{required:!0,message:this.$t("standaloneServer.pleaseSelect")}],versionsVal:[{required:!0,message:this.$t("standaloneServer.pleaseSelect")}],port:[{required:!0,message:this.$t("standaloneServer.rulesEnterPort")}],rootPass:[{validator:e,required:!0,trigger:"change"}]},systemArray:[],versionsArray:[],diskArray:[],advanced:[],rowItem:{},osname:"",reloadSystemData:{notes:"",domain:"",ID:"",sum:"",advIp:"",systemVal:"",versionsVal:"",rootPass:"",port:"",subareaType:"0",disk:""},isSpeenAnimation:!1,operationType:"",currency:{}}},props:{id:{type:Number,default:0}},components:{payPop:u["a"]},methods:{creatCode:function(t){this.crackRePwd="";for(var e=parseInt(t),a=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],s=0;s<e;s++){var r=Math.floor(52*Math.random());this.crackRePwd+=a[r]}var n=/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?\d).*$/,o=new RegExp(n);o.test(this.crackRePwd)?this.crackPassObj.password=this.crackRePwd:this.creatCode(12)},clickCopy:function(t){var e=this,a=0,s=new c.a(this.$refs[t]);s.on("success",(function(t){e.$message.success("复制成功"),a++,a>1&&s.destroy()})),s.on("error",(function(t){e.$message.error("复制失败")}))},checkPass:function(t){var e=/[a-zA-Z][a-zA-Z0-9]{6,20}/;return!!e.test(t)},checkSpecial:function(t){var e=/[`~!@#$%^&*()_\-+=<>?:"{}|,.\\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘’，。、]/;return!!e.test(t)},onClosed:function(){this.$refs.reloadSystemDataRef.resetFields()},testFunc:function(){},getData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["w"])(t.id);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:t.control=s.data,s.data.dcim&&(s.data.dcim.auth?t.auth=s.data.dcim.auth:t.auth={bmc:"off",crack_pass:"off",ikvm:"off",kvm:"off",novnc:"off",off:"off",on:"off",reboot:"off",reinstall:"off",rescue:"off",traffic:"off"}),t.reloadSystemData.remark=t.control.host_data.remark,t.reloadSystemData.domain=t.control.host_data.domain,t.reloadSystemData.ID=t.control.host_data.serverid,t.reloadSystemData.advIp=t.control.host_data.dedicatedip,t.reloadSystemData.sum=t.control.host_data.ip_num,t.reloadSystemData.rootPass=t.control.host_data.password,t.systemArray=t.control.cloud_os_group,t.currency=s.data.currency,t.getDiskList();case 18:case"end":return e.stop()}}),e)})))()},totalFunc:function(t){var e=this;setTimeout((function(){200===t.status?(e.$parent.againRefresh(),e.$notify({title:e.$t("standaloneServer.controlSuccess"),message:t.msg,type:"success",offset:80})):(e.$parent.againRefresh(),e.$notify({title:e.$t("standaloneServer.controlError"),message:t.msg,type:"error",offset:80}))}),5e3)},clickOn:function(){var t=this;this.$swal.fire({title:this.$t("standaloneServer.sureOn"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.value){e.next=7;break}return t.$swal.fire("",t.$t("standaloneServer.loadingOn"),"success"),e.next=4,Object(l["C"])(t.id);case 4:s=e.sent,r=s.data,t.totalFunc(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},clickClose:function(){var t=this;this.$swal.fire({title:this.$t("standaloneServer.sureOff"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.value){e.next=8;break}return t.$swal.fire("",t.$t("standaloneServer.loadingOff"),"success"),e.next=4,Object(l["i"])(t.id);case 4:return s=e.sent,r=s.data,t.totalFunc(r),e.abrupt("return");case 8:a.dismiss;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},clickReboot:function(){var t=this;this.$swal.fire({title:this.$t("standaloneServer.sureReboot"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.value){e.next=8;break}return t.$swal.fire("",t.$t("standaloneServer.loadingReboot"),"success"),e.next=4,Object(l["F"])(t.id);case 4:return s=e.sent,r=s.data,t.totalFunc(r),e.abrupt("return");case 8:a.dismiss;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},clickBmc:function(){var t=this;this.$swal.fire({title:this.$t("standaloneServer.sureResetBMC"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.value){e.next=8;break}return t.$swal.fire("",t.$t("standaloneServer.loadingResetBMC"),"success"),e.next=4,Object(l["c"])(t.id);case 4:return s=e.sent,r=s.data,t.totalFunc(r),e.abrupt("return");case 8:a.dismiss;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},rescuePop:function(){this.rescueDialogFormVisible=!0;var t=this.control.host_data.os_osname;if(""!==t){var e=t.substring(0,3);this.rescueForm.system="Win"===e?"2":"1"}else this.rescueForm.system="1"},clickRescue:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.rescueDialogFormVisible=!1,e.next=3,Object(l["s"])(t.id);case 3:a=e.sent,s=a.data,200===s.status?Object.prototype.hasOwnProperty.call(s.data,"task_type")&&null!==s.data.task_type?(t.rescueDialogFormVisible=!1,t.$swal.fire({title:t.$t("standaloneServer.goOnRescueSystem"),icon:"warning",showCancelButton:!0,confirmButtonText:t.$t("btnConfirmation"),cancelButtonText:t.$t("btnCancle")}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.value&&t.encapsulCancel();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):t.encapsulCancel():t.$swal("",s.msg,"error");case 6:case"end":return e.stop()}}),e)})))()},encapsulCancel:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.rescueForm.id=t.id,t.rescueDialogFormVisible=!1,e.next=4,Object(l["K"])(t.rescueForm);case 4:a=e.sent,s=a.data,setTimeout((function(){t.$parent.againRefresh()}),5e3),200===s.status?(t.$swal("",s.msg,"success"),t.isSpeenAnimation=!0,t.$emit("getShopCode",t.isSpeenAnimation)):t.$swal("",s.msg,"error");case 8:case"end":return e.stop()}}),e)})))()},cancelRescue:function(){this.$refs.rescueFormRef.resetFields(),this.rescueDialogFormVisible=!1},searchType:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["s"])(t.id);case 2:a=e.sent,s=a.data,200===s.status&&(Object.prototype.hasOwnProperty.call(s.data,"task_type")&&null!==s.data.task_type?0===Number(s.data.task_type)?t.operationType=0:1===Number(s.data.task_type)?t.operationType=1:2===Number(s.data.task_type)&&(t.operationType=2):t.operationType="");case 5:case"end":return e.stop()}}),e)})))()},checkReinstall:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["f"])(t.id);case 2:a=e.sent,s=a.data,s.status;case 5:case"end":return e.stop()}}),e)})))()},reloadSystemPopup:function(){this.isReloadSystem=!0,this.showSubType=!0,this.reloadSystemData.subareaType="0",this.reloadSystemData.ID=this.control.host_data.serverid,this.reloadSystemData.advIp=this.control.host_data.dedicatedip,this.reloadSystemData.sum=this.control.host_data.ip_num,this.reloadSystemData.rootPass=this.control.host_data.password,this.systemArray=this.control.cloud_os_group,0!==this.systemArray.length&&(this.reloadSystemData.systemVal=this.systemArray[0].id,this.getVersionsSelect()),0!==this.versionsArray.length?(this.reloadSystemData.versionsVal=this.versionsArray[0].id,this.reloadSystemData.port=this.versionsArray[0].port):(this.reloadSystemData.versionsVal="",this.portRandom()),this.reloadSystemData.rootPass=this.systemPwd(),this.portRandom()},subTypeFunc:function(){var t,e="",a=Object(n["a"])(this.versionsArray);try{for(a.s();!(t=a.n()).done;){var s=t.value;this.reloadSystemData.versionsVal===s.id&&-1===this.control.host_data.os.indexOf("Windows")&&"Windows"===s.group&&(e="".concat(this.$t("standaloneServer.if")," ").concat(this.control.host_data.os_osname," ").concat(this.$t("standaloneServer.reloadAs")," ").concat(s.name,"，").concat(this.$t("standaloneServer.reloadError")))}}catch(r){a.e(r)}finally{a.f()}this.hintStr=e},systemChang:function(){this.getVersionsSelect(),this.reloadSystemData.subareaType="0","Windows"===this.reloadSystemData.systemVal?(this.showSubType=!0,0===this.advanced.length?this.showDisk=!1:this.showDisk=!0):(this.showSubType=!1,this.showDisk=!1)},getVersionsSelect:function(){var t,e=[],a=this.control.cloud_os,s=Object(n["a"])(a);try{for(s.s();!(t=s.n()).done;){var r=t.value;""!==this.reloadSystemData.systemVal&&r.group===this.reloadSystemData.systemVal&&e.push(r)}}catch(o){s.e(o)}finally{s.f()}this.versionsArray=e,0!==this.versionsArray.length?this.reloadSystemData.versionsVal=this.versionsArray[0].id:(this.reloadSystemData.versionsVal="",this.portRandom())},versionsChang:function(){var t,e=Object(n["a"])(this.versionsArray);try{for(e.s();!(t=e.n()).done;){var a=t.value;this.reloadSystemData.versionsVal===a.id&&("Windows"===a.group&&-1===a.name.indexOf("2003")?(this.showSubType=!0,this.hintStr="".concat(this.$t("standaloneServer.if")," ").concat(this.osname," ").concat(this.$t("standaloneServer.reloadAs")," ").concat(a.name,"，").concat(this.$t("standaloneServer.reloadError"))):this.showSubType=!1)}}catch(s){e.e(s)}finally{e.f()}},advancedFunc:function(){0===this.advanced.length?this.showDisk=!1:(this.showDisk=!0,this.reloadSystemData.disk=this.diskArray[0].id)},getDiskList:function(){for(var t=[],e=0;e<Number(this.control.host_data.disk_num);e++)t.push({id:e,name:"disk"+e});this.diskArray=t},portRandom:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=Math.floor(1e4*Math.random())+1e4,t.reloadSystemData.port=a;case 2:case"end":return e.stop()}}),e)})))()},systemPwd:function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e=t.length,a="",s=0;s<3;s++)a+=t.charAt(Math.floor(Math.random()*e));for(var r="abcdefghijklmnopqrstuvwxyz",n=r.length,o=0;o<3;o++)a+=r.charAt(Math.floor(Math.random()*n));for(var i="123456789",c=i.length,l=0;l<2;l++)a+=i.charAt(Math.floor(Math.random()*c));return a},saveReloadSystem:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isReloadSystem=!1,e.next=3,Object(l["s"])(t.id);case 3:a=e.sent,s=a.data,200===s.status?Object.prototype.hasOwnProperty.call(s.data,"task_type")&&null!==s.data.task_type?(t.isReloadSystem=!1,t.$swal.fire({title:t.$t("standaloneServer.goOnReloadSystem"),icon:"warning",showCancelButton:!0,confirmButtonText:t.$t("btnConfirmation"),cancelButtonText:t.$t("btnCancle")}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.value&&t.encapsulInstall();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):(t.operationType="",t.encapsulInstall()):t.$swal("",s.msg,"error");case 6:case"end":return e.stop()}}),e)})))()},encapsulInstall:function(){var t=this,e={id:this.id,os:this.reloadSystemData.versionsVal,password:this.reloadSystemData.rootPass,action:0,port:this.reloadSystemData.port,part_type:this.reloadSystemData.subareaType,disk:this.reloadSystemData.disk,check_disk_size:1};this.$refs.reloadSystemDataRef.validate(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(s){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s){a.next=8;break}return t.isReloadSystem=!1,a.next=4,Object(l["L"])(e);case 4:r=a.sent,n=r.data,setTimeout((function(){t.$parent.againRefresh()}),5e3),200===n.status?(t.$swal("",n.msg,"success"),t.isSpeenAnimation=!0,t.$emit("getShopCode",t.isSpeenAnimation)):Object.prototype.hasOwnProperty.call(n,"price")?t.$swal.fire({title:t.$t("standaloneServer.errorReinstallSystem"),text:"".concat(t.$t("standaloneServer.weekReload"),"，").concat(t.currency.prefix," ").concat(n.price," ").concat(t.currency.suffix," / ").concat(t.$t("standaloneServer.frequency"),"，").concat(t.$t("standaloneServer.doYouNeed")),icon:"warning",showCancelButton:!0,confirmButtonText:t.$t("btnConfirmation"),cancelButtonText:t.$t("btnCancle")}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.value&&t.purchaseReloadSystem();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):t.$swal("",n.msg,"error");case 8:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},purchaseReloadSystem:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["E"])(t.id);case 2:a=e.sent,s=a.data,200===s.status?(t.$message.success(s.msg),t.$refs.control.startPay({id:s.data.invoiceid,name:t.$t("standaloneServer.purchaseReloads")})):t.$message.success(s.msg);case 5:case"end":return e.stop()}}),e)})))()},crackPassFunc:function(){this.$refs.crackPassObjRef.resetFields()},openaaCrackPass:function(){this.isCrack=!0,this.crackRest=[],this.crackPassObj.password="",this.crackPassObj.user="",this.creatCode()},crackBtn:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isCrack=!1,e.next=3,Object(l["s"])(t.id);case 3:a=e.sent,s=a.data,200===s.status?Object.prototype.hasOwnProperty.call(s.data,"task_type")&&null!==s.data.task_type?(t.isCrack=!1,t.$swal.fire({title:t.$t("standaloneServer.goOnPwd"),icon:"warning",showCancelButton:!0,confirmButtonText:t.$t("btnConfirmation"),cancelButtonText:t.$t("btnCancle")}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.value&&t.openCrack();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):(t.operationType="",t.openCrack()):t.$swal("",s.msg,"error");case 6:case"end":return e.stop()}}),e)})))()},openCrack:function(){var t=this;this.$refs.crackPassObjRef.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var s,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return s={id:t.id,password:t.crackPassObj.password,user:t.crackPassObj.user,other_user:0!==t.crackRest.length?t.crackRest[0]:0},t.isCrack=!1,e.next=5,Object(l["j"])(s);case 5:r=e.sent,n=r.data,setTimeout((function(){t.$parent.againRefresh()}),5e3),200===n.status?(t.$swal("",n.msg,"success"),t.isSpeenAnimation=!0,t.$emit("getShopCode",t.isSpeenAnimation)):t.$swal("",n.msg,"error");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getOsSvg:function(t){var e=1;return e=-1!==t.toLowerCase().indexOf("windows")?1:-1!==t.toLowerCase().indexOf("centos")?2:-1!==t.toLowerCase().indexOf("ubuntu")?3:-1!==t.toLowerCase().indexOf("debian")?4:-1!==t.toLowerCase().indexOf("esxi")?5:-1!==t.toLowerCase().indexOf("xenserver")?6:-1!==t.toLowerCase().indexOf("freebsd")?7:-1!==t.toLowerCase().indexOf("fedora")?8:"",e}},created:function(){this.getData()}},p=d,m=(a("db36"),a("2877")),h=Object(m["a"])(p,s,r,!1,null,"ea5f15c4",null);e["default"]=h.exports},"2ca0":function(t,e,a){"use strict";var s=a("23e7"),r=a("06cf").f,n=a("50c4"),o=a("5a34"),i=a("1d80"),c=a("ab13"),l=a("c430"),u="".startsWith,d=Math.min,p=c("startsWith"),m=!l&&!p&&!!function(){var t=r(String.prototype,"startsWith");return t&&!t.writable}();s({target:"String",proto:!0,forced:!m&&!p},{startsWith:function(t){var e=String(i(this));o(t);var a=n(d(arguments.length>1?arguments[1]:void 0,e.length)),s=String(t);return u?u.call(e,s,a):e.slice(a,a+s.length)===s}})},"2e91":function(t,e,a){"use strict";var s=a("992d"),r=a.n(s);r.a},"318a":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("div",{staticClass:"content"},[s("img",{staticClass:"fl pic",attrs:{src:a("1b14"),alt:""}}),s("div",{staticClass:"fl serverinfo"},[s("div",{staticClass:"serverinfo_row1"},[s("div",{staticClass:"serverinfo_row1_top"},[s("span",{staticClass:"serverinfo_name"},[t._v(t._s(t.serverInfo.productname)),s("span",[t._v("（"+t._s(t.serverInfo.domain)+"）")])]),"Active"===t.serverInfo.domainstatus?s("span",[s("span",{staticClass:"serverinfo_statusbox active_color"},[s("span",{staticClass:"serverinfo_status"},[t._v(t._s(t.serverInfo.domainstatus_desc))])])]):"Pending"===t.serverInfo.domainstatus?s("span",[s("span",{staticClass:"serverinfo_statusbox pengding_color"},[s("span",{staticClass:"serverinfo_status"},[t._v(t._s(t.serverInfo.domainstatus_desc))])])]):"Suspended"===t.serverInfo.domainstatus?s("span",[s("span",{staticClass:"serverinfo_statusbox suspended_color"},[s("span",{staticClass:"serverinfo_status"},[t._v(t._s(t.serverInfo.domainstatus_desc))])]),s("label",{directives:[{name:"show",rawName:"v-show",value:""!==t.serverInfo.suspendreason,expression:"serverInfo.suspendreason !== ''"}],attrs:{for:""}},[t._v("("+t._s(t.serverInfo.suspendreason)+")")])]):"Deleted"===t.serverInfo.domainstatus?s("span",[s("span",{staticClass:"serverinfo_statusbox terminated_color"},[s("span",{staticClass:"serverinfo_status"},[t._v(t._s(t.serverInfo.domainstatus_desc))])])]):"Cancelled"===t.serverInfo.domainstatus?s("span",[s("span",{staticClass:"serverinfo_statusbox cancelled_color"},[s("span",{staticClass:"serverinfo_status"},[t._v(t._s(t.serverInfo.domainstatus_desc))])])]):"Fraud"===t.serverInfo.domainstatus?s("span",[s("span",{staticClass:"serverinfo_statusbox fraud_color"},[s("span",{staticClass:"serverinfo_status"},[t._v(t._s(t.serverInfo.domainstatus_desc))])])]):t._e()]),t.serverInfo.hasSelect?s("el-dropdown",{staticClass:"controlDrop",attrs:{placement:"bottom-start"},on:{command:t.consoleHandleClick}},[s("el-button",{staticClass:"console",attrs:{type:"primary"}},[t._v(" "+t._s(t.$t("standaloneServer.console"))),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"on"===t.serverInfo.auth["kvm"],expression:"serverInfo.auth['kvm'] === 'on'"}],attrs:{command:"kvm"}},[t._v("kvm")]),s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"on"===t.serverInfo.auth["ikvm"],expression:"serverInfo.auth['ikvm'] === 'on'"}],attrs:{command:"ikvm"}},[t._v("ikvm")]),s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"on"===t.serverInfo.auth["novnc"],expression:"serverInfo.auth['novnc'] === 'on'"}],attrs:{command:"vnc"}},[t._v("vnc")])],1)],1):t._e(),t.moduleConsole.length?s("el-dropdown",{staticClass:"controlDrop",attrs:{placement:"bottom-start"},on:{command:t.consoleHandleClick}},[s("el-button",{staticClass:"console",attrs:{type:"primary"}},[t._v(" "+t._s(t.$t("standaloneServer.console"))),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.moduleConsole,(function(e,a){return s("el-dropdown-item",{key:a,attrs:{command:e.name+"-"+e.func+"-"+e.type}},[t._v(t._s(e.name))])})),1)],1):t._e()],1),s("div",{staticClass:"serverinfo_row2"},[t._l(t.serverInfo.config_options,(function(e,a){return s("span",{key:a,staticClass:"serverinfo_configBox"},[s("span",{staticClass:"serverinfo_label"},[t._v(t._s(e.name)+"：")]),12===e.option_type?s("img",{staticStyle:{margin:"-2px 5px"},attrs:{src:"/upload/common/country/"+e.code+".png",alt:"",width:"24px"}}):t._e(),5===e.option_type?s("img",{staticStyle:{margin:"-2px 5px"},attrs:{src:"/upload/common/system/"+t.getOsSvg(e.sub_name)+".svg",alt:"",width:"18px"}}):t._e(),s("span",{staticClass:"serverinfo_value"},[t._v(t._s(e.sub_name))])])})),t._l(t.serverInfo.custom_field_data,(function(e,a){return s("span",{key:"field"+a,staticStyle:{marginRight:"5px"}},[s("span",{staticClass:"serverinfo_label"},[t._v(t._s(e.fieldname)+": ")]),s("span",{staticClass:"serverinfo_value"},[t._v(t._s(e.value+" "))])])}))],2),s("div",{staticClass:"speed"},[s("div",{staticClass:"progress_inner",style:{width:t.proWidth}}),s("div",{class:t.myanimation?"speed-prog":"",attrs:{id:"speed"}})]),s("div",{staticClass:"serverinfo_row3"},[s("div",{staticClass:"fl row3_l"},[s("div",[t.serverInfo.svg?s("img",{staticClass:"systemImg",attrs:{src:"/upload/common/system/"+t.serverInfo.svg+".svg",alt:"",srcset:""}}):t._e(),s("span",{staticClass:"serverinfo_value"},[t._v(t._s(t.serverInfo.os))])]),s("div",[s("span",{directives:[{name:"show",rawName:"v-show",value:""!==t.serverInfo.dedicatedip,expression:"serverInfo.dedicatedip !== ''"}],staticClass:"serverinfo_label subip"},[t._v(t._s(t.$t("standaloneServer.dedicatedIP"))+"：")]),s("el-popover",{staticClass:"limit--height",attrs:{placement:"right",trigger:"hover",disabled:0===t.serverInfo.assignedips.length}},[s("ul",{staticClass:"item_ip"},[s("li",[t._v(t._s(t.serverInfo.dedicatedip))]),t._l(t.serverInfo.assignedips,(function(e,a){return s("li",{key:a},[t._v(t._s(e))])}))],2),s("span",{staticClass:"serverinfo_value",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.serverInfo.dedicatedip)),s("span",{directives:[{name:"show",rawName:"v-show",value:0!==t.serverInfo.assignedips.length,expression:"serverInfo.assignedips.length === 0 ? false : true"}]},[t._v("（"+t._s(t.serverInfo.assignedips?parseInt(t.serverInfo.assignedips.length)+1:0)+"）")]),s("i",{directives:[{name:"show",rawName:"v-show",value:""!==t.serverInfo.dedicatedip,expression:"serverInfo.dedicatedip !== ''"}],ref:t.serverInfo.assignedips,staticClass:"el-icon-copy-document copyBtn",attrs:{"data-clipboard-text":t.serverInfo.dedicatedip+(0!==t.serverInfo.assignedips.length?","+t.serverInfo.assignedips:"")},on:{click:function(e){return t.clickCopy(t.serverInfo.assignedips)},mouseenter:function(e){return t.clickCopy(t.serverInfo.assignedips)}}})])])],1),s("div",[s("span",{staticClass:"serverinfo_label subip"},[t._v(t._s(t.serverInfo.remark))])]),s("div",[0!==t.userDetail.length?s("el-popover",{attrs:{placement:"right",width:"360",trigger:"hover"}},[s("el-table",{attrs:{data:t.userDetail}},[s("el-table-column",{attrs:{prop:"username",label:t.$t("standaloneServer.userName")}}),s("el-table-column",{attrs:{prop:"password",label:t.$t("standaloneServer.password")}}),s("el-table-column",{attrs:{prop:"port",label:t.$t("standaloneServer.port")}})],1),s("span",{staticClass:"serverinfo_value subip",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[s("span",[t._v(t._s(t.$t("standaloneServer.loginInfo")))])])],1):t._e()],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.resintallDetail,expression:"resintallDetail"}],staticClass:"fr speed-div"},[s("div",{staticClass:"speed-text"},[s("span",{staticClass:"serverinfo_label "},[s("label",{attrs:{for:""}},[t._v(t._s(t.Reassembly.name))]),t._v(": ")]),s("el-popover",{attrs:{placement:"right",width:"200",trigger:"hover",disabled:""===t.Reassembly.system}},[s("p",[t._v(t._s(t.Reassembly.system))]),s("span",{staticClass:"serverinfo_value ",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.Reassembly.system))])])],1),s("span",{staticClass:"cancel-speed",on:{click:t.cancelSpeedFunc}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.lastResintallDetail,expression:"lastResintallDetail"}],staticClass:"fr speed-div",staticStyle:{"text-align":"right"}},[s("div",{staticClass:"speed-text"},[s("span",{staticClass:"serverinfo_label "},[s("label",{attrs:{for:""}},[t._v(t._s(t.Reassembly.name))])])]),s("span",{staticStyle:{cursor:"pointer","margin-left":"10px"},on:{click:t.hideResintallDetail}},[t._v("X")])])])])])])},r=[],n=(a("c975"),a("b0c0"),a("a9e3"),a("96cf"),a("1da1")),o=a("b311"),i=a.n(o),c=a("27fd"),l={data:function(){return{proWidth:"0%",opartionType:"",id:"",clearTimeSet:"",myanimation:!1,resintallDetail:!1,lastResintallDetail:!1,svg:"",Reassembly:{name:"",system:""},userDetail:[]}},props:{serverInfo:{type:Object,default:function(){return{}}},moduleConsole:{type:Array,default:function(){return[]}},animation:{type:Boolean,default:!1}},watch:{animation:function(t,e){this.myanimation=t,this.myanimation&&this.timer()},serverInfo:function(t,e){this.id=t.id,this.userDetail=[],this.userDetail.push({password:t.password,port:t.port,username:t.username}),""===t.password&&""===t.port&&""===t.username&&(this.userDetail=[]),""===t.password&&0===t.port&&""===t.username&&(this.userDetail=[]),this.initGetPro()}},methods:{clickCopy:function(t){var e=this,a=0,s=new i.a(this.$refs[t]);s.on("success",(function(t){e.$message.success("复制成功"),a++,a>1&&s.destroy()})),s.on("error",(function(t){e.$message.error("复制失败")}))},getOsSvg:function(t){var e=1;return e=-1!==t.toLowerCase().indexOf("windows")?1:-1!==t.toLowerCase().indexOf("centos")?2:-1!==t.toLowerCase().indexOf("ubuntu")?3:-1!==t.toLowerCase().indexOf("debian")?4:-1!==t.toLowerCase().indexOf("esxi")?5:-1!==t.toLowerCase().indexOf("xenserver")?6:-1!==t.toLowerCase().indexOf("freebsd")?7:-1!==t.toLowerCase().indexOf("fedora")?8:"",e},consoleHandleClick:function(t){this.$emit("consoleClick",t)},timer:function(){var t=this;this.myanimation=!0,this.clearTimeSet=setInterval((function(){t.getProgress()}),4e3)},clearTime:function(){this.myanimation=!1,clearInterval(this.clearTimeSet)},initGetPro:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["s"])(t.id);case 2:a=e.sent,s=a.data,200===s.status&&""!==s.data&&(Object.prototype.hasOwnProperty.call(s.data,"last_result")?(t.lastResintallDetail=!0,t.resintallDetail=!1,(1===Number(s.data.last_result.status)||2===Number(s.data.last_result.status))&&(t.Reassembly.name=s.data.last_result.act+": "+s.data.last_result.msg)):(t.lastResintallDetail=!1,t.resintallDetail=!1),Object.prototype.hasOwnProperty.call(s.data,"task_type")&&null!==s.data.task_type&&(t.lastResintallDetail=!1,t.resintallDetail=!0,t.timer(),0===Number(s.data.task_type)?(t.Reassembly.name=t.$t("standaloneServer.controlReinstallSystem"),t.Reassembly.system=s.data.reinstall_msg+"；"+s.data.step):1===Number(s.data.task_type)?(t.Reassembly.name=t.$t("standaloneServer.controlRescueSystem"),t.Reassembly.system=s.data.step,"100"===s.data.progress&&t.clearTime()):2===Number(s.data.task_type)&&(t.Reassembly.name=t.$t("standaloneServer.controlDecryption"),t.Reassembly.system=s.data.step)));case 5:case"end":return e.stop()}}),e)})))()},getProgress:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["s"])(t.id);case 2:a=e.sent,s=a.data,200===s.status&&""!==s.data&&(Object.prototype.hasOwnProperty.call(s.data,"task_type")&&null!==s.data.task_type&&(t.opartionType=Number(s.data.task_type),0===Number(s.data.task_type)?(t.Reassembly.name=t.$t("standaloneServer.controlReinstallSystem"),t.Reassembly.system=s.data.reinstall_msg+"；"+s.data.step,t.lastResintallDetail=!1,t.resintallDetail=!0,t.proWidth=parseInt(s.data.progress)+"%"):1===Number(s.data.task_type)?(t.Reassembly.name=t.$t("standaloneServer.controlRescueSystem"),t.Reassembly.system=s.data.step,t.lastResintallDetail=!1,t.resintallDetail=!0,t.proWidth=parseInt(s.data.progress)+"%","100"===s.data.progress&&t.clearTime()):2===Number(s.data.task_type)&&(t.Reassembly.name=t.$t("standaloneServer.controlDecryption"),t.Reassembly.system=s.data.step,t.lastResintallDetail=!1,t.resintallDetail=!0,t.proWidth=parseInt(s.data.progress)+"%")),Object.prototype.hasOwnProperty.call(s.data,"last_result")&&(t.clearTime(),t.lastResintallDetail=!0,t.resintallDetail=!1,t.$parent.getData(),(1===Number(s.data.last_result.status)||2===Number(s.data.last_result.status))&&(t.Reassembly.name=s.data.last_result.act+": "+s.data.last_result.msg)));case 5:case"end":return e.stop()}}),e)})))()},hideResintallDetail:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["y"])(t.id);case 2:a=e.sent,s=a.data,200===s.status?(t.lastResintallDetail=!1,t.resintallDetail=!1):t.$message.error(s.msg);case 5:case"end":return e.stop()}}),e)})))()},cancelSpeedFunc:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$swal.fire({title:t.$t("standaloneServer.canceGetOperationProgress"),icon:"warning",showCancelButton:!0,confirmButtonText:t.$t("standaloneServer.confirm"),cancelButtonText:t.$t("standaloneServer.cancel")}).then(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.value){e.next=6;break}return e.next=3,Object(c["e"])(t.id);case 3:s=e.sent,r=s.data,200===r.status?(t.clearTime(),t.lastResintallDetail=!1,t.resintallDetail=!1,t.$swal("",r.msg,"success")):t.$swal("",r.msg,"error");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()}},created:function(){},mounted:function(){},destroyed:function(){this.clearTime()}},u=l,d=(a("ae4c"),a("2877")),p=Object(d["a"])(u,s,r,!1,null,"1bbb91a3",null);e["a"]=p.exports},"31d7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_log"},[a("div",{staticClass:"standaloneserver_log_search"},[a("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.search.input,callback:function(e){t.$set(t.search,"input",e)},expression:"search.input"}})],1),a("div",{staticClass:"standaloneserver_log_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}},on:{"sort-change":t.changeSort}},[a("el-table-column",{attrs:{prop:"create_time",label:t.$t("standaloneServer.operatingTime"),align:"center",width:"180",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",[t._v(t._s(t.$moment(1e3*s.create_time).format("YYYY-MM-DD HH:mm:ss")))])]}}])}),a("el-table-column",{attrs:{prop:"description",label:t.$t("standaloneServer.operatingDetail")},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{domProps:{innerHTML:t._s(s.description)}})]}}])}),a("el-table-column",{attrs:{prop:"user",label:t.$t("standaloneServer.operator"),align:"center",width:"150",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"ipaddr",label:t.$t("standaloneServer.ipAddress"),align:"center",width:"150",sortable:"custom"}})],1)],1),a("div",{staticClass:"standaloneserver_log_pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},r=[],n=(a("a9e3"),a("ac1f"),a("841c"),a("96cf"),a("1da1")),o=a("27fd"),i={data:function(){return{page:1,limit:20,total:0,orderby:"id",sort:"desc",search:{input:"",timer:null},tableData:[]}},props:{id:{type:Number,default:0}},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["q"])(t.id,t.page,t.limit,t.orderby,t.sort,t.search.input);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:t.total=s.data.count,t.tableData=s.data.log_list;case 9:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.limit=t,this.getData()},handleCurrentChange:function(t){this.page=t,this.getData()},changeSort:function(t){"descending"===t.order?(this.orderby=t.prop,this.sort="desc"):(this.orderby=t.prop,this.sort="asc"),this.getData()}},created:function(){this.getData()},watch:{"search.input":{handler:function(){var t=this;this.search.timer&&clearTimeout(this.search.timer),this.search.timer=setTimeout((function(){t.getData()}),200)},deep:!0}}},c=i,l=(a("ecd7"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,"7854974e",null);e["default"]=u.exports},"32d2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_chart"},[t.noData?a("div",{staticClass:"charts_item_empty"},[a("div",[t._v(t._s(t.$t("standaloneServer.noData")))])]):t._l(t.chartsData,(function(e,s){return a("div",{key:s,staticClass:"charts_item"},[a("div",{staticClass:"standaloneserver_chart_title"},[a("div",{staticClass:"standaloneserver_chart_titlel"},[t._v(t._s(t.$t("standaloneServer.flowChart")+" "+(s+1)))]),a("div",{staticClass:"standaloneserver_chart_titler"},[a("el-select",{attrs:{placeholder:t.$t("standaloneServer.placeholderSelectTime")},on:{change:function(e){return t.getChartDataFn(s)}},model:{value:t.typeArray[s].type,callback:function(e){t.$set(t.typeArray[s],"type",e)},expression:"typeArray[index].type"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),t._m(0,!0),a("div",{staticClass:"chart",attrs:{id:"myCanvas"+s}})])}))],2)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_chart_btn"},[a("div",{staticClass:"standaloneserver_chart_btnl"}),a("div",{staticClass:"standaloneserver_chart_btnr"})])}],n=(a("b0c0"),a("a9e3"),a("b85c")),o=(a("96cf"),a("1da1")),i=a("27fd"),c={data:function(){return{chartsData:[],timeArray:[],typeArray:[],options:[{value:"24",label:this.$t("standaloneServer.selectTime24")},{value:"3",label:this.$t("standaloneServer.selectTime3")},{value:"7",label:this.$t("standaloneServer.selectTime7")},{value:"30",label:this.$t("standaloneServer.selectTime30")},{value:"999",label:this.$t("standaloneServer.selectTimeAll")}],switch_id:[],name:[],noData:!1}},props:{id:{type:Number,default:0}},methods:{getId:function(){},getComponentData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["m"])(t.id);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.noData=!0,e.abrupt("return",!1);case 7:for(t.chartsData=s.data.switch?s.data.switch:[],r=0;r<t.chartsData.length;r++)t.timeArray.push({startTime:"",endTime:""}),t.typeArray.push({type:"7"}),t.switch_id.push(t.chartsData[r].switch_id),t.name.push(t.chartsData[r].name),t.getChartDataFn(r);case 9:case"end":return e.stop()}}),e)})))()},chartFunc:function(t,e,s,r,n){var o=this.$t("standaloneServer.inflow"),i=this.$t("standaloneServer.outflow"),c=a("313e"),l=c.init(document.getElementById("myCanvas"+t)),u={tooltip:{show:!0,backgroundColor:"#fff",borderColor:"#eee",showContent:!0,extraCssText:"box-shadow: 0 1px 9px rgba(0, 0, 0, 0.1);",textStyle:{color:"#1e1e2d",textBorderWidth:1},trigger:"axis",axisPointer:{color:"#D9DAEA"}},grid:{left:"5%",right:"5%",bottom:"10%",top:"8%",containLabel:!0},color:["#007bfc","#3fbf70"],xAxis:{splitLine:{show:!1},axisLine:{lineStyle:{color:"#1e1e2d"}},axisTick:{show:!1},type:"category",boundaryGap:!1,data:e},yAxis:{axisLabel:{formatter:function(t){return t+n}},axisLine:{show:!1},minorTick:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"#f5f4f8"}},type:"value"},series:[{name:o,type:"line",smooth:!0,data:s},{name:i,type:"line",smooth:!0,data:r}]};l.setOption(u,!0),window.addEventListener("resize",(function(){l.resize()})),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",(function(){l.resize()}))}))},selectTimeTypeFunc:function(t){"7"===this.typeArray[t].type?this.timeArray[t].startTime=this.$moment(Date.now()-6048e5).format("YYYY-MM-DD"):"3"===this.typeArray[t].type?this.timeArray[t].startTime=this.$moment(Date.now()-2592e5).format("YYYY-MM-DD"):"30"===this.typeArray[t].type?this.timeArray[t].startTime=this.$moment(Date.now()-2592e6).format("YYYY-MM-DD"):"24"===this.typeArray[t].type?this.timeArray[t].startTime=this.$moment(Date.now()-864e5).format("YYYY-MM-DD"):"999"===this.typeArray[t].type&&(this.timeArray[t].startTime="")},getChartDataFn:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,r,o,c,l,u,d,p,m,h,f;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.selectTimeTypeFunc(t),a.next=3,Object(i["n"])(e.id,e.switch_id[t],e.name[t],e.$moment(e.timeArray[t].startTime).valueOf());case 3:if(s=a.sent,r=s.data,200===r.status){0===r.data.traffic.length&&(e.noData=!0),o=r.data.traffic,c=[],l=[],u=[],d=[],p=[],m=Object(n["a"])(o);try{for(m.s();!(h=m.n()).done;)f=h.value,"in"===f.type?(c.push(f),u.push(e.$moment(f.time).format("MM-DD HH:mm:ss")),d.push(f.value)):"out"===f.type&&(l.push(f),p.push(f.value))}catch(v){m.e(v)}finally{m.f()}e.chartFunc(t,u,d,p,r.data.unit)}case 6:case"end":return a.stop()}}),a)})))()}},created:function(){this.getId(),this.getComponentData()}},l=c,u=(a("9793"),a("2877")),d=Object(u["a"])(l,s,r,!1,null,"6014c27e",null);e["default"]=d.exports},"34f4":function(t,e,a){},"372e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_finance"},[a("div",{staticClass:"standaloneserver_finance_pricebox"},[a("div",{staticClass:"standaloneserver_finance_pricetitle"},[a("div",{staticClass:"standaloneserver_finance_pricetitlel"},[a("span",[t._v(t._s(t.$t("standaloneServer.firstOrderPrice"))),a("b",[t._v(t._s(t.currency.prefix+" "+t.hostData.firstpaymentamount))]),t._v(t._s(t.currency.suffix))])]),a("div",{staticClass:"standaloneserver_finance_pricetitler"},["hour"===t.hostData.billingcycle?a("div",{staticClass:"standaloneserver_finance_time"},[a("span",[t._v(t._s(t.$t("standaloneServer.orderTime"))+"：")]),a("span",[t._v(t._s(t.hostData.regdate?t.$moment(1e3*t.hostData.regdate).format("YYYY-MM-DD HH:mm"):"-"))])]):a("div",{staticClass:"standaloneserver_finance_time"},[a("span",[t._v(t._s(t.$t("standaloneServer.orderTime"))+"：")]),a("span",[t._v(t._s(t.hostData.regdate?t.$moment(1e3*t.hostData.regdate).format("YYYY-MM-DD"):"-"))])]),"hour"===t.hostData.billingcycle?a("div",{staticClass:"standaloneserver_finance_time"},[a("span",[t._v(t._s(t.$t("standaloneServer.nextduedate"))+"：")]),a("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?t.$moment(1e3*t.hostData.nextduedate).format("YYYY-MM-DD HH:mm"):t.$t("standaloneServer.notDue")))]),t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle&&t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"seconds")<0?a("span",[t._v("（"+t._s(t.$t("standaloneServer.overdue"))+"）")]):a("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?"（"+t.$t("standaloneServer.left")+" "+t.overdue+"）":""))])]):a("div",{staticClass:"standaloneserver_finance_time"},[a("span",[t._v(t._s(t.$t("standaloneServer.nextduedate"))+"：")]),a("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?t.$moment(1e3*t.hostData.nextduedate).format("YYYY-MM-DD"):t.$t("standaloneServer.notDue")))]),t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle&&t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"seconds")<0?a("span",[t._v("（"+t._s(t.$t("standaloneServer.overdue"))+"）")]):a("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?"（"+t.$t("standaloneServer.left")+" "+t.overdue+"）":""))])]),t.host_cancel.init||"Active"!==t.host_data.domainstatus&&"Suspended"!==t.host_data.domainstatus?t._e():a("div",{staticClass:"mr-20 ml-10"},[0===t.host_cancel.length?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.cancelDialog=!0}}},[t._v("停用")]):a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:t.deleteCancel}},[t._v(t._s("Immediate"!==t.host_cancel.type?"到期时停用":"立即停用"))])],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"Unpaid"===t.hostData.status&&"free"!==t.hostData.billingcycle||"Paid"===t.hostData.status&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle&&("Active"===t.hostData.domainstatus||"Suspended"===t.hostData.domainstatus),expression:"(hostData.status === 'Unpaid' && hostData.billingcycle !== 'free')\n    || (hostData.status === 'Paid' && (hostData.billingcycle !== 'free' && hostData.billingcycle !== 'onetime') && (hostData.domainstatus === 'Active' || hostData.domainstatus === 'Suspended'))"}],staticClass:"standaloneserver_finance_priceform"},[a("el-form",{ref:"form",attrs:{model:t.form}},["Unpaid"===t.hostData.status?a("el-form-item",{attrs:{label:t.$t("standaloneServer.paymentCycle")}},[a("el-radio-group",{model:{value:t.form.billingcycles,callback:function(e){t.$set(t.form,"billingcycles",e)},expression:"form.billingcycles"}},[a("el-radio",{attrs:{label:t.hostData.billingcycle,border:""}},[t._v(t._s(t.hostData.billingcycle_zh))])],1)],1):"Paid"===t.hostData.status?a("el-form-item",{attrs:{label:t.$t("standaloneServer.paymentCycle")}},[a("div",{staticClass:"grid"},[a("el-radio-group",{model:{value:t.form.billingcycles,callback:function(e){t.$set(t.form,"billingcycles",e)},expression:"form.billingcycles"}},t._l(t.cycle,(function(e,s){return a("el-radio",{key:s,attrs:{label:e.billingcycle,border:""}},[t._v(" "+t._s(e.billingcycle_zh))])})),1)],1)]):t._e(),"Unpaid"===t.hostData.status?a("el-form-item",{attrs:{label:t.$t("standaloneServer.payPrice")}},[a("div",{staticClass:"renewal_price"},[a("span",[t._v(t._s(t.currency.prefix+" "+t.hostData.firstpaymentamount))]),t._v(" "+t._s(t.currency.suffix)+" / "+t._s(t.myCycle)+" ")]),a("span",{staticClass:"discount"},[t._v(" "+t._s(Number(t.hostData.saleproducts)?"(客户折扣："+t.currency.prefix+Number(t.hostData.saleproducts).toFixed(2)+t.currency.suffix+")":""))])]):"Paid"===t.hostData.status?a("el-form-item",{attrs:{label:t.$t("standaloneServer.renewalPrice")}},[a("div",{staticClass:"renewal_price"},[a("span",[t._v(t._s(t.currency.prefix+" "+t.hostData.amount))]),t._v(" "+t._s(t.currency.suffix)+" / "+t._s(t.myCycle)+" ")]),a("span",{staticClass:"discount"},[t._v(" "+t._s(Number(t.hostData.saleproducts)?"(客户折扣："+t.currency.prefix+Number(t.hostData.saleproducts).toFixed(2)+t.currency.suffix+")":""))])]):t._e()],1),"Unpaid"===t.hostData.status?a("el-button",{attrs:{type:"primary"},on:{click:t.payNow}},[t._v(t._s(t.$t("standaloneServer.payNow"))+" ")]):"Paid"===t.hostData.status?a("el-button",{attrs:{type:"primary"},on:{click:t.renew}},[t._v(" "+t._s(t.$t("standaloneServer.renewNow")))]):t._e()],1)]),a("div",{staticClass:"standaloneserver_finance_rechargebox"},[a("div",{staticClass:"standaloneserver_finance_rechargetitle"},[a("span",[t._v(t._s(t.$t("standaloneServer.transactionRecord")))]),a("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.search.input,callback:function(e){t.$set(t.search,"input",e)},expression:"search.input"}})],1),a("div",{staticClass:"standaloneserver_finance_rechargetable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}},on:{"sort-change":t.changeSort}},[a("el-table-column",{attrs:{prop:"pay_time",label:t.$t("standaloneServer.transactiondate"),sortable:"custom",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.pay_time?t.$moment(1e3*a.pay_time).format("YYYY-MM-DD"):"-")+" ")]}}])}),a("el-table-column",{attrs:{prop:"type",label:t.$t("standaloneServer.source"),sortable:"custom"}}),a("el-table-column",{attrs:{prop:"amount_in",label:t.$t("standaloneServer.price"),sortable:"custom",width:"130"}}),a("el-table-column",{attrs:{prop:"trans_id",label:t.$t("standaloneServer.serialNumber"),sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.trans_id?a.trans_id:"-")+" ")]}}])}),a("el-table-column",{attrs:{prop:"gateway",label:t.$t("standaloneServer.payMent"),sortable:"custom",width:"135"}})],1)],1),a("div",{staticClass:"standaloneserver_finance_pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","page-sizes":[10,15,20,25],"prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),a("payPop",{ref:"control",on:{"pay-success":t.paySuccess}}),a("el-dialog",{attrs:{visible:t.cancelDialog,title:"请选择您要停用并删除该产品的时间",width:"25%","before-close":t.beforeClose},on:{"update:visible":function(e){t.cancelDialog=e},open:t.cancelOpen}},[a("el-form",{ref:"cancelForm",attrs:{model:t.cancelFormData,rules:t.cancelRules,"label-width":"auto"}},[a("el-form-item",{attrs:{label:"取消时间",prop:"type"}},[a("el-select",{staticClass:"w-100",model:{value:t.cancelFormData.type,callback:function(e){t.$set(t.cancelFormData,"type",e)},expression:"cancelFormData.type"}},[a("el-option",{attrs:{value:"Immediate",label:"立即"}}),"free"!==t.host_data.billingcycle&&"onetime"!==t.host_data.billingcycle?a("el-option",{attrs:{value:"Endofbilling",label:"到期时"}}):t._e()],1)],1),a("el-form-item",{attrs:{label:"取消原因",prop:"tempReason"}},[a("el-select",{staticClass:"w-100",on:{change:function(e){t.cancelFormData.reason=""}},model:{value:t.cancelFormData.tempReason,callback:function(e){t.$set(t.cancelFormData,"tempReason",e)},expression:"cancelFormData.tempReason"}},[a("el-option",{attrs:{value:"产品稳定性不足",label:"产品稳定性不足"}}),a("el-option",{attrs:{value:"业务减少不需要",label:"业务减少不需要"}}),a("el-option",{attrs:{value:"other",label:"其他"}})],1)],1),"other"===t.cancelFormData.tempReason?a("el-form-item",{attrs:{label:"",prop:"reason"}},[a("el-input",{staticClass:"w-100",attrs:{type:"textarea",placeholder:"请输入原因"},model:{value:t.cancelFormData.reason,callback:function(e){t.$set(t.cancelFormData,"reason",e)},expression:"cancelFormData.reason"}})],1):t._e()],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.beforeClose}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.cancelSubmit}},[t._v("确定")])],1)],1)],1)},r=[],n=(a("4de4"),a("ac1f"),a("5319"),a("841c"),a("96cf"),a("1da1")),o=a("27fd"),i=a("048a"),c=a("92b1"),l=a("2ef0"),u={data:function(){return{overdue:0,hostData:{firstpaymentamount:"0.00",amount:"0.00"},host_data:{domainstatus_desc:""},currency:{prefix:"￥",suffix:"元"},cycle:[],myCycle:"",page:1,limit:20,total:0,orderby:"trans_id",sort:"desc",search:{input:"",timer:null},tableData:[],form:{hostid:0,billingcycles:""},host_cancel:{init:!0},cancelDialog:!1,cancelFormData:{id:this.$route.query.id,type:void 0,reason:"",tempReason:void 0},cancelRules:{type:[{required:!0,message:"请选择时间",trigger:"change"}],reason:[{required:!0,message:"请输入原因",trigger:"blur"}],tempReason:[{required:!0,message:"请选择原因",trigger:"change"}]}}},components:{payPop:c["a"]},methods:{getId:function(){this.pid=this.$route.query.id},getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["w"])(t.pid);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:t.host_data=s.data.host_data,t.host_cancel=s.data.host_cancel;case 9:case"end":return e.stop()}}),e)})))()},getPriceData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["u"])(t.pid);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:if(t.hostData=s.data.host,t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?(t.overdue=t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"days")+t.$t("standaloneServer.day"),0===parseInt(t.overdue)&&(t.overdue=t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"hours")+t.$t("standaloneServer.hour"))):t.overdue="",t.currency=s.data.currency,t.cycle=s.data.cycle,"free"!==s.data.host.billingcycle){e.next=13;break}return e.abrupt("return",!1);case 13:if("ontrial"!==s.data.host.billingcycle){e.next=16;break}return t.form.billingcycles=s.data.cycle[0].billingcycle,e.abrupt("return",!1);case 16:t.form.billingcycles=s.data.host.billingcycle;case 17:case"end":return e.stop()}}),e)})))()},getRechargeList:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["t"])(t.pid,t.page,t.limit,t.orderby,t.sort,t.search.input);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:t.tableData=s.data.invoices,t.total=s.data.count;case 9:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.limit=t,this.getRechargeList()},handleCurrentChange:function(t){this.page=t,this.getRechargeList()},changeSort:function(t){"descending"===t.order?(this.orderby=t.prop,this.sort="desc"):(this.orderby=t.prop,this.sort="asc"),this.getRechargeList()},getPrice:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["u"])(e.pid,t);case 2:if(s=a.sent,r=s.data,200===r.status){a.next=7;break}return e.$message.error(r.msg),a.abrupt("return",!1);case 7:e.hostData=r.data.host,e.hostData.amount=r.data.host.amount;case 9:case"end":return a.stop()}}),a)})))()},renew:l.debounce(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.form.hostid=this.pid,t.next=3,Object(o["J"])(this.form);case 3:if(e=t.sent,a=e.data,1001!==a.status){t.next=9;break}return this.$message.success(a.msg),this.getPriceData(),t.abrupt("return");case 9:if(200===a.status){t.next=12;break}return this.$message({type:"error",message:a.msg,center:!0}),t.abrupt("return",!1);case 12:this.$refs.control.startPay({id:a.data.invoiceid,name:this.$t("standaloneServer.renew")});case 13:case"end":return t.stop()}}),t,this)}))),200),payNow:l.debounce((function(){this.$refs.control.startPay({id:this.hostData.id,name:this.$t("standaloneServer.pay")})}),200),paySuccess:function(t){t&&this.getPriceData()},cancelSubmit:function(){var t=this,e="";e="Immediate"===this.cancelFormData.type?"这将会立刻删除您的产品，操作不可逆，所有数据丢失":"产品将会在到期当天被立刻删除，操作不可逆，所有数据丢失","other"!==this.cancelFormData.tempReason&&(this.cancelFormData.reason=this.cancelFormData.tempReason),this.$refs.cancelForm.validate((function(a){if(!a)return!1;t.cancelDialog=!1,t.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(t.cancelFormData);case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.getData(),t.$message.success(s.msg),t.$store.dispatch("addHostDataUpdate",t.pid));case 5:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}))},cancelOpen:function(){this.cancelFormData.type=void 0,this.cancelFormData.tempReason=void 0,this.cancelFormData.reason=""},beforeClose:function(){var t=this;this.$refs.cancelForm.resetFields(),setTimeout((function(){t.$refs.cancelForm.clearValidate(),t.cancelDialog=!1}),100)},deleteCancel:function(){var t=this,e="";e="Immediate"!==this.host_cancel.type?"您已选择到期时自动删除产品，当前可关闭停用设置，是否关闭？":"您已选择立刻删除产品，当前可关闭停用设置，是否关闭？",this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["e"])({id:t.pid});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.getData(),t.$message.success(s.msg));case 5:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.getId(),this.getData(),this.getPriceData(),this.getRechargeList()},watch:{"form.billingcycles":{handler:function(t){var e=this.cycle.filter((function(e){return e.billingcycle===t}));this.myCycle=e[0].billingcycle_zh.replace("付",""),this.getPrice(t)},deep:!0},"search.input":{handler:function(){var t=this;this.search.timer&&clearTimeout(this.search.timer),this.search.timer=setTimeout((function(){t.getRechargeList()}),200)},deep:!0}}},d=u,p=(a("814a"),a("2877")),m=Object(p["a"])(d,s,r,!1,null,"bbd20174",null);e["default"]=m.exports},"37b2":function(t,e,a){"use strict";var s=a("d700"),r=a.n(s);r.a},"3adc":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[t.configs.length?t._e():a("div",{staticClass:"tac"},[t._v(t._s(t.$t("standaloneServer.noUpDownProduct")))]),t._l(t.configs,(function(e,s){return a("div",{key:"config"+s,staticClass:"upgrade_configitem_box mb-20"},[e.option_name?a("el-row",[a("el-col",{attrs:{span:8}},[a("div",[t._v(" "+t._s(e.option_name)+" : "),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("span",[t._v(t._s(e.qty_zh)+" "),4===e.option_type||15===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("核心")]):t._e(),9===e.option_type||17===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e()]):a("span",[t._v(t._s(e.suboption_name))]),a("span",{staticClass:"fr"},[t._v(">>>")])])]),a("el-col",{attrs:{span:16}},[1===e.option_type?a("div",{staticClass:"pl-20"},[a("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},t._l(e.sub,(function(t){return a("el-option",{key:t.id,attrs:{label:t.option_name,value:t.id}})})),1)],1):t._e(),2===e.option_type?a("div",{staticClass:"pl-20"},t._l(e.sub,(function(s,r){return a("el-radio",{key:"Radio"+r,attrs:{label:s.id},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},[t._v(t._s(s.option_name))])})),1):t._e(),3===e.option_type?a("div",{staticClass:"pl-20"},t._l(e.sub,(function(s,r){return a("el-checkbox",{key:"yes/no"+r,attrs:{"true-label":s.id,"false-label":void 0},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},[t._v(t._s(s.option_name)+" ")])})),1):t._e(),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("div",{staticClass:"quantity_box"},[a("el-slider",{staticClass:"fl quantity_box_slider",attrs:{min:e.qty_minimum,max:e.qty_maximum},on:{change:function(e){t.nextDisable=!1}},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"configItem.qty"}}),a("div",{staticClass:"fr quantity_box_input"},[a("el-input-number",{staticClass:"quantity_input",attrs:{controls:!1,precision:0,min:e.qty_minimum,max:e.qty_maximum},on:{change:function(e){t.nextDisable=!1}},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"configItem.qty"}}),4===e.option_type||15===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("核心")]):t._e(),9===e.option_type||17===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e()],1)],1):t._e(),5===e.option_type?a("div",{staticClass:"pl-20"},[a("el-select",{staticStyle:{"margin-right":"10px","margin-bottom":"10px"},attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(a){return t.osSelectChange(e.osName)}},model:{value:e.osName,callback:function(a){t.$set(e,"osName",a)},expression:"configItem.osName"}},t._l(e.sub,(function(t,e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),a("el-select",{staticStyle:{"margin-bottom":"10px",width:"300px"},attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},t._l(e.osVersionOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.version,value:t.id}})})),1)],1):t._e(),6===e.option_type||8===e.option_type||10===e.option_type||13===e.option_type?a("div",{staticClass:"pl-20",staticStyle:{"padding-top":"5px"},attrs:{span:24}},t._l(e.sub,(function(s,r){return a("div",{key:r,staticClass:"select_block_item",class:{block_item_active:s.id===e.subid},on:{click:function(a){return t.selectBlockChange(e,s)}}},[t._v(" "+t._s(s.option_name)+" ")])})),0):t._e(),12===e.option_type?a("div",{staticClass:"pl-20",attrs:{span:24}},[a("div",{staticClass:"country_box"},t._l(e.sub,(function(s,r){return a("div",{key:r,staticClass:"country_item fl",class:{country_item_active:s.active,country_item_noarea:s.noarea},on:{click:function(a){return t.cityChange(e,s,t.configs)}}},[a("div",{staticClass:"country_item_innerbox"},[a("img",{staticClass:"country_item_flag",attrs:{src:"/upload/common/country/"+s.country_code+".png",alt:""}}),a("div",{staticClass:"country_item_name"},[t._v(t._s(s.city))])]),s.noarea?t._e():a("div",[a("el-select",{attrs:{size:"mini",disabled:!s.active||1===s.area.length&&""===s.area[0].area},model:{value:s.areaId,callback:function(e){t.$set(s,"areaId",e)},expression:"cityItem.areaId"}},t._l(s.area,(function(t,e){return a("el-option",{key:e,attrs:{label:t.area_zh,value:t.id}})})),1)],1)])})),0)]):t._e()])],1):t._e()],1)})),t.configs.length?a("div",{staticClass:"tar"},[a("el-button",{attrs:{type:"primary",disabled:t.nextDisable},on:{click:t.nextHandleClick}},[t._v(t._s(t.$t("standaloneServer.next"))+" ")])],1):t._e()],2)},r=[],n=(a("4160"),a("caad"),a("d81d"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("5319"),a("4c53"),a("159b"),a("96cf"),a("1da1")),o=a("27fd"),i={data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,configs:[1],upgradeSubmitData:{hid:this.$route.query.id,currencyid:void 0,promo_code:void 0,configoption:[]},nextDisable:!0}},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["M"])({hid:t.id,currencyid:void 0});case 2:a=e.sent,s=a.data,200!==s.status||((s.data.host||[]).forEach((function(e){if(5===e.option_type)for(var a in e.sub)e.sub[a].osName=a;else 12===e.option_type?(e.sub=t.objToArr(e.sub,"dataCenter"),(e.sub||[]).forEach((function(t){var a=t.area.map((function(t){return t.id}));a.includes(e.subid)?(t.active=!0,t.areaId=e.subid):t.active=!1,t.noarea=!0,(t.area||[]).forEach((function(e){""===e.area?e.area_zh="无配置区域":t.noarea=!1}))}))):[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)&&(e.qty_zh=e.qty)})),t.configs=s.data.host,t.osSelectChange(void 0,!0));case 5:case"end":return e.stop()}}),e)})))()},objToArr:function(t,e){var a=[];for(var s in t)"dataCenter"===e?(t[s].id=this.guid(),t[s].active=!1,t[s].city=s,t[s].areaId=void 0):t[s].osName=s,a.push(t[s]);return a},guid:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"===t?e:3&e|8;return a.toString(16)}))},osSelectChange:function(t,e){var a=this;(this.configs||[]).forEach((function(s){if(5!==s.option_type)return!1;var r=function(r){t===r&&(s.subid=s.sub[r].child[0].id,s.osVersionOptions=s.sub[r].child),e?(s.sub[r].child||[]).forEach((function(t){s.subid===t.id&&(s.osName=r,s.osVersionOptions=s.sub[r].child)})):a.nextDisable=!1};for(var n in s.sub)r(n)}))},selectBlockChange:function(t,e){t.subid=e.id,this.$forceUpdate(),this.nextDisable=!1},cityChange:function(t,e,a){var s=this;this.nextDisable=!1,(a||[]).forEach((function(a){12===a.option_type&&t.oid===a.oid&&(a.sub||[]).forEach((function(t){e.id!==t.id?(t.areaId=void 0,t.active=!1):(t.areaId=t.area.length?t.area[0].id:void 0,s.areaChange(a,t),t.active=!0),s.$forceUpdate()}))}))},areaChange:function(t,e){t.subid=e.areaId},nextHandleClick:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeSubmitData.configoption=[],(t.configs||[]).forEach((function(e){[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?t.upgradeSubmitData.configoption[e.oid]=e.qty:t.upgradeSubmitData.configoption[e.oid]=e.subid})),e.next=4,Object(o["O"])(t.$qs.stringify(t.upgradeSubmitData));case 4:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):t.$emit("nextClick");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.getData()}},c=i,l=(a("3d88"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,"7d39ae71",null);e["default"]=u.exports},"3d88":function(t,e,a){"use strict";var s=a("9645"),r=a.n(s);r.a},"4a89":function(t,e,a){},"4c8e":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flow-echarts"},[a("div",{staticClass:"head"},[a("el-row",{staticClass:"limit-data-pick"},[a("el-col",{attrs:{xs:24,lg:12}},[t.moduleChart.select&&t.moduleChart.select.length>0?a("el-select",{attrs:{placeholder:t.$t("cloudServer.pleaseSelect")},on:{change:t.changeSelect},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},t._l(t.moduleChart.select,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),1):"serveNetwork"===t.type?a("el-select",{attrs:{placeholder:t.$t("cloudServer.pleaseSelect")},model:{value:t.timeType,callback:function(e){t.timeType=e},expression:"timeType"}},[a("el-option",{key:"1",attrs:{label:t.$t("cloudServer.recently24H"),value:"1"}}),a("el-option",{key:"2",attrs:{label:t.$t("cloudServer.d7"),value:"2"}}),a("el-option",{key:"3",attrs:{label:t.$t("cloudServer.duringMonth"),value:"3"}}),a("el-option",{key:"4",attrs:{label:t.$("cloudServer.inLast30Days"),value:"4"}})],1):t._e()],1),a("el-col",{staticClass:"mobile-mt10",attrs:{xs:24,lg:12}},[a("el-date-picker",{style:{width:"100%"},attrs:{type:"datetimerange","range-separator":t.$t("cloudServer.to"),"start-placeholder":t.$t("cloudServer.startTime"),"end-placeholder":t.$t("cloudServer.endTime"),"value-format":"timestamp","picker-options":t.pickerOptions,format:"MM-dd"},on:{change:t.changeDateTime},model:{value:t.dateTime,callback:function(e){t.dateTime=e},expression:"dateTime"}})],1)],1)],1),a("div",{staticClass:"flowEcharts",attrs:{id:t.type}}),"cloudNetwork"===t.type?a("div",{staticClass:"fix-cont"},[a("el-row",[a("el-col",{attrs:{span:3,offset:7}},[a("div",{staticStyle:{height:"20px"}}),a("div",[t._v(t._s(t.$t("cloudServer.intoTraffic")))]),a("div",[t._v(t._s(t.$t("cloudServer.flow")))])]),a("el-col",{attrs:{span:3}},[a("div",[t._v(t._s(t.$t("cloudServer.latestTraffic")))]),a("div",[t._v(t._s(t.netDetail.accept.new))]),a("div",[t._v(t._s(t.netDetail.send.new))])]),a("el-col",{attrs:{span:3}},[a("div",[t._v(t._s(t.$t("cloudServer.averageFlowRate")))]),a("div",[t._v(t._s(t.netDetail.accept.average))]),a("div",[t._v(t._s(t.netDetail.send.average))])]),a("el-col",{attrs:{span:3}},[a("div",[t._v(t._s(t.$t("cloudServer.maximumFlow")))]),a("div",[t._v(t._s(t.netDetail.accept.max))]),a("div",[t._v(t._s(t.netDetail.send.max))])])],1)],1):t._e()])},r=[],n=(a("4160"),a("a9e3"),a("ac1f"),a("1276"),a("159b"),a("96cf"),a("1da1")),o=a("b85c"),i=a("048a"),c=a("313e"),l=a.n(c),u=null,d={props:{moduleChart:{type:Object,default:null},hostId:{type:Number,default:0},toDayDate:{type:Number,value:0}},data:function(){return{chart_type:"",dateTime:[],xData:[],yData:[],yMax:100,dataGreen:[],labelGreen:"",type:"",dataBlue:[],labelBlue:"",dataYellow:[],labelYellow:"",unit:"%",diskDev:"",select:"",networkKey:0,nodeDisk:"",nodeNetwork:"",echartsId:"",dataGreen2:[],labelGreen2:"",dataBlue2:[],labelBlue2:"",timeType:0,subtext:"",netDetail:{accept:{total:0,max:0,new:0,average:0},send:{total:0,max:0,new:0,average:0}},pickerOptions:{disabledDate:function(t){var e=u.toDayDate;return t.getTime()-new Date(e).getTime()+864e5<0||t.getTime()-(new Date).getTime()>=0}},pending:{}}},computed:{option:function(){var t={title:{subtext:0===this.xData.length?"暂无数据":this.subtext,left:"center",textAlign:"left",subtextStyle:{lineHeight:350}},grid:{left:"20",right:"40",top:"10%",bottom:"1%",containLabel:!0},xAxis:{type:"category",data:this.xData,axisTick:!1,boundaryGap:this.dataBlue.length<=3,axisLabel:{textStyle:{color:"#666"},formatter:function(t){for(var e=t.split(""),a="",s=0,r="";s<e.length+1;r=e[s++])a+=r,s%10||(a+="\n");return a}},axisLine:{lineStyle:{color:"#EBEEF5"}},splitLine:{show:!1}},yAxis:{type:"value",axisTick:!1,max:this.yMax,boundaryGap:!1,axisLine:{lineStyle:{color:"#EBEEF5"}},axisLabel:{formatter:"{value} "+this.unit,textStyle:{color:"#666"}},splitLine:{show:!1}},dataZoom:[{type:"inside",throttle:50}],tooltip:{trigger:"axis",backgroundColor:"#fff",textStyle:{color:"#000"},extraCssText:"box-shadow:0 2px 12px 0 rgba(0, 0, 0, 0.1);"},series:[{name:this.labelGreen,data:this.dataGreen,itemStyle:{color:"#3fbf70"},symbol:1===this.dataGreen.length||"none",type:"line",sampling:!0},{name:this.labelBlue,data:this.dataBlue,itemStyle:{color:"#007bfc"},symbol:1===this.dataBlue.length||"none",type:"line",sampling:!0},{name:this.labelYellow,data:this.dataYellow,itemStyle:{color:"#E6A23C"},symbol:"none",type:"line",sampling:!0},{name:this.labelGreen2,type:"bar",stack:"总量",barWidth:"8",itemStyle:{color:"#3fbf70"},roundCap:!0,data:this.dataGreen2},{name:this.labelBlue2,type:"bar",stack:"总量",itemStyle:{color:"#007bfc"},roundCap:!0,data:this.dataBlue2}]};return"area"===this.chart_type&&(t.series[0].stack="总量",t.series[1].stack="总量",t.series[0].areaStyle={},t.series[1].areaStyle={}),t}},watch:{timeType:function(t){if(""===t){var e=(new Date).getTime(),a=e-2592e6;this.dateTime=[new Date(a),new Date(e)]}else if(1===t){var s=(new Date).getTime(),r=new Date(new Date((new Date).toLocaleDateString()).getTime());this.dateTime=[new Date(r),new Date(s)]}else if(2===t){var n=(new Date).getTime(),o=n-6048e5;this.dateTime=[new Date(o),new Date(n)]}else if(3===t){var i=(new Date).getTime(),c=new Date;c.setDate(1);var l=new Date(new Date(c).toLocaleDateString()).getTime();this.dateTime=[new Date(l),new Date(i)]}else if(4===t){var u=(new Date).getTime(),d=u-2592e6;this.dateTime=[new Date(d),new Date(u)]}"serveNetwork"===this.type&&this.changeSelect()}},created:function(){u=this},mounted:function(){var t=document.getElementsByClassName("el-tabs__content")[0],e=t.clientWidth||t.offsetWight,a=document.getElementsByClassName("flowEcharts"),s=document.body.clientWidth;if(s<1400){var r,n=Object(o["a"])(a);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.style.width=e/1-22+"px"}}catch(d){n.e(d)}finally{n.f()}}else{var c,l=Object(o["a"])(a);try{for(l.s();!(c=l.n()).done;){var u=c.value;u.style.width=e/2-22+"px"}}catch(d){l.e(d)}finally{l.f()}}},methods:{resize:function(t){var e,a=document.getElementsByClassName("flowEcharts"),s=Object(o["a"])(a);try{for(s.s();!(e=s.n()).done;){var r=e.value;r.style.width="100%"}}catch(n){s.e(n)}finally{s.f()}this.echartsId=l.a.init(document.getElementById(t)),this.echartsId.resize()},changeSelect:function(){this.getData()},init:function(){var t=this,e=(new Date).getTime(),a=0;a=u.toDayDate?new Date(u.toDayDate).getTime()>e-6048e5?new Date(u.toDayDate).getTime():6048e5:e-6048e5,this.dateTime=[new Date(a),new Date(e)],this.xData=[],this.yData=[],this.dataGreen=[],this.labelGreen="",this.dataBlue=[],this.labelBlue="",this.dataYellow=[],this.labelYellow="",this.dataGreen2=[],this.labelGreen2="",this.dataBlue2=[],this.labelBlue2="",this.yMax=null,this.timeType=0,this.subtext="",this.netDetail={accept:{total:0,max:0,new:0,average:0},send:{total:0,max:0,new:0,average:0}},this.select=this.moduleChart.select&&this.moduleChart.select.length>0?this.moduleChart.select[0].value:"",this.getData(),setTimeout((function(){t.echartsId=l.a.init(document.getElementById(t.type))}),0)},changeDateTime:function(){this.getData()},canvasChart:function(){var t=this.echartsId;t.setOption(this.option,!0)},getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=[[],[],[]],t.xData=a[0],t.dataBlue=a[1],t.dataGreen=a[2],s={hostId:t.hostId,type:t.type,select:t.select,start:new Date(t.dateTime[0]).getTime(),end:new Date(t.dateTime[1]).getTime()},e.next=8,Object(i["j"])(s);case 8:if(r=e.sent,n=r.data,200===n.status){e.next=13;break}return t.$message.error(n.msg),e.abrupt("return",!1);case 13:t.chart_type=n.data.chart_type,"%"===n.data.unit&&(t.yMax="100"),t.unit=n.data.unit,t.labelBlue=n.data.label[0],n.data.list.length>0&&n.data.list[0].forEach((function(e){t.dataBlue.push(e.value),t.xData.push(e.time)})),n.data.list.length>1&&(t.labelGreen=n.data.label[1],n.data.list[1].forEach((function(e){t.dataGreen.push(e.value)})));case 19:return e.prev=19,t.canvasChart(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,,19,22]])})))()}}},p=d,m=(a("7ca5"),a("2877")),h=Object(m["a"])(p,s,r,!1,null,"09ed1ca4",null);e["a"]=h.exports},"4f94":function(t,e,a){},"57a3":function(t,e,a){},"654a":function(t,e,a){},"7ca5":function(t,e,a){"use strict";var s=a("0309"),r=a.n(s);r.a},"814a":function(t,e,a){"use strict";var s=a("654a"),r=a.n(s);r.a},8666:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standlone_server_list layout_card"},[a("div",{staticClass:"page-title"},[t._v(t._s(t.group.groupname))]),a("div",{staticClass:"standlone_server_list_box"},[a("div",{staticClass:"standlone_server_list_header"},[a("div",{staticClass:"selectBox"},[a("div",{staticClass:"select"},[a("el-select",{attrs:{placeholder:t.$t("standaloneServer.placeholderSelect"),clearable:""},on:{change:t.changeArea},model:{value:t.areaValue,callback:function(e){t.areaValue=e},expression:"areaValue"}},[t.areaValue?a("template",{slot:"prefix"},[a("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:"/upload/common/country/"+t.showArea+".png",alt:""}})]):t._e(),t._l(t.areaOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.code+"-"+e.name}},[a("div",{staticClass:"select_box"},[a("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:"/upload/common/country/"+e.code+".png",alt:""}}),t._v(t._s(e.name))])])}))],2)],1),a("div",{staticClass:"mulselect"},[a("el-select",{attrs:{slot:"reference",multiple:"",clearable:"",placeholder:t.$t("standaloneServer.placeholderMulSelect")},on:{change:t.changeStatus},slot:"reference",model:{value:t.selectStatus,callback:function(e){t.selectStatus=e},expression:"selectStatus"}},t._l(t.statusOptions,(function(t){return a("el-option",{key:t.value,style:"color:"+t.color,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticClass:"mulselect-m",staticStyle:{width:"100%"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{slot:"reference",multiple:"",clearable:"",placeholder:t.$t("standaloneServer.placeholderMulSelect")},on:{change:t.changeStatus},slot:"reference",model:{value:t.selectStatus,callback:function(e){t.selectStatus=e},expression:"selectStatus"}},t._l(t.statusOptions,(function(t){return a("el-option",{key:t.value,style:"color:"+t.color,attrs:{label:t.label,value:t.value}})})),1)],1)]),a("div",{staticClass:"search"},[a("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.search.input,callback:function(e){t.$set(t.search,"input",e)},expression:"search.input"}})],1)]),a("div",{staticClass:"standlone_server_list_table"},[a("el-table",{ref:"serverTableRef",staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}},on:{"sort-change":t.changeSort,"selection-change":t.tableSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"45"}}),a("el-table-column",{attrs:{prop:"domainstatus",label:t.$t("standaloneServer.domainstatus"),align:"center",sortable:"custom",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"status_box",class:s.loadingStatus?"status_box_anm":""},["Active"===s.domainstatus?a("div",{staticClass:"active_color"},[t._v(t._s(s.domainstatus_desc))]):t._e(),"Active"===s.domainstatus?a("div",{staticClass:"dots-box"},["on"===s.powerStatus?a("el-tooltip",{attrs:{content:s.powerStatusMsg,placement:"right",effect:"light"}},[a("div",{staticClass:"dots on_color",on:{click:function(e){return t.singlePowerRefresh(s)}}})]):"off"===s.powerStatus?a("el-tooltip",{attrs:{content:s.powerStatusMsg,placement:"right",effect:"light"}},[a("div",{staticClass:"dots off_color",on:{click:function(e){return t.singlePowerRefresh(s)}}})]):"error"===s.powerStatus?a("el-tooltip",{attrs:{content:s.powerStatusMsg,placement:"right",effect:"light"}},[a("div",{staticClass:"dots error_color",on:{click:function(e){return t.singlePowerRefresh(s)}}})]):"not_support"===s.powerStatus?a("el-tooltip",{attrs:{content:s.powerStatusMsg,placement:"right",effect:"light"}},[a("div",{staticClass:"dots not_support_color",on:{click:function(e){return t.singlePowerRefresh(s)}}})]):s.powerStatusLoading?a("div",{staticClass:"el-icon-loading",staticStyle:{color:"#333"}}):t._e()],1):"Pending"===s.domainstatus?a("div",{staticClass:"pengding_color"},[t._v(t._s(s.domainstatus_desc))]):"Cancelled"===s.domainstatus?a("div",{staticClass:"cancelled_color"},[t._v(t._s(s.domainstatus_desc)+" ")]):"Suspended"===s.domainstatus?a("div",{staticClass:"suspended_color"},[t._v(t._s(s.domainstatus_desc)+" ")]):"Deleted"===s.domainstatus?a("div",{staticClass:"terminated_color"},[t._v(t._s(s.domainstatus_desc))]):"Fraud"===s.domainstatus?a("div",{staticClass:"fraud_color"},[t._v(t._s(s.domainstatus_desc))]):t._e()])]}}])}),a("el-table-column",{attrs:{prop:"productname",label:t.$t("standaloneServer.productname"),width:"350",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"product_box"},[a("div",{staticClass:"ip_box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"hover",disabled:""===s.area_code}},[a("div",{staticClass:"area_name_box"},[t._v(t._s(s.area_name))]),a("div",{attrs:{slot:"reference"},slot:"reference"},[s.area_code?a("img",{attrs:{src:"/upload/common/country/"+s.area_code+"-y.png",alt:""}}):t._e()])]),a("el-link",{on:{click:function(e){return t.goToView(s)}}},[t._v(t._s(s.productname))])],1),a("div",{staticStyle:{color:"#ccc"}},[t._v(t._s(s.domain))])])]}}])}),a("el-table-column",{attrs:{prop:"dedicatedip",label:"IP",width:"175",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[s.dedicatedip?a("div",[a("el-popover",{staticClass:"popStyle",attrs:{placement:"bottom",width:"168",trigger:"hover",disabled:0===s.assignedips.length}},[a("div",{staticClass:"popStyle"},[a("span",{ref:s.assignedips,staticClass:"popSpanStyle",attrs:{"data-clipboard-text":s.dedicatedip+","+s.assignedips},on:{mouseenter:function(e){return t.clickCopy(s.assignedips)},click:function(e){return t.clickCopy(s.assignedips)}}},[t._v("复制")])]),a("ul",{staticClass:"item_ip"},[a("li",[t._v(t._s(s.dedicatedip))]),t._l(s.assignedips,(function(e,s){return a("li",{key:s},[t._v(t._s(e))])}))],2),a("div",{attrs:{slot:"reference"},slot:"reference"},[a("el-link",{on:{click:function(e){return t.goToView(s)}}},[t._v(t._s(s.dedicatedip)+" "),[a("span",{staticStyle:{color:"#007bfc"}},[t._v(" "+t._s("("+parseInt(s.assignedips.length+1)+")")+" ")])]],2)],1)])],1):a("div",[a("span",[t._v(" - ")])])]}}])}),a("el-table-column",{attrs:{prop:"nextduedate",label:t.$t("standaloneServer.nextduedate"),align:"center",sortable:"custom",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return["hour"===s.billingcycle?a("span",[t._v(" "+t._s(s.nextduedate&&"free"!==s.billingcycle&&"onetime"!==s.billingcycle?t.$moment(1e3*s.nextduedate).format("YYYY-MM-DD HH:mm"):t.$t("standaloneServer.noDate"))+" ")]):a("span",[t._v(" "+t._s(s.nextduedate&&"free"!==s.billingcycle&&"onetime"!==s.billingcycle?t.$moment(1e3*s.nextduedate).format("YYYY-MM-DD"):t.$t("standaloneServer.noDate"))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"amount",label:t.$t("standaloneServer.amount"),width:"210",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return["free"!==s.billingcycle&&"ontrial"!==s.billingcycle?a("div",[a("span",[t._v(t._s(s.price_desc))]),t._v(" / "),a("span",[t._v(t._s(t._f("cutFu")(s.cycle_desc)))])]):a("div",[t._v(t._s(s.cycle_desc))])]}}])}),a("el-table-column",{attrs:{prop:"os",label:t.$t("standaloneServer.os"),width:"130",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[s.svg?a("div",{staticClass:"system_box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"hover",disabled:""===s.os}},[t._v(" "+t._s(s.os)+" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[a("img",{attrs:{src:"/upload/common/system/"+s.svg+".svg",alt:""}}),t._v(t._s(t._f("osFilter")(s.svg))+" ")])])],1):a("div",{staticClass:"system_box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"hover",disabled:""===s.os}},[t._v(" "+t._s(s.os)+" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[a("img",{attrs:{src:"/upload/common/system/"+t.getOsSvg(s.os_url)+".svg",alt:""}}),t._v(t._s(s.os_url)+" ")])])],1)]}}])}),a("el-table-column",{attrs:{prop:"notes",label:t.$t("standaloneServer.remark"),align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"table_notebox",on:{click:function(e){return t.showDialog(s)}}},[a("span",[t._v(t._s(s.notes?s.notes:"-"))]),a("i",{staticClass:"el-icon-edit"})])]}}])}),a("el-table-column",{attrs:{label:t.$t("standaloneServer.operate"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.goToView(s)}}},[t._v("管理")])]}}])})],1)],1),a("div",{staticClass:"bottomBtn"},[t.tableData.length?a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.goToMulBilling}},[t._v(t._s(t.$t("standaloneServer.renew"))+" ")]):t._e()],1),a("el-dialog",{attrs:{title:t.$t("standaloneServer.dialogEditRemark"),visible:t.editNoteDialogVisible,width:"500px"},on:{"update:visible":function(e){t.editNoteDialogVisible=e}}},[a("el-form",{ref:"editNoteFormRef",attrs:{model:t.editNoteForm}},[a("el-form-item",{attrs:{label:t.$t("standaloneServer.remark")}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:1}},model:{value:t.editNoteForm.remark,callback:function(e){t.$set(t.editNoteForm,"remark",e)},expression:"editNoteForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelNotes}},[t._v(t._s(t.$t("btnCancle")))]),a("el-button",{attrs:{type:"primary"},on:{click:t.editNote}},[t._v(t._s(t.$t("btnConfirmation")))])],1)],1),a("div",{staticClass:"standlone_server_list_page"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"page-sizes":[10,15,20,25],"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},r=[],n=(a("4de4"),a("4160"),a("c975"),a("b0c0"),a("ac1f"),a("8a79"),a("841c"),a("1276"),a("2ca0"),a("159b"),a("96cf"),a("1da1")),o=a("b311"),i=a.n(o),c=a("27fd"),l=a("2ef0"),u={metaInfo:function(){return{title:this.group.groupname,htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},data:function(){return{groupid:this.$route.query.groupid,tableData:[],page:1,limit:20,total:0,orderby:"id",sort:"desc",search:{input:"",timer:null},dcim_area:"",editNoteForm:{id:0,remark:""},editNoteDialogVisible:!1,areaValue:"",areaOptions:[],showArea:"",selectStatus:["Active","Pending","Suspended"],statusOptions:[{value:"Pending",label:"待开通",color:"#fca426"},{value:"Active",label:"已激活",color:"#3fbf70"},{value:"Fraud",label:"有欺诈",color:"#FF0000"},{value:"Deleted",label:"被删除",color:"#2d2d2d"},{value:"Suspended",label:"已暂停",color:"#e31519"}],tableMul:[],idMul:[],group:{fa_icon:"",groupname:"",id:0}}},methods:{clickCopy:function(t){var e=this,a=0,s=new i.a(this.$refs[t]);s.on("success",(function(t){e.$message.success("复制成功"),a++,a>1&&s.destroy()})),s.on("error",(function(t){e.$message.error("复制失败")}))},getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["p"])(t.groupid,t.page,t.limit,t.orderby,t.sort,t.search.input,t.dcim_area,t.selectStatus);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=6;break}return e.abrupt("return",!1);case 6:for(n in s.data.list.forEach((function(t){t.loadingStatus=!1,t.powerStatus="",t.powerStatusMsg="",t.powerStatusLoading=!1})),t.tableData=s.data.list,t.page=s.data.page,t.limit=s.data.limit,t.total=s.data.sum,t.orderby=s.data.orderby,t.areaOptions=s.data.area,r=s.data.domainstatus,t.statusOptions=[],r)o={value:n,label:r[n].name,color:r[n].color},t.statusOptions.push(o);t.getOperStatusFunc(s.data.list),t.refreshStatus(s.data.list),s.group&&(t.group=s.group);case 19:case"end":return e.stop()}}),e)})))()},getOperStatusFunc:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r,n,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t,r=[],t.forEach((function(t){"Active"===t.domainstatus&&0!==t.dcimid&&r.push(t.id)})),a.next=5,Object(c["r"])(r);case 5:n=a.sent,o=n.data,200===o.status&&0!==o.data.length?(i=o.data,i.forEach((function(t){s.forEach((function(e){e.id===t&&(e.loadingStatus=!0)}))}))):s.forEach((function(t){t.loadingStatus=!1})),e.tableData=s;case 9:case"end":return a.stop()}}),a)})))()},handleSizeChange:function(t){this.limit=t,this.getData()},handleCurrentChange:function(t){this.page=t,this.getData()},changeSort:function(t){"descending"===t.order?(this.orderby=t.prop,this.sort="desc"):(this.orderby=t.prop,this.sort="asc"),this.page=1,this.getData()},changeArea:function(t){var e=t.split("-");this.showArea=e[0]?e[0]:"",this.dcim_area=e[1],this.getData()},changeStatus:function(t){this.selectStatus=t,this.getData()},showDialog:function(t){this.editNoteForm.id=t.id,this.editNoteForm.remark=t.notes,this.editNoteDialogVisible=!0},editNote:l.debounce(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["k"])(this.editNoteForm);case 2:if(a=t.sent,s=a.data,200===s.status){t.next=7;break}return this.$message({type:"error",message:s.msg,center:!0}),t.abrupt("return",!1);case 7:this.$message({type:"success",message:s.msg,center:!0}),this.editNoteDialogVisible=!1,this.getData();case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),700),cancelNotes:function(){this.$refs.editNoteFormRef.resetFields(),this.editNoteDialogVisible=!1},clickOn:function(t){var e=this;this.$swal.fire({title:this.$t("standaloneServer.sureOn"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(s){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s.value){a.next=7;break}return e.$swal("",e.$t("standaloneServer.loadingOn"),"success"),a.next=4,Object(c["C"])(t);case 4:r=a.sent,n=r.data,e.totalFunc(n);case 7:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},clickClose:function(t){var e=this;this.$swal.fire({title:this.$t("standaloneServer.sureOff"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(s){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s.value){a.next=7;break}return e.$swal("",e.$t("standaloneServer.loadingOff"),"success"),a.next=4,Object(c["i"])(t);case 4:r=a.sent,n=r.data,e.totalFunc(n);case 7:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},clickReboot:function(t){var e=this;this.$swal.fire({title:this.$t("standaloneServer.sureReboot"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(s){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s.value){a.next=7;break}return e.$swal("",e.$t("standaloneServer.loadingReboot"),"success"),a.next=4,Object(c["F"])(t);case 4:r=a.sent,n=r.data,e.totalFunc(n);case 7:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},clickBmc:function(t){var e=this;this.$swal.fire({title:this.$t("standaloneServer.sureResetBMC"),icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(s){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s.value){a.next=7;break}return e.$swal("",e.$t("standaloneServer.loadingResetBMC"),"success"),a.next=4,Object(c["c"])(t);case 4:r=a.sent,n=r.data,e.totalFunc(n);case 7:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},totalFunc:function(t){var e=this;setTimeout((function(){200===t.status?e.$notify({title:e.$t("standaloneServer.controlSuccess"),message:t.msg,type:"success",offset:80}):e.$notify({title:e.$t("standaloneServer.controlError"),message:t.msg,type:"error",offset:80})}),2e3)},handleCommand:function(t){if(t.startsWith("showView")){var e=t.split("-"),a=e[1],s=e[2],r=e[3];"Active"===s&&"on"===r?this.$router.push({path:"/server/detail",query:{id:a,groupid:this.groupid}}):"Active"===s&&"off"===r?this.$router.push({path:"/server/control",query:{id:a,groupid:this.groupid}}):"Active"!==s||r?"Suspended"===s||"Pending"===s?this.$router.push({path:"/server/billing",query:{id:a,groupid:this.groupid}}):"Deleted"===s||"Cancelled"===s?this.$router.push({path:"/server/log",query:{id:a,groupid:this.groupid}}):this.$router.push({path:"/server/billing",query:{id:a,groupid:this.groupid}}):this.$router.push({path:"/server/billing",query:{id:a,groupid:this.groupid}})}else if(t.startsWith("on")){var n=t.substr(2);this.clickOn(n)}else if(t.startsWith("off")){var o=t.substr(3);this.clickClose(o)}else if(t.startsWith("reboot")){var i=t.substr(6);this.clickReboot(i)}else if(t.startsWith("bmc")){var c=t.substr(3);this.clickBmc(c)}},goToView:function(t){"dcimcloud"===t.product_type||"cloud"===t.product_type?this.$router.push({name:"CloudServerInfo",query:{id:t.id,groupid:this.groupid}}):"dcim"===t.product_type||"server"===t.product_type?"Active"===t.domainstatus?this.$router.push({path:"/server/control",query:{id:t.id,groupid:this.groupid}}):"Suspended"===t.domainstatus||"Pending"===t.domainstatus?this.$router.push({path:"/server/billing",query:{id:t.id,groupid:this.groupid}}):"Deleted"===t.domainstatus||"Cancelled"===t.domainstatus?this.$router.push({path:"/server/log",query:{id:t.id,groupid:this.groupid}}):this.$router.push({path:"/server/billing",query:{id:t.id,groupid:this.groupid}}):"type_zjmf"===t.product_type?this.$router.push({path:"/authorize",query:{id:t.id,groupid:this.groupid}}):this.$router.push({path:"/other-server/billing",query:{id:t.id,groupid:this.groupid}})},refreshStatus:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r,n,o,i,l,u,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(s=t,r=[],n=0;n<t.length;n++)"Active"===t[n].domainstatus&&0!==t[n].dcimid&&r.push(t[n].id);return a.next=5,Object(c["G"])(r);case 5:if(o=a.sent,i=o.data,200===i.status){a.next=9;break}return a.abrupt("return",!1);case 9:if(0!==i.data.length)for(l=i.data,u=0;u<l.length;u++)for(d=0;d<s.length;d++)s[d].id===l[u].id&&(s[d].powerStatus=l[u].status,s[d].powerStatusMsg=l[u].msg);e.tableData=s;case 11:case"end":return a.stop()}}),a)})))()},singlePowerRefresh:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("Active"===t.domainstatus||"dcim"!==t.product_type||0!==t.dcimid){a.next=2;break}return a.abrupt("return",!1);case 2:return t.powerStatus="",t.powerStatusLoading=!0,a.next=6,Object(c["G"])(t.id);case 6:if(s=a.sent,r=s.data,200===r.status){a.next=10;break}return a.abrupt("return",!1);case 10:0!==r.data.length&&(n=r.data,e.tableData.forEach((function(t){t.id===n[0].id&&(t.powerStatus=n[0].status,t.powerStatusMsg=n[0].msg)})),t.powerStatusLoading=!1);case 11:case"end":return a.stop()}}),a)})))()},tableSelectionChange:function(t){this.tableMul=t},goToMulBilling:l.throttle((function(){if(0===this.tableMul.length)return this.$message.warning(this.$t("standaloneServer.notSelectServer")),this.$refs.serverTableRef.clearSelection(),!1;var t=this.tableMul.filter((function(t){return("Active"===t.domainstatus||"Suspended"===t.domainstatus)&&"free"!==t.billingcycle&&"onetime"!==t.billingcycle})),e=[];if(t.forEach((function(t){e.push(t.id)})),this.idMul=e,0===this.idMul.length)return this.$message.error(this.$t("standaloneServer.selectErrorServer")),this.$refs.serverTableRef.clearSelection(),!1;sessionStorage.setItem("multipleType","standalone"),this.$router.push({name:"StandaloneServerMBilling",query:{ids:this.idMul}})}),1e3),getOsSvg:function(t){var e=1;return e=-1!==t.toLowerCase().indexOf("windows")?1:-1!==t.toLowerCase().indexOf("centos")?2:-1!==t.toLowerCase().indexOf("ubuntu")?3:-1!==t.toLowerCase().indexOf("debian")?4:-1!==t.toLowerCase().indexOf("esxi")?5:-1!==t.toLowerCase().indexOf("xenserver")?6:-1!==t.toLowerCase().indexOf("freebsd")?7:-1!==t.toLowerCase().indexOf("fedora")?8:"",e}},filters:{statusZh:function(t){return"Active"===t?"已激活":"Cancelled"===t||"Deleted"===t?"被取消":"Fraud"===t?"有欺诈":"Pending"===t?"待审核":"Suspended"===t?"已暂停":void 0},cutFu:function(t){if(t.endsWith("付")){var e=t.substring(0,t.length-1);return e}return t},osFilter:function(t){var e="";return e=1===t?"windows":2===t?"centos":3===t?"ubuntu":4===t?"debian":5===t?"esxi":6===t?"xenserver":7===t?"freebsd":8===t?"fedora":"-",e}},watch:{"search.input":{handler:function(){var t=this;this.search.timer&&clearTimeout(this.search.timer),this.search.timer=setTimeout((function(){t.getData()}),200)},deep:!0}},created:function(){this.getData()},mounted:function(){}},d=u,p=(a("2e91"),a("2877")),m=Object(p["a"])(d,s,r,!1,null,"07ee60f8",null);e["default"]=m.exports},"86ce":function(t,e,a){"use strict";var s=a("57a3"),r=a.n(s);r.a},"877c":function(t,e,a){"use strict";var s=a("0f69"),r=a.n(s);r.a},"8cc1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmN2Q2MjVjMi0yMDU0LTM3NGYtYTMxZi00OWJjOWNhYzViN2QiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RkRDMzRDRThFMUYyMTFFQTk4N0JGNDJEREFFQ0VGMzciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RkRDMzRDRTdFMUYyMTFFQTk4N0JGNDJEREFFQ0VGMzciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTI2ZDIwOTItNmM2OS1iNTRjLWE3YzUtNzAxYmZkNWY1NjI0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmY3ZDYyNWMyLTIwNTQtMzc0Zi1hMzFmLTQ5YmM5Y2FjNWI3ZCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjRCS0gAAAFWUExURev1//3+//j7/+32/+72//z9/+r0//7+/+fz/73d/uby/xKE/PD3/+jz//L4//b6//n8/+z1/+Dv//P5/+Ty/yiQ/fT5/9Pp/wF7/MXh/+Lx/0Wf/ZPI/h+L/AJ8/ByJ/OHw/2ix/dLo/zqZ/YjB/gV+/IfB/g2C/Mbi/6jS/t/v/9zt/3u7/rHX/kmh/QZ+/Fyr/WCt/TaX/Y7F/gmA/Mnk/ymQ/dfr/328/i6T/WWv/a/W/jya/bXZ/orD/nG2/RWG/A6C/HO3/s/m/wR9/HS3/pTI/guB/CKN/Fip/YnC/p/O/tTp/ziY/czl/wN8/BeH/CyS/Uig/RiI/Hm6/gd//FSn/aTQ/pnK/r/e/4C9/gqA/KrT/muz/QyB/OPx/8rk/7vc/h6K/JjK/pvM/mmy/djr/02j/Veo/aPQ/i+T/YO//mSv/TmY/a7W/gB7/P///+Xy/z9dVcYAAAJbSURBVHjatJfne5swEIdP2BhCzYjj2HFm0+zVrO6926RNuvfeu0T//5dKQKgt6RA8pL9POrj30TrdSbCnFDG8KrgOpY4LVc8gai9QfDMHgAqCATMXHFSoUpVACxtAUYGRCZtVmqmqicO+TTWyfQS26jSH6pYKtvppLgGRYVKjOVUjIpyf7aKh2Jhj9Vs9cJ0WUr0b9mlB+f9g0y4K22YKV2hhVfZhI8OpOb+ycryp+GEkMH4WOmuXQqaH6x05VmI4QNlTM2Gia1eGxZ9BBKMz/hV26WhDnjXsEYydDnv0TfxPGNxC2PYcR+4tn39+YyOinwkOLQZjy7XMgR/tqP2It8feiksG6Kh3mP/Lq4mxzuk/4rgB3eRjzH1t3zj5mFmvxa0GD2EXeV8XUvMcX3DBxQMs5R2+y9ynU/Mrs36L6RDQ8Jpg7k9S6zSzRsQgAxeDt5j76nxivOeT+Cx4uOBg8FPuf/9O1P5yghsLgoeDH4rmIAc+fFykw99vRfsshTcO912Ow3J14k3cuE2lnrFh9x3qDe1wUk4n2IJJ7EU5I7jIVsXs+PaZuRjdOKuqHeogidmhURYrCy8mr2++U9dMZXgmY555lZ0EPdXBSOd7s50JG4ojmbLjo9k9EzkZJPP9OaZjQU5DnaTf2d1PmrzfkhNgYyQZ9KyuaBBF6mX0EIcHG9qCo0j6jQebU4w9ouk4wMrN0pSWBbzQLbV1MzYOosSWK+6lrhXlLjQFr1JgHdwlrtz1sdzFtdyVOddl3fH/zzOh3AOl5NOo5KMsfQ7WXNtxbLeGPwf/CjAAuUe6O/nARsMAAAAASUVORK5CYII="},9055:function(t,e,a){"use strict";var s=a("299cb"),r=a.n(s);r.a},9645:function(t,e,a){},9744:function(t,e,a){},9793:function(t,e,a){"use strict";var s=a("b8c6"),r=a.n(s);r.a},"992d":function(t,e,a){},"99af":function(t,e,a){"use strict";var s=a("23e7"),r=a("d039"),n=a("e8b5"),o=a("861d"),i=a("7b0b"),c=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),p=a("b622"),m=a("2d00"),h=p("isConcatSpreadable"),f=9007199254740991,v="Maximum allowed index exceeded",g=m>=51||!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),_=d("concat"),b=function(t){if(!o(t))return!1;var e=t[h];return void 0!==e?!!e:n(t)},y=!g||!_;s({target:"Array",proto:!0,forced:y},{concat:function(t){var e,a,s,r,n,o=i(this),d=u(o,0),p=0;for(e=-1,s=arguments.length;e<s;e++)if(n=-1===e?o:arguments[e],b(n)){if(r=c(n.length),p+r>f)throw TypeError(v);for(a=0;a<r;a++,p++)a in n&&l(d,p,n[a])}else{if(p>=f)throw TypeError(v);l(d,p++,n)}return d.length=p,d}})},ae4c:function(t,e,a){"use strict";var s=a("c508"),r=a.n(s);r.a},b0c5:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"layout_card "},[s("div",{staticClass:"page-title "},[t._v(t._s(t.host_data.group.groupname))]),s("div",{staticClass:"box"},[s("div",{staticClass:"content"},[s("div",{staticClass:"fl serverinfo"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"top-end",content:t.statusTxt}},[s("div",{staticClass:"button-wrapper",on:{click:t.handleClickTip}},[t.lodingIcon||"process"===t.status?s("span",{staticClass:"el-icon-loading",staticStyle:{"font-size":"20px"}}):"on"===t.status?s("span",{staticClass:"sprite start"}):"off"===t.status?s("span",{staticClass:"sprite close"}):"waiting"===t.status?s("span",{staticClass:"sprite waitOn"}):"suspend"===t.status||t.isSupend?s("span",{staticClass:"sprite pause"}):"wait_reboot"===t.status||"wait"===t.status?s("span",{staticClass:"sprite waiting"}):"unknown"===t.status?s("span",{staticClass:"sprite unknown"}):"Fraud"===t.status?s("span",{staticClass:"sprite2 Fraud"}):"Pending"===t.status?s("span",{staticClass:"sprite2 Pending"}):"Deleted"===t.status?s("span",{staticClass:"sprite2 Deleted"}):"Cancelled"===t.status?s("span",{staticClass:"sprite2 Cancelled"}):"Active"===t.status?s("span",{staticClass:"sprite2 Active"}):"Suspended"===t.status?s("span",{staticClass:"sprite2 Suspended"}):t._e()])]),s("div",{staticClass:"serverinfo_row1"},[s("span",{staticClass:"serverinfo_name"},[t._v(t._s(t.host_data.productname))]),s("span",{staticClass:"serverinfo_statusbox"},[s("span",{staticClass:"serverinfo_status"},[t._v(t._s(t.host_data.domain))])]),"Active"===t.host_data.domainstatus?s("span",{staticClass:"cloudServer_status active"},[t._v(t._s(t.host_data.domainstatus_desc))]):t._e(),"Suspended"===t.host_data.domainstatus?s("span",{staticClass:"cloudServer_status suspended"},[t._v(t._s(t.host_data.domainstatus_desc)+" "+t._s(t.host_data.suspendreason?"(-"+t.host_data.suspendreason+")":""))]):t._e(),"Pending"===t.host_data.domainstatus?s("span",{staticClass:"cloudServer_status pending"},[t._v(t._s(t.host_data.domainstatus_desc))]):t._e(),"Deleted"===t.host_data.domainstatus?s("span",{staticClass:"cloudServer_status deleted"},[t._v(t._s(t.host_data.domainstatus_desc))]):t._e(),"Cancelled"===t.host_data.domainstatus?s("span",{staticClass:"cloudServer_status cancelled"},[t._v(t._s(t.host_data.domainstatus_desc))]):t._e(),"Fraud"===t.host_data.domainstatus?s("span",{staticClass:"cloudServer_status fraud"},[t._v(t._s(t.host_data.domainstatus_desc))]):t._e(),s("span",{staticClass:"vncbtn",staticStyle:{display:"inline-block",float:"right"}},[s("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:0!==t.module_button.console.length,expression:"module_button.console.length !== 0"}],attrs:{placement:"bottom-start"},on:{command:t.consoleHandleCommand}},[s("el-button",{attrs:{type:"primary"}},[t._v(t._s(t.$t("cloudServer.vnc")))]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.module_button.console,(function(e,a){return s("el-dropdown-item",{key:a,attrs:{command:e.name+"-"+e.func+"-"+e.type}},[t._v(t._s(e.name)+" ")])})),1)],1)],1)]),s("div",{staticClass:"serverinfo_row2"},[t._l(t.config_options,(function(e,a){return s("span",{key:a,staticStyle:{marginRight:"5px"}},[s("span",{staticClass:"serverinfo_label"},[t._v(t._s(e.name)+":")]),5===e.option_type?s("img",{staticStyle:{margin:"-2px 5px"},attrs:{src:"/upload/common/system/"+t.getOsSvg(e.sub_name)+".svg",alt:"",width:"18px"}}):t._e(),12===e.option_type?s("img",{staticStyle:{margin:"-2px 5px"},attrs:{src:"/upload/common/country/"+e.code+".png",alt:"",width:"24px"}}):t._e(),s("span",{staticClass:"serverinfo_value"},[t._v(t._s(e.sub_name+" "))])])})),t._l(t.custom_field_data,(function(e,a){return s("span",{key:"field"+a,staticStyle:{marginRight:"5px"}},[s("span",{staticClass:"serverinfo_label"},[t._v(t._s(e.fieldname)+":")]),s("span",{staticClass:"serverinfo_value"},[t._v(t._s(e.value+" "))])])})),s("div",{staticStyle:{"border-top":"1px solid #ccc","line-height":"41px","margin-top":"15px"}},[s("span",{staticClass:"serverinfo_label"},[t._v(t._s(t.$t("cloudServer.ipAddress"))+"：")]),s("el-popover",{attrs:{placement:"right",trigger:"hover",disabled:0===t.host_data.assignedips.length||!t.host_data.dedicatedip}},[s("ul",{staticClass:"item_ip"},t._l(t.host_data.assignedips,(function(e,a){return s("li",{key:a},[t._v(t._s(e))])})),0),s("span",{staticClass:"serverinfo_value subip",staticStyle:{cursor:"pointer",marginRight:"5px"},attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.host_data.dedicatedip?t.host_data.dedicatedip+" ":"-")+" "),s("i",{ref:t.host_data.assignedips,staticClass:"el-icon-copy-document copyBtn",attrs:{"data-clipboard-text":t.host_data.dedicatedip+(0!==t.host_data.assignedips.length?","+t.host_data.assignedips:"")},on:{click:function(e){return t.clickCopy(t.host_data.assignedips)},mouseenter:function(e){return t.clickCopy(t.host_data.assignedips)}}})])]),""!==t.dcimcloud.nat_acl?s("span",{staticClass:"serverinfo_label",staticStyle:{color:"#999","margin-left":"5px"}},[t._v("远程地址："),s("span",{staticStyle:{color:"#333"}},[t._v(t._s(t.dcimcloud.nat_acl?t.dcimcloud.nat_acl:"- "))])]):t._e(),""!==t.dcimcloud.nat_web?s("span",{staticClass:"serverinfo_label",staticStyle:{color:"#999","margin-left":"5px"}},[t._v("建站解析："),s("span",{staticStyle:{color:"#333"}},[t._v(t._s(t.dcimcloud.nat_web?t.dcimcloud.nat_web:"- "))])]):t._e(),s("span",{staticClass:"remark"},[s("span",{staticStyle:{color:"#999"}},[t._v(t._s(t.$t("cloudServer.bzInfo"))+"：")]),t._v(" "+t._s(t.host_data.remark?t.host_data.remark:"- ")+" "),s("img",{staticClass:"hand",attrs:{src:a("f5de"),alt:"",height:"12px"},on:{click:t.chargeRemark}})]),s("span",[0!==t.userDetail.length?s("el-popover",{attrs:{placement:"right",width:t.popWidth,trigger:"hover"}},[s("el-table",{attrs:{data:t.userDetail}},[s("el-table-column",{attrs:{prop:"username",label:t.$t("cloudServer.username"),width:"120"}}),s("el-table-column",{attrs:{prop:"password",label:t.$t("cloudServer.pwd")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("span",[t._v(t._s(a.password))]),s("i",{ref:a.password,staticClass:"el-icon-copy-document copy-btn",staticStyle:{cursor:"pointer","margin-left":"10px",color:"#007bfc"},attrs:{"data-clipboard-text":a.password},on:{click:function(e){return t.clickCopy(a.password)},mouseenter:function(e){return t.clickCopy(a.password)}}})]}}],null,!1,68149821)}),s("el-table-column",{attrs:{prop:"port",label:t.$t("cloudServer.port"),width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(0===a.port||"0"===a.port?"默认":a.port)+" ")]}}],null,!1,814713438)})],1),s("span",{staticClass:"serverinfo_value subip",staticStyle:{cursor:"pointer",color:"#007aff"},attrs:{slot:"reference"},slot:"reference"},[s("span",[t._v(t._s(t.$t("cloudServer.loginInfo")))])])],1):t._e()],1),t.host_cancel.init||"Active"!==t.host_data.domainstatus&&"Suspended"!==t.host_data.domainstatus?t._e():s("div",{staticClass:"ml-10",staticStyle:{display:"inline-block",float:"right"}},[0===t.host_cancel.length?s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.cancelDialog=!0}}},[t._v(" "+t._s(t.$t("cloudServer.deactivate")))]):s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:t.deleteCancel}},[t._v(" "+t._s("Immediate"!==t.host_cancel.type?t.$t("cloudServer.dqdeactivate"):"立即停用")+" ")])],1),"hour"===t.host_data.billingcycle?s("div",{staticClass:"maturity",staticStyle:{display:"inline-block",float:"right"}},[s("span",[t._v(t._s(t.$t("cloudServer.deactivateTime"))+"：")]),s("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?t.$moment(1e3*t.hostData.nextduedate).format("YYYY-MM-DD HH:mm"):t.$t("standaloneServer.notDue")))]),t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle&&t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"seconds")<0?s("span",[t._v("（"+t._s(t.$t("standaloneServer.overdue"))+"）")]):s("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?"（"+t.$t("standaloneServer.left")+" "+t.overdue+"）":""))])]):s("div",{staticClass:"maturity",staticStyle:{display:"inline-block",float:"right"}},[s("span",[t._v(t._s(t.$t("cloudServer.deactivateTime"))+"：")]),s("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?t.$moment(1e3*t.hostData.nextduedate).format("YYYY-MM-DD"):t.$t("standaloneServer.notDue")))]),t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle&&t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"seconds")<0?s("span",[t._v("（"+t._s(t.$t("standaloneServer.overdue"))+"）")]):s("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?"（"+t.$t("standaloneServer.left")+" "+t.overdue+"）":""))])])],1)],2)],1)])]),s("div",{staticClass:"cloud_server_info"},[s("div",{staticClass:"server_info_box"},[s("el-tabs",{attrs:{"tab-position":t.type},on:{"tab-click":t.getCustom},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},["Active"===t.host_data.domainstatus&&t.module_button.control.length>0?s("el-tab-pane",{attrs:{name:"2",label:t.$t("cloudServer.control")}},[s("div",{staticClass:"info_box_control info_box_list"},[s("div",{staticClass:"box_control_container"},t._l(t.module_button.control,(function(e,a){return s("div",{key:a,staticClass:"box_control_card"},[s("div",{staticClass:"control_card_title"},[t._v(t._s(e.name))]),s("div",{staticClass:"control_card_msg"},["default"===e.type&&"on"===e.func?s("p",[t._v(t._s(t.$t("standaloneServer.controlOnMsg")))]):t._e(),"default"===e.type&&"off"===e.func?s("p",[t._v(t._s(t.$t("standaloneServer.controlOffMsg"))+" ")]):t._e(),"default"===e.type&&"reboot"===e.func?s("p",[t._v(" "+t._s(t.$t("standaloneServer.controlRebootMsg")))]):t._e(),"default"===e.type&&"hard_off"===e.func?s("p",[t._v(" "+t._s(t.$t("standaloneServer.hardToTurnItOff")))]):t._e(),"default"===e.type&&"hard_reboot"===e.func?s("p",[t._v(" "+t._s(t.$t("standaloneServer.aHardReset")))]):t._e(),"default"===e.type&&"reinstall"===e.func?s("p",[t._v(" "+t._s(t.$t("standaloneServer.controlReinstallSystemMsg")))]):t._e(),"default"===e.type&&"crack_pass"===e.func?s("p",[t._v(" "+t._s(t.$t("standaloneServer.controlDecryptionMsg")))]):t._e()]),s("div",{staticClass:"control_card_btn"},[s("el-button",{attrs:{plain:""},on:{click:function(a){return t.controlFunc(e)}}},[t._v(t._s(e.name))])],1)])})),0),s("el-dialog",{attrs:{title:t.$t("standaloneServer.controlReinstallSystem"),visible:t.reinstallDialog,width:"30%"},on:{"update:visible":function(e){t.reinstallDialog=e},closed:t.reinstallClosed}},[s("el-row",{attrs:{gutter:15}},[s("el-form",{ref:"reinstallForm",attrs:{model:t.reinstallFormData,rules:t.reinstallFormRules,"label-width":"80px"}},[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:t.$t("standaloneServer.os"),prop:"osVal"}},[s("el-row",[t.cloudOsGroupOptions&&t.cloudOsGroupOptions.length>0?s("el-col",{staticClass:"mb-10",staticStyle:{"padding-right":"10px"},attrs:{xs:24,lg:12}},[s("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:t.osGroupChange},model:{value:t.reinstallFormData.groupVal,callback:function(e){t.$set(t.reinstallFormData,"groupVal",e)},expression:"reinstallFormData.groupVal"}},[s("template",{slot:"prefix"},[s("img",{staticStyle:{height:"20px","margin-right":"10px","margin-top":"10px"},attrs:{src:"/upload/common/system/"+t.osSvgSelected+".svg",alt:""}})]),t._l(t.cloudOsGroupOptions,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[s("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:"/upload/common/system/"+e.osSvg+".svg",alt:""}}),t._v(t._s(e.name)+" ")])}))],2)],1):t._e(),s("el-col",{attrs:{xs:24,lg:12}},[s("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},model:{value:t.reinstallFormData.osVal,callback:function(e){t.$set(t.reinstallFormData,"osVal",e)},expression:"reinstallFormData.osVal"}},t._l(t.filterOsOptions,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1),s("el-row",[s("el-col",[s("el-checkbox",{model:{value:t.reInstallChecked,callback:function(e){t.reInstallChecked=e},expression:"reInstallChecked"}},[t._v("我已完成备份")])],1)],1)],1)],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.reinstallCancle}},[t._v(t._s(t.$t("btnCancle")))]),s("el-button",{attrs:{type:"primary",disabled:!t.reInstallChecked},on:{click:t.reinstall}},[t._v(t._s(t.$t("btnConfirmation"))+" ")])],1)],1),s("el-dialog",{attrs:{title:t.$t("cloudServer.crackPwd"),visible:t.crackDialog,width:"600px"},on:{"update:visible":function(e){t.crackDialog=e},close:t.creakonClose}},[s("el-form",{ref:"crackPassword",attrs:{model:t.crackFrom,"label-width":"80px"}},[s("el-form-item",{staticClass:"creakInput",staticStyle:{"margin-bottom":"10px"},attrs:{label:t.$t("cloudServer.pwd"),prop:"password",rules:[{required:!0,message:this.$t("cloudServer.pwdEmpty")}]}},[s("el-input",{model:{value:t.crackFrom.password,callback:function(e){t.$set(t.crackFrom,"password",e)},expression:"crackFrom.password"}}),s("img",{staticClass:"creakInputRandom",staticStyle:{width:"18px",cursor:"pointer","margin-left":"10px"},attrs:{src:a("8728"),alt:""},on:{click:function(e){return t.creatCode(12)}}}),s("i",{ref:t.crackFrom.password,staticClass:"el-icon-copy-document creakInputCopy",staticStyle:{cursor:"pointer"},attrs:{"data-clipboard-text":t.crackFrom.password},on:{click:function(e){return t.clickCopy(t.crackFrom.password)},mouseenter:function(e){return t.clickCopy(t.crackFrom.password)}}})],1),t.errorMsg?s("div",{staticClass:"el-form-item__content"},[s("div",{staticClass:"el-form-item__error",staticStyle:{left:"80px"}},[t._v(t._s(t.errorMsg))])]):t._e()],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.saveCrack}},[t._v(t._s(t.$t("cloudServer.determine")))])],1)],1)],1)]):t._e(),t.module_chart.length>0&&"Active"===t.host_data.domainstatus?s("el-tab-pane",{attrs:{name:"1",label:t.$t("cloudServer.charts")}},[s("div",{staticClass:"info_box_chart info_box_list"},[s("el-row",{attrs:{gutter:40}},[t._l(t.module_chart,(function(e){return[s("el-col",{key:e.type,attrs:{xs:24,md:24,lg:12}},[s("div",{staticClass:"box_chart_flow"},[s("div",{staticClass:"chart_flow_title"},[s("div",{staticClass:"flow_title_text"},[t._v(t._s(e.title))])]),s("flowEcharts",{ref:"flowEcharts"+e.type,refInFor:!0,attrs:{moduleChart:e,hostId:parseInt(t.id),toDayDate:parseInt(1e3*t.host_data.regdate)}})],1)])]}))],2)],1)]):t._e(),"Active"===t.host_data.domainstatus||"Suspended"===t.host_data.domainstatus||"Pending"===t.host_data.domainstatus||"Cancelled"===t.host_data.domainstatus||"Fraud"===t.host_data.domainstatus?s("el-tab-pane",{attrs:{name:"3",label:t.$t("cloudServer.finance")}},[s("div",{staticClass:"info_box_finance info_box_list"},[s("div",{staticClass:"box_finance_renewed"},[s("div",{staticClass:"finance_renewed_info"},[s("span",{staticClass:"renewed_info_textL"},[t._v(t._s(t.$t("standaloneServer.firstOrderPrice"))+" "),s("span",{staticClass:"renewed_info_price"},[t._v(t._s(t.currency.prefix+" "+t.hostData.firstpaymentamount))]),t._v(" "+t._s(t.currency.suffix))]),s("span",{staticClass:"renewed_info_textR"},[t._v(t._s(t.$t("standaloneServer.orderTime"))+"： "),s("span",{staticClass:"renewed_info_date"},[t._v(t._s(t.hostData.regdate?t.$moment(1e3*t.hostData.regdate).format("YYYY-MM-DD"):"-"))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"Unpaid"===t.hostData.status&&"free"!==t.hostData.billingcycle||"Paid"===t.hostData.status&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle&&("Active"===t.hostData.domainstatus||"Suspended"===t.hostData.domainstatus),expression:"(hostData.status === 'Unpaid' && hostData.billingcycle !== 'free' )|| (hostData.status === 'Paid' && (hostData.billingcycle !== 'free' && hostData.billingcycle !== 'onetime' ) && (hostData.domainstatus === 'Active' || hostData.domainstatus === 'Suspended'))"}],staticClass:"finance_renewed_price"},[s("el-form",{ref:"form",attrs:{model:t.form}},["Unpaid"===t.hostData.status?s("el-form-item",{attrs:{label:t.$t("standaloneServer.paymentCycle")}},[s("el-radio-group",{model:{value:t.form.billingcycles,callback:function(e){t.$set(t.form,"billingcycles",e)},expression:"form.billingcycles"}},[s("el-radio",{attrs:{label:t.hostData.billingcycle,border:""}},[t._v(t._s(t.hostData.billingcycle_zh))])],1)],1):"Paid"===t.hostData.status?s("el-form-item",{attrs:{label:t.$t("standaloneServer.paymentCycle")}},[s("div",{staticClass:"grid"},[s("el-radio-group",{model:{value:t.form.billingcycles,callback:function(e){t.$set(t.form,"billingcycles",e)},expression:"form.billingcycles"}},t._l(t.cycle,(function(e,a){return s("el-radio",{key:a,attrs:{label:e.billingcycle,border:""}},[t._v(" "+t._s(e.billingcycle_zh))])})),1)],1)]):t._e(),"Unpaid"===t.hostData.status?s("el-form-item",{attrs:{label:t.$t("standaloneServer.payPrice")}},[s("div",{staticClass:"renewal_price"},[s("span",{staticClass:"amountRenewal"},[t._v(t._s(t.currency.prefix+" "+t.hostData.firstpaymentamount))]),t._v(" "+t._s(t.currency.suffix)+" / "+t._s(t.myCycle)+" "),Number(t.hostData.saleproducts)?s("span",{staticClass:"gray hiddenFunc"},[t._v(t._s("("+t.$t("cloudServer.discount")+t.currency.prefix+Number(t.hostData.saleproducts).toFixed(2)+t.currency.suffix+")"))]):t._e()])]):"Paid"===t.hostData.status?s("el-form-item",{attrs:{label:t.$t("standaloneServer.renewalPrice")}},[s("div",{staticClass:"renewal_price"},[s("span",{staticClass:"amountRenewal"},[t._v(t._s(t.currency.prefix+" "+t.hostData.amount))]),t._v(" "+t._s(t.currency.suffix)+" / "+t._s(t.myCycle)+" "),Number(t.hostData.saleproducts)?s("span",{staticClass:"gray hiddenFunc"},[t._v(t._s("("+t.$t("cloudServer.discount")+t.currency.prefix+Number(t.hostData.saleproducts).toFixed(2)+t.currency.suffix+")"))]):t._e()])]):t._e()],1),"Unpaid"===t.hostData.status?s("el-button",{staticStyle:{"margin-left":"67px"},attrs:{type:"primary"},on:{click:t.payNow}},[t._v(" "+t._s(t.$t("standaloneServer.payNow")))]):"Paid"===t.hostData.status?s("el-button",{staticStyle:{"margin-left":"67px"},attrs:{type:"primary"},on:{click:t.renew}},[t._v(" "+t._s(t.$t("standaloneServer.renewNow")))]):t._e()],1)]),s("div",{staticClass:"box_finance_record"},[s("div",{staticClass:"finance_record_title"},[s("span",{staticClass:"record_title_text"},[t._v(t._s(t.$t("standaloneServer.transactionRecord")))]),s("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.reSearch.input,callback:function(e){t.$set(t.reSearch,"input",e)},expression:"reSearch.input"}})],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.reTableData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}},on:{"sort-change":t.changeReSort}},[s("el-table-column",{attrs:{prop:"pay_time",label:t.$t("standaloneServer.transactiondate"),sortable:"custom",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.pay_time?t.$moment(1e3*a.pay_time).format("YYYY-MM-DD"):"-")+" ")]}}],null,!1,4007619937)}),s("el-table-column",{attrs:{prop:"type",label:t.$t("standaloneServer.source"),sortable:"custom"}}),s("el-table-column",{attrs:{prop:"amount_in",label:t.$t("standaloneServer.price"),sortable:"custom",width:"130"}}),s("el-table-column",{attrs:{prop:"trans_id",label:t.$t("standaloneServer.serialNumber"),sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.trans_id?a.trans_id:"-")+" ")]}}],null,!1,50636307)}),s("el-table-column",{attrs:{prop:"gateway",label:t.$t("standaloneServer.payMent"),sortable:"custom",width:"135"}})],1),s("div",{staticClass:"finance_record_paging"},[s("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","page-sizes":[10,15,20,25],"prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"current-page":t.rePage,"page-size":t.reLimit,total:t.reTotal,"pager-count":5},on:{"size-change":t.handleReSizeChange,"current-change":t.handleReCurrentChange}})],1)],1)])]):t._e(),this.download_data.length?s("el-tab-pane",{attrs:{name:"4",label:"文件下载"}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.download_data,border:""}},[s("el-table-column",{attrs:{prop:"title",label:"文件名"}}),s("el-table-column",{attrs:{prop:"description",label:"文件描述"}}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.goDownload(a)}}},[t._v("立即下载")])]}}],null,!1,1668826208)})],1)],1):t._e(),s("el-tab-pane",{attrs:{name:"5",label:t.$t("cloudServer.log")}},[s("div",{staticClass:"info_box_log info_box_list"},[s("div",{staticClass:"box_log_input"},[s("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.logSearch.input,callback:function(e){t.$set(t.logSearch,"input",e)},expression:"logSearch.input"}})],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.logTableData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}},on:{"sort-change":t.changeLogSort}},[s("el-table-column",{attrs:{prop:"create_time",label:t.$t("standaloneServer.operatingTime"),align:"center",width:"180",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("div",[t._v(t._s(t.$moment(1e3*a.create_time).format("YYYY-MM-DD HH:mm:ss")))])]}}])}),s("el-table-column",{attrs:{prop:"description",label:t.$t("standaloneServer.operatingDetail")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("div",{domProps:{innerHTML:t._s(a.description)}})]}}])}),s("el-table-column",{attrs:{prop:"user",label:t.$t("standaloneServer.operator"),align:"center",width:"150",sortable:"custom"}}),s("el-table-column",{attrs:{prop:"ipaddr",label:t.$t("standaloneServer.ipAddress"),align:"center",width:"150",sortable:"custom"}})],1),s("div",{staticClass:"box_log_paging"},[s("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"current-page":t.logPage,"page-size":t.logLimit,total:t.logTotal,"pager-count":5},on:{"size-change":t.handleLogSizeChange,"current-change":t.handleLogCurrentChange}})],1)],1)]),t.host_data.bwlimit>0&&"Active"===t.host_data.domainstatus||"已暂停"===t.host_data.domainstatus_desc&&("用量超额"===t.suspendreason_type||"flow"===t.suspendreason_type)?s("el-tab-pane",{attrs:{name:"6",label:t.$t("cloudServer.usageAmount")}},[s("div",{staticClass:"standaloneserver_traffic"},[t.host_data.show_traffic_usage?s("div",{staticClass:"standaloneserver_traffic_chart"},[s("div",{staticClass:"chart_title"},[s("div",{staticClass:"chart_titlel"},[t._v(t._s(t.$t("standaloneServer.usageStatistics")))]),s("div",{staticClass:"chart_titler"},[s("el-select",{model:{value:t.ylValue,callback:function(e){t.ylValue=e},expression:"ylValue"}},t._l(t.ylOptions,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),s("div",{staticClass:"chart_box",attrs:{id:"trafficCanvas"}})]):t._e(),s("div",{staticClass:"standaloneserver_traffic_list"},[s("div",{staticClass:"list_title"},[s("div",{staticClass:"list_titlel"},[s("div",{staticClass:"list_titlel_top"},[s("div",{staticClass:"list_titlel_topl"},[s("span",{staticStyle:{fontSize:"16px"}},[t._v(t._s(t.$t("standaloneServer.remainingFlow")))]),t._v(" / "),s("span",{staticStyle:{fontSize:"12px"}},[t._v(t._s(t.$t("standaloneServer.totalFlow")))])]),s("div",{staticClass:"list_titlel_topr"},[t.less>=0?s("div",[s("span",{staticStyle:{fontWeight:"700",fontSize:"16px",color:"#007bfc"}},[t._v(t._s(t.less)+"GB")]),t._v(" / "),s("span",{staticStyle:{fontSize:"12px"}},[t._v(t._s(t.bwlimit)+"GB")])]):s("div",[s("span",{staticStyle:{fontWeight:"700",fontSize:"16px",color:"red"}},[t._v(t._s(t.less)+"GB")]),t._v(" / "),s("span",{staticStyle:{fontSize:"12px"}},[t._v(t._s(t.bwlimit)+"GB")])])])]),s("div",{staticClass:"list_titlel_foot"},[s("div",{staticClass:"progress"},[s("el-progress",{staticStyle:{width:"100%"},attrs:{percentage:t.percentage,"show-text":!1}})],1)])]),s("div",{staticClass:"list_titler"},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogTableVisible=!0}}},[t._v(t._s(t.$t("standaloneServer.order"))+" ")])],1)]),s("div",{staticClass:"list_box"},[s("div",{staticClass:"list_table"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.frontEndPageChange,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}}},[s("el-table-column",{attrs:{prop:"name",label:t.$t("standaloneServer.name"),align:"center",sortable:""}}),s("el-table-column",{attrs:{prop:"capacity",label:t.$t("standaloneServer.total"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("span",[t._v(t._s(a.capacity)+" GB")])]}}],null,!1,532867518)}),s("el-table-column",{attrs:{prop:"leave",label:t.$t("standaloneServer.Remain"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("span",[t._v(t._s(a.leave)+" GB")])]}}],null,!1,2382970897)}),s("el-table-column",{attrs:{prop:"pay_time",label:t.$t("standaloneServer.orderTime"),align:"center",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("span",[t._v(t._s(t.$moment(1e3*a.pay_time).format("YYYY-MM-DD")))])]}}],null,!1,3255626772)})],1)],1),s("div",{staticClass:"list_page"},[s("el-pagination",{attrs:{background:"",layout:" prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"page-size":t.limit,total:t.total,"pager-count":5},on:{"current-change":t.handlePageChange}})],1)])]),s("el-dialog",{attrs:{title:t.$t("standaloneServer.orderFlowPack"),visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[s("div",{staticClass:"dialog_table"},[s("el-table",{attrs:{data:t.gridData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}}},[s("el-table-column",{attrs:{property:"name",label:t.$t("standaloneServer.flowname")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("span",[t._v(t._s(a.name))]),t._v(" "),0===a.leave?s("span",[t._v("("+t._s(t.$t("standaloneServer.outOfStock"))+")")]):t._e()]}}],null,!1,4036417569)}),s("el-table-column",{attrs:{property:"capacity",label:t.$t("standaloneServer.flow")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("span",[t._v(t._s(a.capacity)+" GB")])]}}],null,!1,532867518)}),s("el-table-column",{attrs:{property:"price",label:t.$t("standaloneServer.price")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("span",[t._v(t._s(t.currency.prefix)+" "+t._s(a.price)+" "+t._s(t.currency.suffix))])]}}],null,!1,2727382862)}),s("el-table-column",{attrs:{label:t.$t("standaloneServer.order"),align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("el-button",{attrs:{type:"primary",size:"mini",disabled:!a.leave},on:{click:function(e){return t.buy(a)}}},[t._v(" "+t._s(t.$t("standaloneServer.buyNow")))])]}}],null,!1,3143216837)})],1)],1)]),s("payPop",{ref:"control",on:{"pay-success":t.reloadList,"balance-success":t.reList}})],1)]):t._e(),"Active"!==t.host_data.domainstatus||1!==t.host_data.allow_upgrade_config&&1!==t.host_data.allow_upgrade_product?t._e():s("el-tab-pane",{attrs:{name:"7",label:t.$t("cloudServer.UpgradeAndDowngrade")}},[0===t.upgradeType?s("div",{staticClass:"standaloneserver_control_box"},[1===t.host_data.allow_upgrade_product?s("div",{staticClass:"standaloneserver_control_item"},[s("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.upDown")))]),s("div",{staticClass:"standaloneserver_control_item_msg"},[s("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.upDownMsg")))])]),s("div",{staticClass:"standaloneserver_control_item_btn"},[s("el-button",{attrs:{plain:""},on:{click:t.upgradeProductHandleClick}},[t._v(t._s(t.$t("standaloneServer.upDown")))])],1)]):t._e(),1===t.host_data.allow_upgrade_config?s("div",{staticClass:"standaloneserver_control_item"},[s("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.upDownOptions")))]),s("div",{staticClass:"standaloneserver_control_item_msg"},[s("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.upDownOptionsMsg")))])]),s("div",{staticClass:"standaloneserver_control_item_btn"},[s("el-button",{attrs:{plain:""},on:{click:t.upgradeConfigHandleClick}},[t._v(t._s(t.$t("standaloneServer.upDownOptions"))+" ")])],1)]):t._e()]):t._e(),1===t.upgradeType?s("upgradeProduct",{on:{nextClick:function(e){return t.upgradeNext(1)}}}):t._e(),2===t.upgradeType?s("upgradeConfig",{on:{nextClick:function(e){return t.upgradeNext(2)}}}):t._e(),3===t.upgradeType?s("upgradePay",{attrs:{upgradeTypeChild:t.upgradeTypeChild}}):t._e()],1),t._l(t.menuList,(function(e){return s("el-tab-pane",{key:e.key,attrs:{label:e.name,name:e.key}},[s("div",[s("embed",{directives:[{name:"show",rawName:"v-show",value:isNaN(parseInt(t.activeName)),expression:"isNaN(parseInt(activeName))"}],staticStyle:{width:"100%"},attrs:{height:"800",src:t.htmlContent,type:""}})])])}))],2)],1)]),s("payPop",{ref:"controls",on:{"pay-success":t.paySuccess}}),s("el-dialog",t._g(t._b({attrs:{visible:t.remarkVis,title:t.$t("cloudServer.editNotes")},on:{open:t.onOpen,close:t.onClose}},"el-dialog",t.$attrs,!1),t.$listeners),[s("el-row",{attrs:{gutter:15}},[s("el-form",{ref:"remarkForm",attrs:{model:t.remarkFormData,rules:t.remarkRules,size:"medium","label-width":"140px"}},[s("el-col",{attrs:{span:23}},[s("el-row",{attrs:{gutter:15}},[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:t.$t("cloudServer.note"),prop:"remark"}},[s("el-input",{style:{width:"100%"},attrs:{placeholder:t.$t("cloudServer.pleaseEnterNote"),clearable:""},model:{value:t.remarkFormData.remark,callback:function(e){t.$set(t.remarkFormData,"remark",e)},expression:"remarkFormData.remark"}})],1)],1)],1)],1)],1)],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.close}},[t._v(t._s(t.$t("cloudServer.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.handelConfirm}},[t._v(t._s(t.$t("cloudServer.determine")))])],1)],1),s("el-dialog",{attrs:{visible:t.cancelDialog,title:t.$t("cloudServer.chooseDeleteTime"),width:"25%","before-close":t.beforeClose},on:{"update:visible":function(e){t.cancelDialog=e},open:t.cancelOpen}},[s("el-form",{ref:"cancelForm",attrs:{model:t.cancelFormData,rules:t.cancelRules,"label-width":"auto"}},[s("el-form-item",{attrs:{label:t.$t("cloudServer.cancelTime"),prop:"type"}},[s("el-select",{staticClass:"w-100",model:{value:t.cancelFormData.type,callback:function(e){t.$set(t.cancelFormData,"type",e)},expression:"cancelFormData.type"}},[s("el-option",{attrs:{value:"Immediate",label:t.$t("cloudServer.immediate")}}),"free"!==t.host_data.billingcycle&&"onetime"!==t.host_data.billingcycle?s("el-option",{attrs:{value:"Endofbilling",label:t.$t("cloudServer.waitingForEnd")}}):t._e()],1)],1),s("el-form-item",{attrs:{label:t.$t("cloudServer.cancelReason"),prop:"tempReason"}},[s("el-select",{staticClass:"w-100",on:{change:function(e){t.cancelFormData.reason=""}},model:{value:t.cancelFormData.tempReason,callback:function(e){t.$set(t.cancelFormData,"tempReason",e)},expression:"cancelFormData.tempReason"}},[s("el-option",{attrs:{value:"产品稳定性不足",label:t.$t("cloudServer.lackProductStability")}}),s("el-option",{attrs:{value:"业务减少不需要",label:t.$t("cloudServer.businessToReduce")}}),s("el-option",{attrs:{value:"other",label:t.$t("cloudServer.other")}})],1)],1),"other"===t.cancelFormData.tempReason?s("el-form-item",{attrs:{label:"",prop:"reason"}},[s("el-input",{staticClass:"w-100",attrs:{type:"textarea",placeholder:t.$t("cloudServer.pleaseEnterReason")},model:{value:t.cancelFormData.reason,callback:function(e){t.$set(t.cancelFormData,"reason",e)},expression:"cancelFormData.reason"}})],1):t._e()],1),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.beforeClose}},[t._v(t._s(t.$t("cloudServer.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.cancelSubmit}},[t._v(t._s(t.$t("cloudServer.determine")))])],1)],1)],1)},r=[],n=(a("4de4"),a("4160"),a("c975"),a("fb6a"),a("b0c0"),a("a9e3"),a("b680"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("1276"),a("159b"),a("96cf"),a("1da1")),o=a("27fd"),i=a("048a"),c=a("92b1"),l=a("99afe"),u=a("4c8e"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[t.productList.length?t._e():a("div",{staticClass:"tac"},[t._v(t._s(t.$t("standaloneServer.noUpDownProduct")))]),t._l(t.productList,(function(e,s){return a("div",{key:"pro"+s,class:{upgrade_proitem_box:e.host,upgrade_proitem_box_active:t.upgradeSubmitData.pid===e.pid},on:{click:function(a){return t.proChange(e.pid)}}},[e.host?a("el-row",[a("el-col",{attrs:{lg:18,xs:16}},[t._v(t._s(e.host))]),a("el-col",{staticClass:"tar",attrs:{lg:6,xs:8}},[a("el-select",{on:{change:t.cycleChange},model:{value:e.billingcycle,callback:function(a){t.$set(e,"billingcycle",a)},expression:"proItem.billingcycle"}},t._l(e.cycle,(function(e,s){return a("el-option",{key:"cycle"+s,attrs:{label:t.currency.prefix+e.price+t.currency.suffix+" / "+e.billingcycle_zh+(Number(e.saleproducts)?"(客户折扣："+t.currency.prefix+Number(e.saleproducts).toFixed(2)+t.currency.suffix+")":""),value:e.billingcycle}})})),1)],1)],1):t._e()],1)})),t.productList.length?a("div",{staticClass:"tar"},[a("el-button",{attrs:{type:"primary",disabled:!t.upgradeSubmitData.pid},on:{click:t.nextHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.next")))])],1):t._e()],2)},p=[],m={data:function(){return{id:this.$route.query.id,productList:[1],upgradeSubmitData:{hid:this.$route.query.id,pid:0,billingcycle:void 0,currencyid:void 0,promo_code:void 0},currency:void 0,toPayParams:{}}},computed:{},watch:{},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["P"])({hid:t.id,currencyid:void 0});case 2:a=e.sent,s=a.data,200!==s.status||((s.data.host||[]).forEach((function(t){t.billingcycle=t.cycle.length?t.cycle[0].billingcycle:void 0})),t.upgradeSubmitData.pid=s.data.host[0].pid,t.productList=s.data.host,t.currency=s.data.currency);case 5:case"end":return e.stop()}}),e)})))()},proChange:function(t){var e=this;this.upgradeSubmitData.pid=t,(this.productList||[]).forEach((function(a){a.pid===t&&a.cycle.length&&e.cycleChange(a.billingcycle)}))},cycleChange:function(t){var e=this;(this.productList||[]).forEach((function(a){(a.cycle||[]).forEach((function(a){t===a.billingcycle&&(e.upgradeSubmitData.billingcycle_zh=a.billingcycle_zh)}))}))},nextHandleClick:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeSubmitData.currencyid=t.currency.id,(t.productList||[]).forEach((function(e){e.pid===t.upgradeSubmitData.pid&&(t.upgradeSubmitData.billingcycle=e.billingcycle,t.toPayParams.newHost=e)})),e.next=4,Object(o["R"])(t.upgradeSubmitData);case 4:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):t.$emit("nextClick");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.getData()},mounted:function(){}},h=m,f=(a("dfd6"),a("2877")),v=Object(f["a"])(h,d,p,!1,null,"5c408bb4",null),g=v.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[t.configs.length?t._e():a("div",{staticClass:"tac"},[t._v(t._s(t.$t("standaloneServer.noUpDownProduct")))]),t._l(t.configs,(function(e,s){return a("div",{key:"config"+s,staticClass:"upgrade_configitem_box mb-20"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",[t._v(" "+t._s(e.option_name)+" : "),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("span",[t._v(t._s(e.qty_zh)+" "),4===e.option_type||15===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v(t._s(t.$t("cloudServer.core")))]):t._e(),9===e.option_type||17===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e()]):a("span",[t._v(t._s(e.suboption_name))]),e.option_name?a("span",{staticClass:"fr"},[t._v(">>>")]):t._e()])]),a("el-col",{attrs:{span:16}},[1===e.option_type?a("div",{staticClass:"pl-20"},[a("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},t._l(e.sub,(function(t){return a("el-option",{key:t.id,attrs:{label:t.option_name,value:t.id}})})),1)],1):t._e(),2===e.option_type?a("div",{staticClass:"pl-20"},t._l(e.sub,(function(s,r){return a("el-radio",{key:"Radio"+r,attrs:{label:s.id},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},[t._v(t._s(s.option_name))])})),1):t._e(),3===e.option_type?a("div",{staticClass:"pl-20"},t._l(e.sub,(function(s,r){return a("el-checkbox",{key:"yes/no"+r,attrs:{"true-label":s.id,"false-label":void 0},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},[t._v(t._s(s.option_name)+" ")])})),1):t._e(),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("div",{staticClass:"quantity_box"},[a("el-slider",{staticClass:"fl quantity_box_slider",attrs:{min:e.qty_minimum,max:e.qty_maximum},on:{change:function(e){t.nextDisable=!1}},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"configItem.qty"}}),a("div",{staticClass:"fr quantity_box_input"},[a("el-input-number",{staticClass:"quantity_input",attrs:{controls:!1,precision:0,min:e.qty_minimum,max:e.qty_maximum},on:{change:function(e){t.nextDisable=!1}},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"configItem.qty"}}),4===e.option_type||15===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v(t._s(t.$t("cloudServer.core")))]):t._e(),9===e.option_type||17===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e()],1)],1):t._e(),5===e.option_type?a("div",{staticClass:"pl-20"},[a("el-select",{staticStyle:{"margin-right":"10px","margin-bottom":"10px"},attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(a){return t.osSelectChange(e.osName)}},model:{value:e.osName,callback:function(a){t.$set(e,"osName",a)},expression:"configItem.osName"}},t._l(e.sub,(function(t,e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),a("el-select",{staticStyle:{"margin-bottom":"10px",width:"300px"},attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},t._l(e.osVersionOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.version,value:t.id}})})),1)],1):t._e(),6===e.option_type||8===e.option_type||10===e.option_type||13===e.option_type?a("div",{staticClass:"pl-20",staticStyle:{"padding-top":"5px"},attrs:{span:24}},t._l(e.sub,(function(s,r){return a("div",{key:r,staticClass:"select_block_item",class:{block_item_active:s.id===e.subid},on:{click:function(a){return t.selectBlockChange(e,s)}}},[t._v(" "+t._s(s.option_name)+" ")])})),0):t._e(),12===e.option_type?a("div",{staticClass:"pl-20",attrs:{span:24}},[a("div",{staticClass:"country_box"},t._l(e.sub,(function(s,r){return a("div",{key:r,staticClass:"country_item fl",class:{country_item_active:s.active,country_item_noarea:s.noarea},on:{click:function(a){return t.cityChange(e,s,t.configs)}}},[a("div",{staticClass:"country_item_innerbox"},[a("img",{staticClass:"country_item_flag",attrs:{src:"/upload/common/country/"+s.country_code+".png",alt:""}}),a("div",{staticClass:"country_item_name"},[t._v(t._s(s.city))])]),s.noarea?t._e():a("div",[a("el-select",{attrs:{size:"mini",disabled:!s.active||1===s.area.length&&""===s.area[0].area},model:{value:s.areaId,callback:function(e){t.$set(s,"areaId",e)},expression:"cityItem.areaId"}},t._l(s.area,(function(t,e){return a("el-option",{key:e,attrs:{label:t.area_zh,value:t.id}})})),1)],1)])})),0)]):t._e()])],1)],1)})),t.configs.length?a("div",{staticClass:"tar"},[a("el-button",{attrs:{type:"primary",disabled:t.nextDisable},on:{click:t.nextHandleClick}},[t._v(t._s(t.$t("standaloneServer.next"))+" ")])],1):t._e()],2)},b=[],y=(a("caad"),a("d81d"),a("d3b7"),a("2532"),a("4c53"),{metaInfo:function(){return{title:this.$t("standaloneServer.upDownOptions"),htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},data:function(){return{id:this.$route.query.id,configs:[1],upgradeSubmitData:{hid:this.$route.query.id,currencyid:void 0,promo_code:void 0,configoption:[]},nextDisable:!0}},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["M"])({hid:t.id,currencyid:void 0});case 2:a=e.sent,s=a.data,200!==s.status||((s.data.host||[]).forEach((function(e){if(5===e.option_type)for(var a in e.sub)e.sub[a].osName=a;else 12===e.option_type?(e.sub=t.objToArr(e.sub,"dataCenter"),(e.sub||[]).forEach((function(t){var a=t.area.map((function(t){return t.id}));a.includes(e.subid)?(t.active=!0,t.areaId=e.subid):t.active=!1,t.noarea=!0,(t.area||[]).forEach((function(e){""===e.area?e.area_zh="无配置区域":t.noarea=!1}))}))):[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)&&(e.qty_zh=e.qty)})),t.configs=s.data.host,t.osSelectChange(void 0,!0));case 5:case"end":return e.stop()}}),e)})))()},objToArr:function(t,e){var a=[];for(var s in t)"dataCenter"===e?(t[s].id=this.guid(),t[s].active=!1,t[s].city=s,t[s].areaId=void 0):t[s].osName=s,a.push(t[s]);return a},guid:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"===t?e:3&e|8;return a.toString(16)}))},osSelectChange:function(t,e){var a=this;(this.configs||[]).forEach((function(s){if(5!==s.option_type)return!1;var r=function(r){t===r&&(s.subid=s.sub[r].child[0].id,s.osVersionOptions=s.sub[r].child),e?(s.sub[r].child||[]).forEach((function(t){s.subid===t.id&&(s.osName=r,s.osVersionOptions=s.sub[r].child)})):a.nextDisable=!1};for(var n in s.sub)r(n)}))},selectBlockChange:function(t,e){t.subid=e.id,this.$forceUpdate(),this.nextDisable=!1},cityChange:function(t,e,a){var s=this;this.nextDisable=!1,(a||[]).forEach((function(a){12===a.option_type&&t.oid===a.oid&&(a.sub||[]).forEach((function(t){e.id!==t.id?(t.areaId=void 0,t.active=!1):(t.areaId=t.area.length?t.area[0].id:void 0,s.areaChange(a,t),t.active=!0),s.$forceUpdate()}))}))},areaChange:function(t,e){t.subid=e.areaId},nextHandleClick:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeSubmitData.configoption=[],(t.configs||[]).forEach((function(e){[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?t.upgradeSubmitData.configoption[e.oid]=e.qty:t.upgradeSubmitData.configoption[e.oid]=e.subid})),e.next=4,Object(o["O"])(t.$qs.stringify(t.upgradeSubmitData));case 4:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):t.$emit("nextClick");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.getData()}}),w=y,x=(a("86ce"),Object(f["a"])(w,_,b,!1,null,"dede23ba",null)),C=x.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},["product"===t.upgradeType?a("div",{staticClass:"order_box"},[a("el-row",{staticClass:"box_goodsitem_box"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"goodsitem_box_header"},[a("div",[a("span",[t._v(t._s(t.proPageData.old_host.host))])])]),a("el-row",{staticClass:"goodsitem_box_body"},[a("el-col",{staticClass:"box_body_left",attrs:{lg:18,xs:24}},[t._v(" "+t._s(t.$t("standaloneServer.newProduct"))+": "+t._s(t.proPageData.des)+" ")]),a("el-col",{staticClass:"box_body_right",attrs:{lg:6,xs:24}},[a("div",[a("span",[t._v(" "+t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount)+" "+t._s(t.proPageData.suffix))]),a("span",{staticClass:"body_right_cycle"},[t._v("/ "+t._s(t.proPageData.billingcycle_zh))])])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fr"},[a("div",{staticClass:"order_box_total"},[a("div",[t._v(t._s(t.$t("standaloneServer.total")))]),a("div",{staticClass:"box_total_money"},[a("span",{staticClass:"total_money_price"},[t._v(t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount_total)+" "+t._s(t.proPageData.suffix))]),a("span",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v(" / "+t._s(t.proPageData.billingcycle_zh))])])]),a("div",{staticClass:"youhui"},[t._v(" "+t._s(Number(t.proPageData.saleproducts)?"(客户折扣:"+t.proPageData.currency.prefix+Number(t.proPageData.saleproducts).toFixed(2)+")":"")+" ")]),a("div",{staticClass:"order_box_promo"},[a("el-input",{staticClass:"box_promo_inp",attrs:{placeholder:t.$t("standaloneServer.placeholderPromo")},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),a("el-button",{staticClass:"box_promo_btn",attrs:{type:"primary"},on:{click:t.addProductCode}},[t._v(" "+t._s(t.$t("standaloneServer.usePromo")))])],1),a("div",[a("el-button",{staticClass:"order_box_topay",attrs:{type:"primary",loading:t.btnLoading},on:{click:t.proUpgradePay}},[t._v(" "+t._s(t.$t("standaloneServer.settlement")))])],1),a("div",{staticClass:"tar"},[a("el-button",{staticClass:"order_box_continue",attrs:{type:"text"},on:{click:t.backHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.goBack")))])],1)])])],1)],1):t._e(),"config"===t.upgradeType?a("div",{staticClass:"order_box"},[a("el-row",{staticClass:"box_goodsitem_box"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"goodsitem_box_header"},[a("div",[a("span",[t._v(t._s(t.configPageData.name))])])]),a("el-row",{staticClass:"goodsitem_box_body"},[a("el-col",{staticClass:"box_body_left",attrs:{lg:18,xs:24}},t._l(t.configPageData.alloption,(function(e,s){return a("div",{key:s,staticClass:"body_left_item"},[t._v(" "+t._s(e.option_name)+": "),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("span",{staticClass:"body_item_value"},[t._v(t._s(e.qty))]):a("span",{staticClass:"body_item_value"},[t._v(t._s(e.suboption_name))])])})),0),a("el-col",{staticClass:"box_body_right",attrs:{lg:6,xs:24}},[a("div",[a("span",[t._v(t._s(t.configPageData.currency.prefix)+" "+t._s(t.configPageData.subtotal)+" "+t._s(t.configPageData.currency.suffix))]),a("span",{staticClass:"body_right_cycle"},[t._v("/"+t._s(t.configPageData.billingcycle_zh))])])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fr"},[a("div",{staticClass:"order_box_total"},[a("div",[t._v(t._s(t.$t("standaloneServer.total")))]),a("div",{staticClass:"box_total_money"},[a("span",{staticClass:"total_money_price"},[t._v(t._s(t.configPageData.currency.prefix)+t._s(t.configPageData.total)+t._s(t.configPageData.currency.suffix))]),a("span",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v(" / "+t._s(t.configPageData.billingcycle_zh))])])]),a("div",{staticClass:"youhui"},[t._v(" "+t._s(Number(t.configPageData.saleproducts)?"(客户折扣:"+t.configPageData.currency.prefix+Number(t.configPageData.saleproducts).toFixed(2)+")":"")+" ")]),a("div",{staticClass:"order_box_promo"},[a("el-input",{staticClass:"box_promo_inp",attrs:{placeholder:t.$t("standaloneServer.placeholderPromo")},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),a("el-button",{staticClass:"box_promo_btn",attrs:{type:"primary"},on:{click:t.addConfigCode}},[t._v(" "+t._s(t.$t("standaloneServer.usePromo"))+" ")])],1),a("div",[a("el-button",{staticClass:"order_box_topay",attrs:{type:"primary",loading:t.btnLoading},on:{click:t.configUpgradePay}},[t._v(" "+t._s(t.$t("standaloneServer.settlement")))])],1),a("div",{staticClass:"tar"},[a("el-button",{staticClass:"order_box_continue",attrs:{type:"text"},on:{click:t.backHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.goBack")))])],1)])])],1)],1):t._e(),a("payPop",{ref:"control",on:{"pay-success":t.successCallBack}})],1)},D=[],k=a("2ef0"),$={props:{upgradeTypeChild:{type:String,default:"product"}},data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,upgradeType:this.upgradeTypeChild,proPageData:{old_host:{id:0,host:"",domain:""},currency:{id:0,code:"",prefix:"",suffix:""}},configPageData:{alloption:[],currency:{id:1,code:"",prefix:"",suffix:""}},promoCode:"",payment:"",dialogVisible:!1,QRcodeUrl:"",payType:"",btnLoading:!1}},components:{payPop:c["a"]},methods:{getProductData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["Q"])({hid:t.id});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.proPageData=s.data,t.promoCode=s.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},addProductCode:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["b"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getProductData());case 5:case"end":return e.stop()}}),e)})))()},proUpgradePay:k.throttle(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.btnLoading=!0,t.next=3,Object(o["h"])({hid:this.proPageData.old_host.id});case 3:e=t.sent,a=e.data,200===a.status?this.$refs.control.startPay({id:a.data.invoiceid,name:this.$t("standaloneServer.upDown")}):1001===a.status?(this.$message.success(a.msg),this.$router.push({path:"/cloud-server",query:{groupid:this.groupid}})):this.$message.error(a.msg),this.btnLoading=!1;case 7:case"end":return t.stop()}}),t,this)}))),2e3),getConfigData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["N"])({hid:t.id});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.configPageData=s.data,t.promoCode=s.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},promoChange:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.promoCode){e.next=14;break}if("product"!==t.upgradeType){e.next=9;break}return e.next=4,Object(o["H"])({hid:t.id});case 4:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getProductData()),e.next=14;break;case 9:return e.next=11,Object(o["I"])({hid:t.id});case 11:r=e.sent,n=r.data,200!==n.status?t.$message.error(n.msg):(t.$message.success(n.msg),t.getConfigData());case 14:case"end":return e.stop()}}),e)})))()},addConfigCode:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getConfigData());case 5:case"end":return e.stop()}}),e)})))()},configUpgradePay:k.throttle(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in e={hid:this.id},e.configoption=[],this.configPageData.alloption)4===this.configPageData.alloption[a].option_type?e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].qty:e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].suboption_id;return this.btnLoading=!0,t.next=6,Object(o["g"])(this.$qs.stringify(e));case 6:s=t.sent,r=s.data,200===r.status?this.$refs.control.startPay({id:r.data.invoiceid,name:this.$t("standaloneServer.upDownOptions")}):1001===r.status?(this.$message.success(r.msg),this.$router.push({path:"/cloud-server",query:{groupid:this.groupid}})):this.$message.error(r.msg),this.btnLoading=!1;case 10:case"end":return t.stop()}}),t,this)}))),2e3),successCallBack:function(t){t&&this.$router.push({path:"/cloud-server",query:{groupid:this.groupid}})},backHandleClick:function(){this.$router.go(-1)}},created:function(){"config"===this.upgradeType?this.getConfigData():this.getProductData()},destroyed:function(){}},O=$,R=(a("877c"),Object(f["a"])(O,S,D,!1,null,"e219886e",null)),j=R.exports,T=a("b311"),P=a.n(T),I=a("2ef0"),F={metaInfo:function(){return{title:this.host_data.group.groupname,titleTemplate:"%s - "+this.host_data.domain+(this.companyname?" - "+this.companyname:""),htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},components:{flowEcharts:u["a"],payPop:c["a"],upgradeProduct:g,upgradeConfig:C,upgradePay:j},data:function(){return{f5Power:!1,download_data:[],crackRePwd:"",type:"left",popWidth:400,screenWidth:document.body.clientWidth,reInstallChecked:!1,hidden:!0,dcimcloud:{nat_acl:"",nat_web:""},suspendreason_type:"",companyname:"",pid:0,chartData:[],ylValue:7,start:"",ylOptions:[{value:7,label:this.$t("standaloneServer.selectTime7")},{value:15,label:this.$t("standaloneServer.selectTime15")},{value:30,label:this.$t("standaloneServer.selectTime30")}],bwlimit:0,bwusage:0,less:0,percentage:0,dialogTableVisible:!1,gridData:[],page:1,limit:6,total:0,tableData:[],seconds:0,overdue:0,isSupend:!1,remarkVis:!1,remarkFormData:{remark:void 0},remarkRules:{remark:[{required:!0,message:"请输入备注",trigger:"blur"}]},controlTabs:!1,aleadyError:!1,lodingIcon:!1,statusTxt:"",status:"",activeName:"2",htmlContent:"",menuList:[],id:0,userDetail:[],host_data:{domain:"",domainstatus:"",auth:{bmc:"off",crack_pass:"off",ikvm:"off",kvm:"off",novnc:"off",off:"off",on:"off",reboot:"off",reinstall:"off",rescue:"off",traffic:"off"},productname:"",assignedips:[],group:{fa_icon:"",groupname:"",id:0}},module_chart:[],module_button:{console:[],control:[]},config_options:[],custom_field_data:[],logPage:1,logLimit:20,logTotal:0,logOrderby:"id",logSort:"desc",logSearch:{input:"",timer:null},logTableData:[],rePage:1,reLimit:20,reTotal:0,reOrderby:"trans_id",reSort:"desc",reSearch:{input:"",timer:null},reTableData:[],hostData:{firstpaymentamount:"0.00",amount:"0.00"},currency:{prefix:"￥",suffix:"元"},cycle:[],myCycle:"",form:{hostid:0,billingcycles:""},cloudStatus:!1,cloudOsGroupOptions:[],cloudOsOptions:[],filterOsOptions:[],reinstallDialog:!1,reinstallFormData:{groupVal:"",osVal:""},reinstallFormRules:{},flowIndex:0,tabIndex:0,radio1:"1",radio2:"1",radio3:"1",InfoConfig:{cup:"",internal:"",period:""},chartData1:[{time:"15:15",traffic:250},{time:"15:30",traffic:150},{time:"15:45",traffic:100},{time:"16:00",traffic:100},{time:"16:15",traffic:250},{time:"16:30",traffic:150},{time:"16:45",traffic:100},{time:"17:00",traffic:100}],chartData2:[{time:"15:15",traffic:250,type:"switch1"},{time:"15:30",traffic:150,type:"switch1"},{time:"15:45",traffic:100,type:"switch1"},{time:"16:00",traffic:100,type:"switch1"},{time:"16:15",traffic:250,type:"switch1"},{time:"16:30",traffic:150,type:"switch1"},{time:"16:45",traffic:100,type:"switch1"},{time:"17:00",traffic:100,type:"switch1"},{time:"15:15",traffic:50,type:"switch2"},{time:"15:30",traffic:100,type:"switch2"},{time:"15:45",traffic:50,type:"switch2"},{time:"16:00",traffic:200,type:"switch2"},{time:"16:15",traffic:0,type:"switch2"},{time:"16:30",traffic:100,type:"switch2"},{time:"16:45",traffic:50,type:"switch2"},{time:"17:00",traffic:200,type:"switch2"}],chartData3:[{time:"15:15",traffic:250},{time:"15:30",traffic:150},{time:"15:45",traffic:100},{time:"16:00",traffic:100},{time:"16:15",traffic:250},{time:"16:30",traffic:150},{time:"16:45",traffic:100},{time:"17:00",traffic:100}],value:"",switchvalue1:"",switchvalue2:"",timeOut:null,timeInterval:null,exceptStatus:null,upgradeType:1,osSvgSelected:void 0,crackDialog:!1,crackFrom:{password:""},errorMsg:"",upgradeTypeChild:"product",host_cancel:{init:!0},cancelDialog:!1,cancelFormData:{id:this.$route.query.id,type:void 0,reason:"",tempReason:void 0},cancelRules:{type:[{required:!0,message:"请选择时间",trigger:"change"}],reason:[{required:!0,message:"请输入原因",trigger:"blur"}],tempReason:[{required:!0,message:"请选择原因",trigger:"change"}]}}},props:{},methods:{goDownload:function(t){t.url?open(t.url):this.$message.error("该文件没有下载链接")},creatCode:function(t){this.crackRePwd="";for(var e=parseInt(t),a=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],s=0;s<e;s++){var r=Math.floor(52*Math.random());this.crackRePwd+=a[r]}var n=/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?\d).*$/,o=new RegExp(n);o.test(this.crackRePwd)?this.crackFrom.password=this.crackRePwd:this.creatCode(12)},creakonClose:function(){this.$refs.crackPassword.resetFields(),this.crackFrom.password=""},getYlId:function(){this.pid=this.$route.query.id},getYlData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["k"])(t.pid);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:t.currency=s.data.currency,t.bwlimit=s.data.host_data.bwlimit,t.bwusage=s.data.host_data.bwusage,t.suspendreason_type=s.data.host_data.suspendreason_type,t.less=parseFloat((s.data.host_data.bwlimit-s.data.host_data.bwusage).toFixed(2)),t.percentage=(t.less<=0?0:t.less)/(s.data.host_data.bwlimit?s.data.host_data.bwlimit:1)*100,t.tableData=s.data.dcim.flow_packet_use_list,t.total=s.data.dcim.flow_packet_use_list.length,t.gridData=s.data.dcim.flowpacket;case 16:case"end":return e.stop()}}),e)})))()},getChartData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.chartData=[],0!==t.pid){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Object(o["o"])(t.pid,t.start);case 5:if(a=e.sent,s=a.data,200===s.status){e.next=9;break}return e.abrupt("return",!1);case 9:t.chartData=s.data,t.initCharts();case 11:case"end":return e.stop()}}),e)})))()},initCharts:function(){var t=this.$t("standaloneServer.traffic");this.columnPlot&&this.columnPlot.destroy(),this.columnPlot=new l["a"]("trafficCanvas",{data:this.chartData,xField:"time",yField:"value",meta:{value:{alias:t}},color:"#007bfc",yAxis:{label:{suffix:"GB"},title:{visible:!1},grid:{visible:!1}},xAxis:{title:{visible:!1}}}),this.columnPlot.render()},buy:I.throttle(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["d"])(this.pid,e.id);case 2:if(a=t.sent,s=a.data,200===s.status){t.next=7;break}return this.$message.error(s.msg),t.abrupt("return",!1);case 7:this.dialogTableVisible=!1,this.$refs.control.startPay({id:s.data.invoiceid,name:e.name});case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),200),reloadList:function(t){t&&this.getYlData()},reList:function(t){t&&this.getYlData()},handlePageChange:function(t){this.page=t},onOpen:function(){},onClose:function(){this.remarkVis=!1,this.$refs.remarkForm.resetFields()},close:function(){this.remarkVis=!1,this.$emit("update:visible",!1)},handelConfirm:function(){var t=this;this.$refs.remarkForm.validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){var s,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",!1);case 2:return s={id:t.$route.query.id,remark:t.remarkFormData.remark},e.next=5,Object(i["b"])(s);case 5:r=e.sent,n=r.data,200!==n.status?(t.$message.error(n.msg),t.onClose()):(t.$message.success(n.msg),t.onClose(),t.getCustom(),t.getId(),t.getViewData(),t.getPriceData(),t.getLogList());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},chargeRemark:function(){this.remarkVis=!0},getOsSvg:function(t){var e=1;return e=-1!==t.toLowerCase().indexOf("windows")?1:-1!==t.toLowerCase().indexOf("centos")?2:-1!==t.toLowerCase().indexOf("ubuntu")?3:-1!==t.toLowerCase().indexOf("debian")?4:-1!==t.toLowerCase().indexOf("esxi")?5:-1!==t.toLowerCase().indexOf("xenserver")?6:-1!==t.toLowerCase().indexOf("freebsd")?7:-1!==t.toLowerCase().indexOf("fedora")?8:"",e},getCustom:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t&&(parseInt(t.name)<7||(s=localStorage.getItem("OrfLcI2IqQItv0vS"),e.htmlContent=e.$baseUrl+"/provision/custom/content?id="+e.$route.query.id+"&key="+t.name+"&jwt="+s),"7"===t.name&&(e.upgradeType=0));case 1:case"end":return a.stop()}}),a)})))()},getId:function(){this.id=this.$route.query.id},getViewData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["k"])(t.id);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:t.dcimcloud=s.data.dcimcloud?s.data.dcimcloud:{nat_acl:"",nat_web:""},t.dcimcloud==={}?t.hidden=!0:t.hidden=!1,t.companyname=s.data.system_config.company_name,t.host_data=s.data.host_data,t.download_data=s.data.download_data,0===t.host_data.dcimid&&"dcimcloud"===t.host_data.type&&(t.activeName="3"),0===t.host_data.serverid?(t.activeName="3",t.statusTxt=t.host_data.domainstatus_desc,t.status=t.host_data.domainstatus):"Active"===t.host_data.domainstatus?(t.activeName="2",t.statusTxt=t.host_data.domainstatus_desc):"Suspended"===t.host_data.domainstatus?(t.activeName="3",t.status=t.host_data.domainstatus,t.statusTxt=t.host_data.domainstatus_desc):"Pending"===t.host_data.domainstatus?(t.activeName="3",t.statusTxt=t.host_data.domainstatus_desc,t.status=t.host_data.domainstatus):"Deleted"===t.host_data.domainstatus?(t.activeName="5",t.statusTxt=t.host_data.domainstatus_desc,t.status=t.host_data.domainstatus):"Cancelled"===t.host_data.domainstatus?(t.activeName="3",t.statusTxt=t.host_data.domainstatus_desc,t.status=t.host_data.domainstatus):"Fraud"===t.host_data.domainstatus&&(t.statusTxt=t.host_data.domainstatus_desc,t.status=t.host_data.domainstatus,t.activeName="3"),t.f5Power=s.data.module_power_status,s.data.module_power_status?t.getStatus():s.data.module_power_status||0!==t.host_data.serverid||(t.lodingIcon=!1),t.menuList=s.data.module_client_area,t.config_options=s.data.config_options,t.custom_field_data=s.data.custom_field_data,t.module_button=s.data.module_button,0===t.module_button.console.length&&0===t.module_button.control.length?t.controlTabs=!1:t.controlTabs=!0,t.cloudOsGroupOptions=s.data.cloud_os_group,t.reinstallFormData.groupVal=0!==t.cloudOsGroupOptions.length?t.cloudOsGroupOptions[0].id:"",t.cloudOsOptions=s.data.cloud_os,t.module_chart=s.data.module_chart,setTimeout((function(){t.module_chart&&t.module_chart.forEach((function(e){void 0!==t.$refs["flowEcharts"+e.type]&&"undefined"!==t.$refs["flowEcharts"+e.type]&&(t.$refs["flowEcharts"+e.type][0].type=e.type,t.$refs["flowEcharts"+e.type][0].init())}))}),0),t.cloudOsGroupOptions&&t.cloudOsGroupOptions.length>0?(t.filterOsOptions=t.cloudOsOptions.filter((function(e){return e.group===t.reinstallFormData.groupVal})),t.reinstallFormData.osVal=0!==t.filterOsOptions.length?t.filterOsOptions[0].id:"",t.cloudOsGroupOptions.forEach((function(e){t.showOsSvg(e)})),t.osSvgSelected=t.cloudOsGroupOptions[0].osSvg):(t.filterOsOptions=t.cloudOsOptions,t.reinstallFormData.osVal=0!==t.cloudOsOptions.length?t.cloudOsOptions[0].id:""),t.userDetail=[],""===s.data.host_data.password&&""===s.data.host_data.port&&""===s.data.host_data.username||""===s.data.host_data.password&&0===s.data.host_data.port&&""===s.data.host_data.username?t.userDetail=[]:t.userDetail.push({password:s.data.host_data.password,port:s.data.host_data.port,username:s.data.host_data.username}),t.host_cancel=s.data.host_cancel;case 30:case"end":return e.stop()}}),e)})))()},getLogList:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["g"])(t.id,t.logPage,t.logLimit,t.logOrderby,t.logSort,t.logSearch.input);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:t.logTableData=s.data.log_list,t.logTotal=s.data.count;case 9:case"end":return e.stop()}}),e)})))()},changeLogSort:function(t){"descending"===t.order?(this.logOrderby=t.prop,this.logSort="desc"):(this.logOrderby=t.prop,this.logSort="asc"),this.getLogList()},handleLogSizeChange:function(t){this.logLimit=t,this.getLogList()},handleLogCurrentChange:function(t){this.logPage=t,this.getLogList()},getPriceData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["i"])(t.id);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:if(t.hostData=s.data.host,t.seconds=t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"seconds"),t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?(t.overdue=t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"days")+t.$t("standaloneServer.day"),0===parseInt(t.overdue)&&(t.overdue=t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"hours")+t.$t("standaloneServer.hour"))):t.overdue="",t.currency=s.data.currency,t.cycle=s.data.cycle,"free"!==s.data.host.billingcycle){e.next=14;break}return e.abrupt("return",!1);case 14:if("ontrial"!==s.data.host.billingcycle){e.next=17;break}return t.form.billingcycles=s.data.cycle[0].billingcycle,e.abrupt("return",!1);case 17:t.form.billingcycles=s.data.host.billingcycle;case 18:case"end":return e.stop()}}),e)})))()},getRechargeList:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["h"])(t.id,t.rePage,t.reLimit,t.reOrderby,t.reSort,t.reSearch.input);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:t.reTableData=s.data.invoices,t.reTotal=s.data.count;case 9:case"end":return e.stop()}}),e)})))()},handleReSizeChange:function(t){this.reLimit=t,this.getRechargeList()},handleReCurrentChange:function(t){this.rePage=t,this.getRechargeList()},changeReSort:function(t){"descending"===t.order?(this.reOrderby=t.prop,this.reSort="desc"):(this.reOrderby=t.prop,this.reSort="asc"),this.getRechargeList()},getPrice:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(i["i"])(e.id,t);case 2:if(s=a.sent,r=s.data,200===r.status){a.next=7;break}return e.$message.error(r.msg),a.abrupt("return",!1);case 7:e.hostData=r.data.host,e.hostData.amount=r.data.host.amount;case 9:case"end":return a.stop()}}),a)})))()},renew:I.debounce(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.form.hostid=this.id,t.next=3,Object(i["l"])(this.form);case 3:e=t.sent,a=e.data,1001===a.status?(this.$message.success(a.msg),this.getViewData()):200===a.status?this.$refs.controls.startPay({id:a.data.invoiceid,name:this.$t("standaloneServer.renew")}):this.$message.error(a.msg);case 6:case"end":return t.stop()}}),t,this)}))),200),payNow:I.debounce((function(){this.$refs.controls.startPay({id:this.hostData.id,name:this.$t("standaloneServer.pay")})}),200),paySuccess:function(t){t&&this.getPriceData()},controlFunc:function(t){"重装系统"===t.name?this.reinstallDialog=!0:"crack_pass"===t.func?(this.creatCode(12),this.crackDialog=!0):this.defaultControl(t)},consoleHandleCommand:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r,n,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.split("-"),r=s[1],n=s[2],"default"!==n||"vnc"!==r){a.next=12;break}return o={id:e.id,func:r},a.next=7,Object(i["d"])(o);case 7:c=a.sent,l=c.data,200===l.status?(u=window.open("url","_blank"),u.location=l.data.url):e.$swal("",l.msg,"error"),a.next=18;break;case 12:if("custom"!==n){a.next=18;break}return a.next=15,Object(i["c"])({id:e.id,func:r});case 15:d=a.sent,p=d.data,200!==p.status?e.$swal("",p.msg||"失败","error"):p.url?window.open(p.url):e.$swal("",p.msg||"成功","success");case 18:case"end":return a.stop()}}),a)})))()},getStatus:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={id:t.$route.query.id,func:"status"},e.next=3,Object(i["d"])(a);case 3:s=e.sent,r=s.data,200!==r.status?(t.status="unknown",t.statusTxt=r.msg,t.aleadyError||(t.aleadyError=!0)):(t.status=r.data?r.data.status:"unknown",t.statusTxt=r.data?r.data.des:"未知"),t.lodingIcon&&(t.lodingIcon=!1);case 7:case"end":return e.stop()}}),e)})))()},refreshStatus:function(){var t=this;this.aleadyError=!1,this.lodingIcon=!0,clearTimeout(this.timeOut),clearInterval(this.timeInterval),this.timeInterval=setInterval(this.getStatus,3e3),this.timeOut=setTimeout((function(){clearInterval(t.timeInterval)}),12e4)},defaultControl:function(t){var e=this;this.$swal.fire({title:t.name,icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(s){var r,n,o,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s.value){a.next=19;break}if(e.$swal.fire("","Loading......","success"),r={id:e.id,func:t.func},"default"!==t.type){a.next=11;break}return a.next=6,Object(i["d"])(r);case 6:n=a.sent,o=n.data,"off"===t.func||"hard_off"===t.func?e.exceptStatus="off":e.exceptStatus="on",e.refreshStatus(),e.totalFunc(o);case 11:if("custom"!==t.type){a.next=19;break}return a.next=14,Object(i["c"])(r);case 14:c=a.sent,l=c.data,e.refreshStatus(),e.totalFunc(l),l.url&&window.open(l.url);case 19:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},totalFunc:function(t){var e=this;setTimeout((function(){200===t.status?(e.getViewData(),e.$notify({title:e.$t("standaloneServer.controlSuccess"),message:t.msg,type:"success",offset:80})):e.$notify({title:e.$t("standaloneServer.controlError"),message:t.msg,type:"error",offset:80})}),2e3)},osGroupChange:function(t){var e=this;this.reinstallFormData.groupVal=t,this.reinstallFormData.osVal="",this.filterOsOptions=[],this.filterOsOptions=this.cloudOsOptions.filter((function(e){return e.group===t})),this.reinstallFormData.osVal=0!==this.filterOsOptions.length?this.filterOsOptions[0].id:"",(this.cloudOsGroupOptions||[]).forEach((function(a){a.id===t&&(e.osSvgSelected=a.osSvg)}))},handleClickTip:function(){this.f5Power&&this.refreshStatus()},osChange:function(t){this.reinstallFormData.osVal=t},reinstallCancle:function(){var t=this;this.reinstallDialog=!1,this.cloudOsGroupOptions&&this.cloudOsGroupOptions.length>0?(this.filterOsOptions=this.cloudOsOptions.filter((function(e){return e.group===t.reinstallFormData.groupVal})),this.reinstallFormData.osVal=0!==this.filterOsOptions.length?this.filterOsOptions[0].id:""):(this.filterOsOptions=this.cloudOsOptions,this.reinstallFormData.osVal=0!==this.cloudOsOptions.length?this.cloudOsOptions[0].id:"")},reinstallClosed:function(){var t=this;this.reInstallChecked=!1,this.cloudOsGroupOptions&&this.cloudOsGroupOptions.length>0?(this.filterOsOptions=this.cloudOsOptions.filter((function(e){return e.group===t.reinstallFormData.groupVal})),this.reinstallFormData.osVal=0!==this.filterOsOptions.length?this.filterOsOptions[0].id:""):(this.filterOsOptions=this.cloudOsOptions,this.reinstallFormData.osVal=0!==this.cloudOsOptions.length?this.cloudOsOptions[0].id:"")},reinstall:I.debounce(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.reinstallDialog=!1,e={id:this.id,func:"reinstall",os:this.reinstallFormData.osVal},t.next=4,Object(i["d"])(e);case 4:a=t.sent,s=a.data,this.exceptStatus="on",this.refreshStatus(),this.totalFunc(s);case 9:case"end":return t.stop()}}),t,this)}))),200),saveCrack:I.debounce(Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$refs.crackPassword.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=4;break}return t.abrupt("return",!1);case 4:return s={id:e.id,func:"crack_pass",password:e.crackFrom.password},t.next=7,Object(i["d"])(s);case 7:r=t.sent,n=r.data,200!==n.status?e.errorMsg=n.msg:(e.crackDialog=!1,e.refreshStatus(),e.getViewData());case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)}))),200),toJump:function(t){this.tabIndex=t,window.sessionStorage.setItem("index",this.tabIndex)},flowBuy:function(t){this.flowIndex=t},onSubmit:function(){},upgradeProductHandleClick:function(){this.upgradeType=1},upgradeConfigHandleClick:function(){this.upgradeType=2},showOsSvg:function(t){-1!==t.name.toLowerCase().indexOf("windows")?t.osSvg=1:-1!==t.name.toLowerCase().indexOf("centos")?t.osSvg=2:-1!==t.name.toLowerCase().indexOf("ubuntu")?t.osSvg=3:-1!==t.name.toLowerCase().indexOf("debian")?t.osSvg=4:-1!==t.name.toLowerCase().indexOf("esxi")?t.osSvg=5:-1!==t.name.toLowerCase().indexOf("xenserver")?t.osSvg=6:-1!==t.name.toLowerCase().indexOf("freebsd")?t.osSvg=7:-1!==t.name.toLowerCase().indexOf("fedora")?t.osSvg=8:t.osSvg=9},resize:function(){var t=this;this.module_chart.forEach((function(e){t.$refs["flowEcharts"+e.type][0]&&t.$refs["flowEcharts"+e.type][0].resize(e.type)})),this.screenWidth=document.body.clientWidth,this.type=this.screenWidth>900?"left":"top",this.popWidth=this.screenWidth>900?400:320},clickCopy:function(t){var e=this,a=0,s=new P.a(this.$refs[t]);s.on("success",(function(t){e.$message.success("复制成功"),a++,a>1&&s.destroy()})),s.on("error",(function(t){e.$message.error("复制失败")}))},upgradeNext:function(t){this.upgradeType=3,1===t?this.upgradeTypeChild="product":2===t&&(this.upgradeTypeChild="config")},cancelSubmit:function(){var t=this,e="";e="Immediate"===this.cancelFormData.type?"这将会立刻删除您的产品，操作不可逆，所有数据丢失":"产品将会在到期当天被立刻删除，操作不可逆，所有数据丢失","other"!==this.cancelFormData.tempReason&&(this.cancelFormData.reason=this.cancelFormData.tempReason),this.$refs.cancelForm.validate((function(a){if(!a)return!1;t.cancelDialog=!1,t.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(t.cancelFormData);case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.getViewData(),t.$message.success(s.msg));case 5:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}))},cancelOpen:function(){this.cancelFormData.type=void 0,this.cancelFormData.tempReason=void 0,this.cancelFormData.reason=""},beforeClose:function(){var t=this;this.$refs.cancelForm.resetFields(),setTimeout((function(){t.$refs.cancelForm.clearValidate(),t.cancelDialog=!1}),100)},deleteCancel:function(){var t=this,e="";e="Immediate"!==this.host_cancel.type?"您已选择到期时自动删除产品，当前可关闭停用设置，是否关闭？":"您已选择立刻删除产品，当前可关闭停用设置，是否关闭？",this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["e"])({id:t.pid});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.getViewData(),t.$message.success(s.msg));case 5:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},watch:{ylValue:{handler:function(t){7===t?(this.start=this.$moment(Date.now()-5184e5).format("YYYY-MM-DD"),this.getChartData()):15===t?(this.start=this.$moment(Date.now()-12096e5).format("YYYY-MM-DD"),this.getChartData()):30===t&&(this.start=this.$moment(Date.now()-25056e5).format("YYYY-MM-DD"),this.getChartData())},immediate:!0},lodingIcon:function(t){t&&(this.statusTxt="加载中")},status:function(t,e){e&&t===this.exceptStatus&&clearInterval(this.timeInterval)},"form.billingcycles":{handler:function(t){var e=this.cycle.filter((function(e){return e.billingcycle===t}));this.myCycle=e[0].billingcycle_zh.replace("付",""),this.getPrice(t)},deep:!0},"logSearch.input":{handler:function(){var t=this;this.logSearch.timer&&clearTimeout(this.logSearch.timer),this.logSearch.timer=setTimeout((function(){t.getLogList()}),200)},deep:!0},"reSearch.input":{handler:function(){var t=this;this.reSearch.timer&&clearTimeout(this.reSearch.timer),this.reSearch.timer=setTimeout((function(){t.getRechargeList()}),200)},deep:!0},screenWidth:{handler:function(t){this.type=this.screenWidth>900?"left":"top",this.popWidth=this.screenWidth>900?400:320},immediate:!0}},created:function(){this.getCustom(),this.getId(),this.getViewData(),this.getPriceData(),this.getLogList(),this.getRechargeList(),this.getYlId(),this.getYlData(),this.getChartData()},computed:{frontEndPageChange:function(){var t=(this.page-1)*this.limit,e=this.page*this.limit;return this.tableData.slice(t,e)}},mounted:function(){var t,e=this;window.sessionStorage.getItem("index")&&(this.tabIndex=Number(sessionStorage.getItem("index"))),window.addEventListener("resize",(function(){t&&clearTimeout(t),t=setTimeout((function(){t=null,e.resize()}),300)})),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",e.resize)}))},destroyed:function(){clearTimeout(this.timeOut),clearInterval(this.timeInterval)}},A=F,N=(a("e8c8"),Object(f["a"])(A,s,r,!1,null,"34b09c57",null));e["default"]=N.exports},b489:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},["product"===t.upgradeType?a("div",{staticClass:"order_box"},[a("el-row",{staticClass:"box_goodsitem_box"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"goodsitem_box_header"},[a("div",[a("span",[t._v(t._s(t.proPageData.old_host.host))])])]),a("el-row",{staticClass:"goodsitem_box_body"},[a("el-col",{staticClass:"box_body_left",attrs:{lg:18,xs:24}},[t._v(" "+t._s(t.$t("standaloneServer.newProduct"))+": "+t._s(t.proPageData.des)+" ")]),a("el-col",{staticClass:"box_body_right",attrs:{lg:6,xs:24}},[a("div",[a("span",[t._v(" "+t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount)+" "+t._s(t.proPageData.suffix))]),a("span",{staticClass:"body_right_cycle"},[t._v("/ "+t._s(t.proPageData.billingcycle_zh))])])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fr"},[a("div",{staticClass:"order_box_total"},[a("div",[t._v(t._s(t.$t("standaloneServer.total")))]),a("div",{staticClass:"box_total_money"},[a("span",{staticClass:"total_money_price"},[t._v(t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount_total)+" "+t._s(t.proPageData.suffix))]),a("span",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v(" / "+t._s(t.proPageData.billingcycle_zh))])])]),a("div",{staticClass:"youhui",staticStyle:{display:"block"}},[t._v(" "+t._s(Number(t.proPageData.saleproducts)?"(客户折扣:"+t.proPageData.currency.prefix+Number(t.proPageData.saleproducts).toFixed(2)+")":"")+" ")]),a("div",{staticClass:"order_box_promo"},[a("el-input",{staticClass:"box_promo_inp",attrs:{placeholder:t.$t("standaloneServer.placeholderPromo")},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),a("el-button",{staticClass:"box_promo_btn",attrs:{type:"primary"},on:{click:t.addProductCode}},[t._v(" "+t._s(t.$t("standaloneServer.usePromo")))])],1),a("div",[a("el-button",{staticClass:"order_box_topay",attrs:{type:"primary",loading:t.btnLoading},on:{click:t.proUpgradePay}},[t._v(" "+t._s(t.$t("standaloneServer.settlement")))])],1),a("div",{staticClass:"tar"},[a("el-button",{staticClass:"order_box_continue",attrs:{type:"text"},on:{click:t.backHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.goBack")))])],1)])])],1)],1):t._e(),"config"===t.upgradeType?a("div",{staticClass:"order_box"},[a("el-row",{staticClass:"box_goodsitem_box"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"goodsitem_box_header"},[a("div",[a("span",[t._v(t._s(t.configPageData.name))])])]),a("el-row",{staticClass:"goodsitem_box_body"},[a("el-col",{staticClass:"box_body_left",attrs:{lg:18,xs:24}},t._l(t.configPageData.alloption,(function(e,s){return a("div",{key:s,staticClass:"body_left_item"},[t._v(" "+t._s(e.option_name)+": "),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("span",{staticClass:"body_item_value"},[t._v(t._s(e.qty))]):a("span",{staticClass:"body_item_value"},[t._v(t._s(e.suboption_name))])])})),0),a("el-col",{staticClass:"box_body_right",attrs:{lg:6,xs:24}},[a("div",[a("span",[t._v(t._s(t.configPageData.currency.prefix)+" "+t._s(t.configPageData.subtotal)+" "+t._s(t.configPageData.currency.suffix))]),a("span",{staticClass:"body_right_cycle"},[t._v("/"+t._s(t.configPageData.billingcycle_zh))])])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fr"},[a("div",{staticClass:"order_box_total"},[a("div",[t._v(t._s(t.$t("standaloneServer.total")))]),a("div",{staticClass:"box_total_money"},[a("span",{staticClass:"total_money_price"},[t._v(t._s(t.configPageData.currency.prefix)+t._s(t.configPageData.total)+t._s(t.configPageData.currency.suffix))]),a("span",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v(" / "+t._s(t.configPageData.billingcycle_zh))])])]),a("div",{staticClass:"youhui"},[t._v(" "+t._s(Number(t.configPageData.saleproducts)?"(客户折扣:"+t.configPageData.currency.prefix+Number(t.configPageData.saleproducts).toFixed(2)+t.configPageData.currency.suffix+")":"")+" ")]),a("div",{staticClass:"order_box_promo"},[a("el-input",{staticClass:"box_promo_inp",attrs:{placeholder:t.$t("standaloneServer.placeholderPromo")},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),a("el-button",{staticClass:"box_promo_btn",attrs:{type:"primary"},on:{click:t.addConfigCode}},[t._v(" "+t._s(t.$t("standaloneServer.usePromo"))+" ")])],1),a("div",[a("el-button",{staticClass:"order_box_topay",attrs:{type:"primary",loading:t.btnLoading},on:{click:t.configUpgradePay}},[t._v(" "+t._s(t.$t("standaloneServer.settlement")))])],1),a("div",{staticClass:"tar"},[a("el-button",{staticClass:"order_box_continue",attrs:{type:"text"},on:{click:t.backHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.goBack")))])],1)])])],1)],1):t._e(),a("payPop",{ref:"control",on:{"pay-success":t.successCallBack}})],1)},r=[],n=(a("96cf"),a("1da1")),o=a("27fd"),i=a("92b1"),c=a("2ef0"),l={props:{upgradeTypeChild:{type:String,default:"product"}},data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,upgradeType:this.upgradeTypeChild,proPageData:{old_host:{id:0,host:"",domain:""},currency:{id:0,code:"",prefix:"",suffix:""}},configPageData:{alloption:[],currency:{id:1,code:"",prefix:"",suffix:""}},promoCode:"",payment:"",dialogVisible:!1,QRcodeUrl:"",payType:"",btnLoading:!1}},components:{payPop:i["a"]},methods:{getProductData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["Q"])({hid:t.id});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.proPageData=s.data,t.promoCode=s.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},addProductCode:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["b"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getProductData());case 5:case"end":return e.stop()}}),e)})))()},proUpgradePay:c.throttle(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.btnLoading=!0,t.next=3,Object(o["h"])({hid:this.proPageData.old_host.id});case 3:e=t.sent,a=e.data,200===a.status?this.$refs.control.startPay({id:a.data.invoiceid,name:this.$t("standaloneServer.upDown")}):1001===a.status?(this.$message.success(a.msg),this.$router.push({path:"/servers",query:{groupid:this.groupid}})):this.$message.error(a.msg),this.btnLoading=!1;case 7:case"end":return t.stop()}}),t,this)}))),2e3),getConfigData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["N"])({hid:t.id});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.configPageData=s.data,t.promoCode=s.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},promoChange:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.promoCode){e.next=14;break}if("product"!==t.upgradeType){e.next=9;break}return e.next=4,Object(o["H"])({hid:t.id});case 4:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getProductData()),e.next=14;break;case 9:return e.next=11,Object(o["I"])({hid:t.id});case 11:r=e.sent,n=r.data,200!==n.status?t.$message.error(n.msg):(t.$message.success(n.msg),t.getConfigData());case 14:case"end":return e.stop()}}),e)})))()},addConfigCode:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getConfigData());case 5:case"end":return e.stop()}}),e)})))()},configUpgradePay:c.throttle(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in e={hid:this.id},e.configoption=[],this.configPageData.alloption)4===this.configPageData.alloption[a].option_type?e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].qty:e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].suboption_id;return this.btnLoading=!0,t.next=6,Object(o["g"])(this.$qs.stringify(e));case 6:s=t.sent,r=s.data,200===r.status?this.$refs.control.startPay({id:r.data.invoiceid,name:this.$t("standaloneServer.upDownOptions")}):1001===r.status?(this.$message.success(r.msg),this.$router.push({path:"/servers",query:{groupid:this.groupid}})):this.$message.error(r.msg),this.btnLoading=!1;case 10:case"end":return t.stop()}}),t,this)}))),2e3),successCallBack:function(t){t&&this.$router.push({path:"/servers",query:{groupid:this.groupid}})},backHandleClick:function(){this.$router.go(-1)}},created:function(){"config"===this.upgradeType?this.getConfigData():this.getProductData()},destroyed:function(){}},u=l,d=(a("37b2"),a("2877")),p=Object(d["a"])(u,s,r,!1,null,"678f6139",null);e["default"]=p.exports},b8c6:function(t,e,a){},c508:function(t,e,a){},d362:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"security layout_card"},[s("div",{staticClass:"page-title"},[t._v(t._s(t.$t("securityCenter.pageTitle")))]),s("div",{staticClass:"page-content product"},[s("el-row",{attrs:{type:"flex",justify:"center"}},[s("el-col",{attrs:{xs:22,sm:22,md:16,lg:12}},[s("p",{staticClass:"title"},[t._v("魔方财务免费版")]),s("div",{staticClass:"box-info secret"},[s("div",{staticClass:"secret-left"},[s("img",{staticClass:"img",attrs:{src:a("8cc1"),alt:"产品密钥"}}),s("div",{staticClass:"secret-cont"},[s("div",{staticClass:"secret-cont-title"},[t._v("产品密钥（key）")]),s("div",{staticClass:"secret-cont-key"},[t._v("WSUHGRUEAFDVHYDGBDHASHGVGSAH ")])])]),s("div",{staticClass:"secret-right"},[s("el-button",{attrs:{type:"primary"}},[t._v("重置授权")])],1)]),s("div",{staticClass:"mt-40"},[s("p",{staticClass:"font-16"},[t._v("配置信息")]),s("div",{staticClass:"box-info "},[s("div",{staticClass:"box-info-cont"},[s("span",{staticClass:"box-info-title"},[t._v("版本")]),s("span",{},[t._v("旗舰版")])])])])])],1)],1)])},r=[],n={components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){}},o=n,i=(a("0547"),a("2877")),c=Object(i["a"])(o,s,r,!1,null,"2d870e43",null);e["default"]=c.exports},d700:function(t,e,a){},db36:function(t,e,a){"use strict";var s=a("34f4"),r=a.n(s);r.a},dfd6:function(t,e,a){"use strict";var s=a("1ec0"),r=a.n(s);r.a},e8c8:function(t,e,a){"use strict";var s=a("0b80"),r=a.n(s);r.a},ecd7:function(t,e,a){"use strict";var s=a("4f94"),r=a.n(s);r.a},f5de:function(t,e,a){t.exports=a.p+"img/editRemark.f8cb5659.svg"},f640:function(t,e,a){}}]);