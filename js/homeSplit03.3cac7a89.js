(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["homeSplit03"],{"0309":function(t,e,a){},"048a":function(t,e,a){"use strict";a.d(e,"f",(function(){return r})),a.d(e,"k",(function(){return n})),a.d(e,"j",(function(){return i})),a.d(e,"g",(function(){return o})),a.d(e,"i",(function(){return c})),a.d(e,"l",(function(){return l})),a.d(e,"h",(function(){return u})),a.d(e,"d",(function(){return d})),a.d(e,"c",(function(){return p})),a.d(e,"b",(function(){return m})),a.d(e,"a",(function(){return f})),a.d(e,"e",(function(){return h}));var s=a("a27e");function r(t,e,a,r,n,i,o,c){return Object(s["a"])({url:"host/list",params:{type:"list",groupid:t,page:e,limit:a,orderby:r,sort:n,search:i,dcim_area:o,domain_status:c}})}function n(t){return Object(s["a"])({url:"host/header",params:{host_id:t}})}function i(t){return Object(s["a"])({url:"/provision/chart/".concat(t.hostId),params:t})}function o(t,e,a,r,n,i){return Object(s["a"])({url:"user_logdcims",params:{hostid:t,page:e,limit:a,orderby:r,sorting:n,keywords:i}})}function c(t,e){return Object(s["a"])({url:"host/renewpage",params:{hostid:t,billingcycles:e}})}function l(t){return Object(s["a"])({url:"host/renew",method:"post",data:t})}function u(t,e,a,r,n,i){return Object(s["a"])({url:"host/hostrecharge",params:{hostid:t,page:e,limit:a,order:r,sort:n,keywords:i}})}function d(t){return Object(s["a"])({url:"provision/default",method:"post",data:t})}function p(t){return Object(s["a"])({url:"provision/button",method:"post",data:t})}function m(t){return Object(s["a"])({url:"/host/remark",method:"post",data:t})}function f(t){return Object(s["a"])({url:"/host/cancel",method:"post",data:t})}function h(t){return Object(s["a"])({url:"/host/cancel",method:"delete",data:t})}},"06a8":function(t,e,a){"use strict";var s=a("4a89"),r=a.n(s);r.a},"0a065":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_log"},[a("div",{staticClass:"standaloneserver_log_search"},[a("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.search.input,callback:function(e){t.$set(t.search,"input",e)},expression:"search.input"}})],1),a("div",{staticClass:"standaloneserver_log_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}},on:{"sort-change":t.changeSort}},[a("el-table-column",{attrs:{prop:"create_time",label:t.$t("standaloneServer.operatingTime"),align:"center",width:"180",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",[t._v(t._s(t.$moment(1e3*s.create_time).format("YYYY-MM-DD HH:mm:ss")))])]}}])}),a("el-table-column",{attrs:{prop:"description",label:t.$t("standaloneServer.operatingDetail")},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{domProps:{innerHTML:t._s(s.description)}})]}}])}),a("el-table-column",{attrs:{prop:"user",label:t.$t("standaloneServer.operator"),align:"center",width:"150",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"ipaddr",label:t.$t("standaloneServer.ipAddress"),align:"center",width:"150",sortable:"custom"}})],1)],1),a("div",{staticClass:"standaloneserver_log_pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},r=[],n=(a("a9e3"),a("ac1f"),a("841c"),a("96cf"),a("1da1")),i=a("4a8e"),o={data:function(){return{page:1,limit:20,total:0,orderby:"id",sort:"desc",search:{input:"",timer:null},tableData:[]}},props:{id:{type:Number,default:0}},methods:{getId:function(){},getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["c"])(t.id,t.page,t.limit,t.orderby,t.sort,t.search.input);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=6;break}return e.abrupt("return",!1);case 6:t.total=s.data.count,t.tableData=s.data.log_list;case 8:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.limit=t,this.getData()},handleCurrentChange:function(t){this.page=t,this.getData()},changeSort:function(t){"descending"===t.order?(this.orderby=t.prop,this.sort="desc"):(this.orderby=t.prop,this.sort="asc"),this.getData()}},created:function(){this.getId(),this.getData()},watch:{"search.input":{handler:function(){var t=this;this.search.timer&&clearTimeout(this.search.timer),this.search.timer=setTimeout((function(){t.getData()}),200)},deep:!0}}},c=o,l=(a("8dae"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,"044f8824",null);e["default"]=u.exports},"0aa1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_finance"},[a("div",{staticClass:"standaloneserver_finance_pricebox"},[a("div",{staticClass:"standaloneserver_finance_pricetitle"},[a("div",{staticClass:"standaloneserver_finance_pricetitlel"},[a("span",[t._v(t._s(t.$t("standaloneServer.firstOrderPrice"))),a("b",[t._v(t._s(t.currency.prefix+" "+t.hostData.firstpaymentamount))]),t._v(t._s(t.currency.suffix))])]),a("div",{staticClass:"standaloneserver_finance_pricetitler"},["hour"===t.hostData.billingcycle?a("div",{staticClass:"standaloneserver_finance_time"},[a("span",[t._v(t._s(t.$t("standaloneServer.orderTime"))+"：")]),a("span",[t._v(t._s(t.hostData.regdate?t.$moment(1e3*t.hostData.regdate).format("YYYY-MM-DD HH:mm"):"-"))])]):a("div",{staticClass:"standaloneserver_finance_time"},[a("span",[t._v(t._s(t.$t("standaloneServer.orderTime"))+"：")]),a("span",[t._v(t._s(t.hostData.regdate?t.$moment(1e3*t.hostData.regdate).format("YYYY-MM-DD"):"-"))])]),"hour"===t.hostData.billingcycle?a("div",{staticClass:"standaloneserver_finance_time"},[a("span",[t._v(t._s(t.$t("standaloneServer.nextduedate"))+"：")]),a("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?t.$moment(1e3*t.hostData.nextduedate).format("YYYY-MM-DD HH:mm"):t.$t("standaloneServer.notDue")))]),t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle&&t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"seconds")<0?a("span",[t._v("（"+t._s(t.$t("standaloneServer.overdue"))+"）")]):a("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?"（"+t.$t("standaloneServer.left")+" "+t.overdue+"）":""))])]):a("div",{staticClass:"standaloneserver_finance_time"},[a("span",[t._v(t._s(t.$t("standaloneServer.nextduedate"))+"：")]),a("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?t.$moment(1e3*t.hostData.nextduedate).format("YYYY-MM-DD"):t.$t("standaloneServer.notDue")))]),t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle&&t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"seconds")<0?a("span",[t._v("（"+t._s(t.$t("standaloneServer.overdue"))+"）")]):a("span",[t._v(t._s(t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?"（"+t.$t("standaloneServer.left")+" "+t.overdue+"）":""))])]),t.host_cancel.init||"Active"!==t.host_data.domainstatus&&"Suspended"!==t.host_data.domainstatus?t._e():a("div",{staticClass:"mr-20 ml-10"},[0===t.host_cancel.length?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.cancelDialog=!0}}},[t._v("停用 ")]):a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:t.deleteCancel}},[t._v(" "+t._s("Immediate"!==t.host_cancel.type?"到期时停用":"立即停用"))])],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"Unpaid"===t.hostData.status&&"free"!==t.hostData.billingcycle||"Paid"===t.hostData.status&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle&&("Active"===t.hostData.domainstatus||"Suspended"===t.hostData.domainstatus),expression:"(hostData.status === 'Unpaid' && hostData.billingcycle !== 'free')\n    || (hostData.status === 'Paid' && (hostData.billingcycle !== 'free' && hostData.billingcycle !== 'onetime') && (hostData.domainstatus === 'Active' || hostData.domainstatus === 'Suspended'))"}],staticClass:"standaloneserver_finance_priceform"},[a("el-form",{ref:"form",attrs:{model:t.form}},["Paid"===t.hostData.status?a("el-form-item",{attrs:{label:t.$t("standaloneServer.paymentCycle")}},[a("el-radio-group",{model:{value:t.form.billingcycles,callback:function(e){t.$set(t.form,"billingcycles",e)},expression:"form.billingcycles"}},t._l(t.cycle,(function(e,s){return a("el-radio",{key:s,attrs:{label:e.billingcycle,border:""}},[t._v(" "+t._s(e.billingcycle_zh))])})),1)],1):"Unpaid"===t.hostData.status?a("el-form-item",{attrs:{label:t.$t("standaloneServer.paymentCycle")}},[a("div",{staticClass:"grid"},[a("el-radio-group",{model:{value:t.form.billingcycles,callback:function(e){t.$set(t.form,"billingcycles",e)},expression:"form.billingcycles"}},[a("el-radio",{attrs:{label:t.hostData.billingcycle,border:""}},[t._v(t._s(t.hostData.billingcycle_zh))])],1)],1)]):t._e(),"Paid"===t.hostData.status?a("el-form-item",{attrs:{label:t.$t("standaloneServer.renewalPrice")}},[a("div",{staticClass:"renewal_price"},[a("span",[t._v(t._s(t.currency.prefix+" "+t.hostData.amount))]),t._v(" "+t._s(t.currency.suffix)+" / "+t._s(t.myCycle)+" "),Number(t.hostData.saleproducts)?a("span",{staticClass:"gray hiddenFunc"},[t._v(t._s("(客户折扣:"+t.currency.prefix+Number(t.hostData.saleproducts).toFixed(2)+t.currency.suffix+")"))]):t._e()])]):"Unpaid"===t.hostData.status?a("el-form-item",{attrs:{label:t.$t("standaloneServer.payPrice")}},[a("div",{staticClass:"renewal_price"},[a("span",[t._v(t._s(t.currency.prefix+" "+t.hostData.firstpaymentamount))]),t._v(" "+t._s(t.currency.suffix)+" / "+t._s(t.myCycle)+" "),Number(t.hostData.saleproducts)?a("span",{staticClass:"gray hiddenFunc"},[t._v(t._s("(客户折扣:"+t.currency.prefix+Number(t.hostData.saleproducts).toFixed(2)+t.currency.suffix+")"))]):t._e()])]):t._e()],1),"Paid"===t.hostData.status?a("el-button",{attrs:{type:"primary"},on:{click:t.renew}},[t._v(t._s(t.$t("standaloneServer.renewNow"))+" ")]):"Unpaid"===t.hostData.status?a("el-button",{attrs:{type:"primary"},on:{click:t.payNow}},[t._v(" "+t._s(t.$t("standaloneServer.payNow")))]):t._e()],1)]),a("div",{staticClass:"standaloneserver_finance_rechargebox"},[a("div",{staticClass:"standaloneserver_finance_rechargetitle"},[a("span",[t._v(t._s(t.$t("standaloneServer.transactionRecord")))]),a("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.search.input,callback:function(e){t.$set(t.search,"input",e)},expression:"search.input"}})],1),a("div",{staticClass:"standaloneserver_finance_rechargetable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}},on:{"sort-change":t.changeSort}},[a("el-table-column",{attrs:{prop:"pay_time",label:t.$t("standaloneServer.transactiondate"),sortable:"custom",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.pay_time?t.$moment(1e3*a.pay_time).format("YYYY-MM-DD"):"-")+" ")]}}])}),a("el-table-column",{attrs:{prop:"type",label:t.$t("standaloneServer.source"),sortable:"custom"}}),a("el-table-column",{attrs:{prop:"amount_in",label:t.$t("standaloneServer.price"),sortable:"custom",width:"130"}}),a("el-table-column",{attrs:{prop:"trans_id",label:t.$t("standaloneServer.serialNumber"),sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.trans_id?a.trans_id:"-")+" ")]}}])}),a("el-table-column",{attrs:{prop:"gateway",label:t.$t("standaloneServer.payMent"),sortable:"custom",width:"135"}})],1)],1),a("div",{staticClass:"standaloneserver_finance_pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","page-sizes":[10,15,20,25],"prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),a("payPop",{ref:"control",on:{"pay-success":t.paySuccess}}),a("el-dialog",{attrs:{visible:t.cancelDialog,title:"请选择您要停用并删除该产品的时间",width:"25%","before-close":t.beforeClose},on:{"update:visible":function(e){t.cancelDialog=e},open:t.cancelOpen}},[a("el-form",{ref:"cancelForm",attrs:{model:t.cancelFormData,rules:t.cancelRules,"label-width":"auto"}},[a("el-form-item",{attrs:{label:"取消时间",prop:"type"}},[a("el-select",{staticClass:"w-100",attrs:{clearable:""},model:{value:t.cancelFormData.type,callback:function(e){t.$set(t.cancelFormData,"type",e)},expression:"cancelFormData.type"}},[a("el-option",{attrs:{value:"Immediate",label:"立即"}}),"free"!==t.host_data.billingcycle&&"onetime"!==t.host_data.billingcycle?a("el-option",{attrs:{value:"Endofbilling",label:"到期时"}}):t._e()],1)],1),a("el-form-item",{attrs:{label:"取消原因",prop:"tempReason"}},[a("el-select",{staticClass:"w-100",attrs:{clearable:""},on:{change:function(e){t.cancelFormData.reason=""}},model:{value:t.cancelFormData.tempReason,callback:function(e){t.$set(t.cancelFormData,"tempReason",e)},expression:"cancelFormData.tempReason"}},[a("el-option",{attrs:{value:"产品稳定性不足",label:"产品稳定性不足"}}),a("el-option",{attrs:{value:"业务减少不需要",label:"业务减少不需要"}}),a("el-option",{attrs:{value:"other",label:"其他"}})],1)],1),"other"===t.cancelFormData.tempReason?a("el-form-item",{attrs:{label:"",prop:"reason"}},[a("el-input",{staticClass:"w-100",attrs:{type:"textarea",placeholder:"请输入原因"},model:{value:t.cancelFormData.reason,callback:function(e){t.$set(t.cancelFormData,"reason",e)},expression:"cancelFormData.reason"}})],1):t._e()],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.beforeClose}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.cancelSubmit}},[t._v("确定")])],1)],1)],1)},r=[],n=(a("4de4"),a("a9e3"),a("ac1f"),a("5319"),a("841c"),a("96cf"),a("1da1")),i=a("27fd"),o=a("048a"),c=a("92b1"),l=a("2ef0"),u={data:function(){return{overdue:0,hostData:{firstpaymentamount:"0.00",amount:"0.00"},host_data:{domainstatus_desc:""},currency:{prefix:"￥",suffix:"元"},cycle:[],myCycle:"",page:1,limit:20,total:0,orderby:"trans_id",sort:"desc",search:{input:"",timer:null},tableData:[],form:{hostid:0,billingcycles:""},host_cancel:{init:!0},cancelDialog:!1,cancelFormData:{id:this.$route.query.id,type:void 0,reason:"",tempReason:void 0},cancelRules:{type:[{required:!0,message:"请选择时间",trigger:"change"}],reason:[{required:!0,message:"请输入原因",trigger:"blur"}],tempReason:[{required:!0,message:"请选择原因",trigger:"change"}]}}},props:{pid:{type:Number,default:0}},components:{payPop:c["a"]},methods:{getId:function(){},getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["x"])(t.pid);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:t.host_data=s.data.host_data,t.host_cancel=s.data.host_cancel;case 9:case"end":return e.stop()}}),e)})))()},getPriceData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["u"])(t.pid);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:if(t.hostData=s.data.host,t.hostData.nextduedate&&"free"!==t.hostData.billingcycle&&"onetime"!==t.hostData.billingcycle?(t.overdue=t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"days")+t.$t("standaloneServer.day"),0===parseInt(t.overdue)&&(t.overdue=t.$moment(1e3*t.hostData.nextduedate).diff(t.$moment(new Date),"hours")+t.$t("standaloneServer.hour"))):t.overdue="",t.currency=s.data.currency,t.cycle=s.data.cycle,"free"!==s.data.host.billingcycle){e.next=13;break}return e.abrupt("return",!1);case 13:if("ontrial"!==s.data.host.billingcycle){e.next=16;break}return t.form.billingcycles=s.data.cycle[0].billingcycle,e.abrupt("return",!1);case 16:t.form.billingcycles=s.data.host.billingcycle;case 17:case"end":return e.stop()}}),e)})))()},getRechargeList:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["t"])(t.pid,t.page,t.limit,t.orderby,t.sort,t.search.input);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:t.tableData=s.data.invoices,t.total=s.data.count;case 9:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.limit=t,this.getRechargeList()},handleCurrentChange:function(t){this.page=t,this.getRechargeList()},changeSort:function(t){"descending"===t.order?(this.orderby=t.prop,this.sort="desc"):(this.orderby=t.prop,this.sort="asc"),this.getRechargeList()},getPrice:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(i["u"])(e.pid,t);case 2:if(s=a.sent,r=s.data,200===r.status){a.next=7;break}return e.$message.error(r.msg),a.abrupt("return",!1);case 7:e.hostData=r.data.host,e.hostData.amount=r.data.host.amount;case 9:case"end":return a.stop()}}),a)})))()},renew:l.debounce(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.form.hostid=this.pid,t.next=3,Object(i["J"])(this.form);case 3:if(e=t.sent,a=e.data,1001!==a.status){t.next=9;break}return this.$message.success(a.msg),this.getPriceData(),t.abrupt("return");case 9:if(200===a.status){t.next=12;break}return this.$message({type:"error",message:a.msg,center:!0}),t.abrupt("return",!1);case 12:this.$refs.control.startPay({id:a.data.invoiceid,name:this.$t("standaloneServer.renew")});case 13:case"end":return t.stop()}}),t,this)}))),200),payNow:l.debounce((function(){this.$refs.control.startPay({id:this.hostData.id,name:this.$t("standaloneServer.pay")})}),200),paySuccess:function(t){t&&this.getPriceData()},cancelSubmit:function(){var t=this,e="";e="Immediate"===this.cancelFormData.type?"这将会立刻删除您的产品，操作不可逆，所有数据丢失":"产品将会在到期当天被立刻删除，操作不可逆，所有数据丢失","other"!==this.cancelFormData.tempReason&&(this.cancelFormData.reason=this.cancelFormData.tempReason),this.$refs.cancelForm.validate((function(a){if(!a)return!1;t.cancelDialog=!1,t.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])(t.cancelFormData);case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.getData(),t.$message.success(s.msg),t.$store.dispatch("addHostDataUpdate",t.pid));case 5:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}))},cancelOpen:function(){this.cancelFormData.type=void 0,this.cancelFormData.tempReason=void 0,this.cancelFormData.reason=""},beforeClose:function(){var t=this;this.$refs.cancelForm.resetFields(),setTimeout((function(){t.$refs.cancelForm.clearValidate(),t.cancelDialog=!1}),100)},deleteCancel:function(){var t=this,e="";e="Immediate"!==this.host_cancel.type?"您已选择到期时自动删除产品，当前可关闭停用设置，是否关闭？":"您已选择立刻删除产品，当前可关闭停用设置，是否关闭？",this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["e"])({id:t.pid});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.getData(),t.$message.success(s.msg));case 5:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.getId(),this.getData(),this.getPriceData(),this.getRechargeList()},watch:{"form.billingcycles":{handler:function(t){var e=this.cycle.filter((function(e){return e.billingcycle===t}));this.myCycle=e[0].billingcycle_zh.replace("付",""),this.getPrice(t)},deep:!0},"search.input":{handler:function(){var t=this;this.search.timer&&clearTimeout(this.search.timer),this.search.timer=setTimeout((function(){t.getRechargeList()}),200)},deep:!0}}},d=u,p=(a("ab37"),a("2877")),m=Object(p["a"])(d,s,r,!1,null,"515eeadf",null);e["default"]=m.exports},"126a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_traffic"},[a("div",{staticClass:"standaloneserver_traffic_chart"},[a("div",{staticClass:"chart_title"},[a("div",{staticClass:"chart_titlel"},[t._v(t._s(t.$t("standaloneServer.usageStatistics")))]),a("div",{staticClass:"chart_titler"},[a("el-select",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),a("div",{staticClass:"chart_box",attrs:{id:"trafficCanvas"}})]),a("div",{staticClass:"standaloneserver_traffic_list"},[a("div",{staticClass:"list_title"},[a("div",{staticClass:"list_titlel"},[a("div",{staticClass:"list_titlel_top"},[a("div",{staticClass:"list_titlel_topl"},[a("span",{staticStyle:{fontSize:"16px"}},[t._v(t._s(t.$t("standaloneServer.remainingFlow")))]),t._v(" / "),a("span",{staticStyle:{fontSize:"12px"}},[t._v(t._s(t.$t("standaloneServer.totalFlow")))])]),a("div",{staticClass:"list_titlel_topr"},[t.less>=0?a("div",[a("span",{staticStyle:{fontWeight:"700",fontSize:"16px",color:"#007bfc"}},[t._v(t._s(t.less)+"GB")]),t._v(" / "),a("span",{staticStyle:{fontSize:"12px"}},[t._v(t._s(t.bwlimit)+"GB")])]):a("div",[a("span",{staticStyle:{fontWeight:"700",fontSize:"16px",color:"red"}},[t._v(t._s(t.less)+"GB")]),t._v(" / "),a("span",{staticStyle:{fontSize:"12px"}},[t._v(t._s(t.bwlimit)+"GB")])])])]),a("div",{staticClass:"list_titlel_foot"},[a("div",{staticClass:"progress"},[a("el-progress",{staticStyle:{width:"100%"},attrs:{percentage:t.percentage,"show-text":!1}})],1)])]),a("div",{staticClass:"list_titler"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogTableVisible=!0}}},[t._v(t._s(t.$t("standaloneServer.order")))])],1)]),a("div",{staticClass:"list_box"},[a("div",{staticClass:"list_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.frontEndPageChange,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}}},[a("el-table-column",{attrs:{prop:"name",label:t.$t("standaloneServer.name"),align:"center",sortable:""}}),a("el-table-column",{attrs:{prop:"capacity",label:t.$t("standaloneServer.total"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(s.capacity)+" GB")])]}}])}),a("el-table-column",{attrs:{prop:"leave",label:t.$t("standaloneServer.Remain"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(s.leave)+" GB")])]}}])}),a("el-table-column",{attrs:{prop:"pay_time",label:t.$t("standaloneServer.orderTime"),align:"center",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(t.$moment(1e3*s.pay_time).format("YYYY-MM-DD")))])]}}])})],1)],1),a("div",{staticClass:"list_page"},[a("el-pagination",{attrs:{background:"",layout:" prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"page-size":t.limit,total:t.total,"pager-count":5},on:{"current-change":t.handlePageChange}})],1)])]),a("el-dialog",{attrs:{title:t.$t("standaloneServer.orderFlowPack"),visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("div",{staticClass:"dialog_table"},[a("el-table",{attrs:{data:t.gridData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}}},[a("el-table-column",{attrs:{property:"name",label:t.$t("standaloneServer.flowname")},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(s.name))]),t._v(" "),0===s.leave?a("span",[t._v("("+t._s(t.$t("standaloneServer.outOfStock"))+")")]):t._e()]}}])}),a("el-table-column",{attrs:{property:"capacity",label:t.$t("standaloneServer.flow")},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(s.capacity)+" GB")])]}}])}),a("el-table-column",{attrs:{property:"price",label:t.$t("standaloneServer.price")},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("span",[t._v(t._s(t.currency.prefix)+" "+t._s(s.price)+" "+t._s(t.currency.suffix))])]}}])}),a("el-table-column",{attrs:{label:t.$t("standaloneServer.order"),align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("el-button",{attrs:{type:"primary",size:"mini",disabled:!s.leave},on:{click:function(e){return t.buy(s)}}},[t._v(" "+t._s(t.$t("standaloneServer.buyNow")))])]}}])})],1)],1)]),a("payPop",{ref:"control",on:{"pay-success":t.reloadList,"balance-success":t.reList}})],1)},r=[],n=(a("fb6a"),a("b0c0"),a("a9e3"),a("b680"),a("96cf"),a("1da1")),i=a("27fd"),o=a("92b1"),c=a("99afe"),l=a("2ef0"),u={data:function(){return{chartData:[],value:7,start:"",options:[{value:7,label:this.$t("standaloneServer.selectTime7")},{value:15,label:this.$t("standaloneServer.selectTime15")},{value:30,label:this.$t("standaloneServer.selectTime30")}],bwlimit:0,bwusage:0,less:0,percentage:0,dialogTableVisible:!1,gridData:[],currency:{},page:1,limit:6,total:0,tableData:[]}},props:{id:{type:Number,default:0}},components:{payPop:o["a"]},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["w"])(t.id);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:t.currency=s.data.currency,t.gridData=s.data.dcim.flowpacket,t.bwlimit=s.data.host_data.bwlimit,t.bwusage=s.data.host_data.bwusage,t.less=parseFloat((s.data.host_data.bwlimit-s.data.host_data.bwusage).toFixed(2)),t.percentage=(t.less<=0?0:t.less)/(s.data.host_data.bwlimit?s.data.host_data.bwlimit:1)*100,t.tableData=s.data.dcim.flow_packet_use_list,t.total=s.data.dcim.flow_packet_use_list.length;case 15:case"end":return e.stop()}}),e)})))()},getChartData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.chartData=[],0!==t.id){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Object(i["v"])(t.id,t.start);case 5:if(a=e.sent,s=a.data,200===s.status){e.next=9;break}return e.abrupt("return",!1);case 9:t.chartData=s.data,t.initCharts();case 11:case"end":return e.stop()}}),e)})))()},initCharts:function(){var t=this.$t("standaloneServer.traffic");this.columnPlot&&this.columnPlot.destroy(),this.columnPlot=new c["a"]("trafficCanvas",{data:this.chartData,xField:"time",yField:"value",meta:{value:{alias:t}},color:"#007bfc",yAxis:{label:{suffix:"GB"},title:{visible:!1},grid:{visible:!1}},xAxis:{title:{visible:!1}}}),this.columnPlot.render()},buy:l.throttle(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["d"])(this.id,e.id);case 2:if(a=t.sent,s=a.data,200===s.status){t.next=7;break}return this.$message.error(s.msg),t.abrupt("return",!1);case 7:this.dialogTableVisible=!1,this.$refs.control.startPay({id:s.data.invoiceid,name:e.name});case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),200),reloadList:function(t){t&&this.getData()},reList:function(t){t&&this.getData()},handlePageChange:function(t){this.page=t}},created:function(){this.getData(),this.getChartData()},computed:{frontEndPageChange:function(){var t=(this.page-1)*this.limit,e=this.page*this.limit;return this.tableData.slice(t,e)}},watch:{value:{handler:function(t){7===t?(this.start=this.$moment(Date.now()-5184e5).format("YYYY-MM-DD"),this.getChartData()):15===t?(this.start=this.$moment(Date.now()-12096e5).format("YYYY-MM-DD"),this.getChartData()):30===t&&(this.start=this.$moment(Date.now()-25056e5).format("YYYY-MM-DD"),this.getChartData())},immediate:!0}}},d=u,p=(a("06a8"),a("2877")),m=Object(p["a"])(d,s,r,!1,null,"9993a870",null);e["default"]=m.exports},"163e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[t.productList.length?t._e():a("div",{staticClass:"tac"},[t._v(t._s(t.$t("standaloneServer.noUpDownProduct")))]),t._l(t.productList,(function(e,s){return a("div",{key:"pro"+s,class:{upgrade_proitem_box:e.host,upgrade_proitem_box_active:t.upgradeSubmitData.pid===e.pid},on:{click:function(a){return t.proChange(e.pid)}}},[e.host?a("el-row",[a("el-col",{attrs:{lg:18,xs:16}},[t._v(t._s(e.host))]),a("el-col",{staticClass:"tar",attrs:{lg:6,xs:8}},[a("el-select",{on:{change:t.cycleChange},model:{value:e.billingcycle,callback:function(a){t.$set(e,"billingcycle",a)},expression:"proItem.billingcycle"}},t._l(e.cycle,(function(e,s){return a("el-option",{key:"cycle"+s,attrs:{label:t.currency.prefix+e.price+t.currency.suffix+" / "+e.billingcycle_zh+(Number(e.saleproducts)?"(客户折扣："+t.currency.prefix+Number(e.saleproducts).toFixed(2)+t.currency.suffix+")":""),value:e.billingcycle}})})),1)],1)],1):t._e()],1)})),t.productList.length?a("div",{staticClass:"tar"},[a("el-button",{attrs:{type:"primary",disabled:!t.upgradeSubmitData.pid},on:{click:t.nextHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.next")))])],1):t._e()],2)},r=[],n=(a("4160"),a("159b"),a("96cf"),a("1da1")),i=a("27fd"),o={data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,productList:[1],upgradeSubmitData:{hid:this.$route.query.id,pid:0,billingcycle:void 0,currencyid:void 0,promo_code:void 0},currency:void 0,toPayParams:{}}},computed:{},watch:{},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["P"])({hid:t.id,currencyid:void 0});case 2:a=e.sent,s=a.data,200!==s.status||((s.data.host||[]).forEach((function(t){t.billingcycle=t.cycle.length?t.cycle[0].billingcycle:void 0})),t.upgradeSubmitData.pid=s.data.host[0].pid,t.productList=s.data.host,t.currency=s.data.currency);case 5:case"end":return e.stop()}}),e)})))()},proChange:function(t){var e=this;this.upgradeSubmitData.pid=t,(this.productList||[]).forEach((function(a){a.pid===t&&a.cycle.length&&e.cycleChange(a.billingcycle)}))},cycleChange:function(t){var e=this;(this.productList||[]).forEach((function(a){(a.cycle||[]).forEach((function(a){t===a.billingcycle&&(e.upgradeSubmitData.billingcycle_zh=a.billingcycle_zh)}))}))},nextHandleClick:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeSubmitData.currencyid=t.currency.id,(t.productList||[]).forEach((function(e){e.pid===t.upgradeSubmitData.pid&&(t.upgradeSubmitData.billingcycle=e.billingcycle,t.toPayParams.newHost=e)})),e.next=4,Object(i["R"])(t.upgradeSubmitData);case 4:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):t.$emit("nextClick");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.getData()},mounted:function(){}},c=o,l=(a("2223"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,"81f3f03c",null);e["default"]=u.exports},"1a9f":function(t,e,a){},"1b14":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQyQ0IxOTRFOTBGNDExRUE5NkI0RjJBRjFDOEE3NkUyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQyQ0IxOTRGOTBGNDExRUE5NkI0RjJBRjFDOEE3NkUyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDJDQjE5NEM5MEY0MTFFQTk2QjRGMkFGMUM4QTc2RTIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDJDQjE5NEQ5MEY0MTFFQTk2QjRGMkFGMUM4QTc2RTIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6SDsinAAADV0lEQVR42uyYXUhTYRjH/3Of6SxS+0I0TVNL0oaSZmQRdVESGV1UF0GgYBd2ISZlSSDdSDcVEdVFEoSp+UEUWgl9oKKjD7S0bwM1nStsOtuH23TrvIeS5hFiy/OutvcPL2yc7XB+7/85z/O8j8Rsse4EcI1bK+DfGuFWnoQD1gUA7Aw0AXYhgBSEABMDZsAMmAEzYAbMgBkwAxZLMk//MO10oqquA0/a38JstlF9WLlcipTkKOQd2orwxWqv7uHx4aG47Cbq7zz1qUsx0RFori1BSIhS3JD+ZjBRg5VIJNi4YTW2ZCUJrvUPjuLew5fih/SXr0YqsEqlHDeuHEFGWhz/vbqhEyfKa91+Y5yw+k/SIq7+giXavzcTwQsU/pulJ767u2ezO+CYmqYPLJXR2R/t8z7UNGrhdLr4SnDyTB0cDndgaZBE/CxtsdqhyT6FSZuDCrharYLVYudL4eyE1tJ4HAlxy8V1mLxH5aX7uN2l47TJNCmADeKcLTu2xytYr+ow0cDnUbR2vofdPkX13VYoZNicmcjXYa/LXaBNLWXe/Kld+wGP295g3Gih+rAqlRypydHIzUnj3abi8LnL93GeW76UJiUG9dePQiaTipu0jBMWXLzaQif0OBjNupVYtDBYcK3rVT8ePOoRP6R1I2OCrCmGSBW4VVmItPWxMFtsKCiqRBuXJH+X3ss21yOHXZTSW/amJB6WKCRYibPlB/lyFDADgKURoVAq5PSBJfO0y38SCV/ts76fUeXCBS5vWCfts7otCmUpOjKcP7rZRG4tp7iDwoH8S1ibGImxcRN0+nHhWTk9XnyHyYThdEkuFZeJs6/fDQlgiUqLdmMNtxnUOq3u3kE0tXTDYDBRfZfDwtTYtSOVL1estRSrtWRTSx/IL6eWRKFqFZ+RZ+tvppYeAdOaWi6JWIi71cXo7ahAW3MZ4lctm6Ov96OpZcHhbfy7ShTF1f6Swpx5u/c/CUxC2d3xUN8A05pa1jR0zrSSpCpUVrXOcaLyrrf0qCyR8FJxraXYU8uungFsz61AuiaW67aG8fGTXtBaZmUkiO8wzanlkM6A200vBLBsaslaSz8YADBgBsyAGTADZsAMmAEz4P8FeCSAePUEOJ98CADYYW7l/RBgAPH6UjzAtR40AAAAAElFTkSuQmCC"},"1e4f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[t._l(t.module_button.control,(function(e,a){return s("div",{key:a,staticClass:"otherserver_control_item"},[s("div",{staticClass:"otherserver_title"},[t._v(t._s(e.name))]),"default"===e.type?s("div",{staticClass:"otherserver_msg"},["on"===e.func?s("span",[t._v("系统将会立即开机, 大约需要5分钟完成")]):t._e(),"off"===e.func?s("span",[t._v("系统将会立即关机, 大约需要5分钟完成")]):t._e(),"reboot"===e.func?s("span",[t._v("系统将会立即重启, 大约需要5分钟完成")]):t._e(),"hard_off"===e.func?s("span",[t._v("系统将会立即硬关机, 大约需要5分钟完成")]):t._e(),"hard_reboot"===e.func?s("span",[t._v("系统将会立即硬重启, 大约需要5分钟完成")]):t._e(),"bmc"===e.func?s("span",[t._v("系统将会立即重置BMC, 大约需要5分钟完成")]):t._e(),"reinstall"===e.func?s("span",[t._v("系统将会立即重装, 大约需要5分钟完成")]):t._e(),"crack_pass"===e.func?s("span",[t._v("系统将会立即破解密码, 大约需要5分钟完成")]):t._e(),"rescue"===e.func?s("span",[t._v("系统将会立即进入救援系统, 大约需要5分钟完成")]):t._e()]):t._e(),"custom"===e.type?s("div",{staticClass:"otherserver_msg"},[t._v(t._s(e.desc))]):t._e(),s("div",{staticClass:"otherserver_btn"},[s("el-button",{attrs:{plain:""},on:{click:function(a){return t.controlFunc(e)}}},[t._v(t._s(e.name))])],1)])})),s("el-dialog",{attrs:{title:t.$t("standaloneServer.controlReinstallSystem"),visible:t.reinstallDialog,width:"30%"},on:{"update:visible":function(e){t.reinstallDialog=e},closed:t.reinstallClosed}},[s("el-row",{attrs:{gutter:15}},[s("el-form",{ref:"reinstallForm",attrs:{model:t.reinstallFormData,rules:t.reinstallFormRules,"label-width":"80px"}},[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:t.$t("standaloneServer.os"),prop:"osVal"}},[s("el-row",[t.cloudOsGroupOptions&&t.cloudOsGroupOptions.length>0?s("el-col",{staticClass:"mb-10",staticStyle:{"padding-right":"10px"},attrs:{xs:24,lg:12}},[s("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:t.osGroupChange},model:{value:t.reinstallFormData.groupVal,callback:function(e){t.$set(t.reinstallFormData,"groupVal",e)},expression:"reinstallFormData.groupVal"}},[s("template",{slot:"prefix"},[s("img",{staticStyle:{height:"20px","margin-right":"10px","margin-top":"10px"},attrs:{src:"/upload/common/system/"+t.osSvgSelected+".svg",alt:""}})]),t._l(t.cloudOsGroupOptions,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[s("img",{staticStyle:{height:"20px",marginRight:"10px"},attrs:{src:"/upload/common/system/"+e.osSvg+".svg",alt:""}}),t._v(t._s(e.name)+" ")])}))],2)],1):t._e(),s("el-col",{attrs:{xs:24,lg:12}},[s("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},model:{value:t.reinstallFormData.osVal,callback:function(e){t.$set(t.reinstallFormData,"osVal",e)},expression:"reinstallFormData.osVal"}},t._l(t.filterOsOptions,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1)],1)],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.reinstallCancle}},[t._v(t._s(t.$t("btnCancle")))]),s("el-button",{attrs:{type:"primary"},on:{click:t.reinstall}},[t._v(t._s(t.$t("btnConfirmation")))])],1)],1),s("el-dialog",{attrs:{title:t.$t("cloudServer.crackPwd"),visible:t.crackDialog,width:"600px"},on:{"update:visible":function(e){t.crackDialog=e},close:t.creakonClose}},[s("el-form",{ref:"crackPassword",attrs:{model:t.crackFrom,"label-width":"80px"}},[s("el-form-item",{staticClass:"creakInput",staticStyle:{"margin-bottom":"10px"},attrs:{label:t.$t("cloudServer.pwd"),prop:"password",rules:[{required:!0,message:this.$t("cloudServer.pwdEmpty")}]}},[s("el-input",{model:{value:t.crackFrom.password,callback:function(e){t.$set(t.crackFrom,"password",e)},expression:"crackFrom.password"}}),s("img",{staticClass:"creakInputRandom",staticStyle:{width:"18px",cursor:"pointer","margin-left":"10px"},attrs:{src:a("8728"),alt:""},on:{click:function(e){return t.creatCode(12)}}}),s("i",{ref:t.crackFrom.password,staticClass:"el-icon-copy-document creakInputCopy",staticStyle:{cursor:"pointer"},attrs:{"data-clipboard-text":t.crackFrom.password},on:{click:function(e){return t.clickCopy(t.crackFrom.password)},mouseenter:function(e){return t.clickCopy(t.crackFrom.password)}}})],1),t.errorMsg?s("div",{staticClass:"el-form-item__content"},[s("div",{staticClass:"el-form-item__error",staticStyle:{left:"80px"}},[t._v(t._s(t.errorMsg))])]):t._e()],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.saveCrack}},[t._v(t._s(t.$t("cloudServer.determine")))])],1)],1)],2)},r=[],n=(a("4de4"),a("4160"),a("c975"),a("b0c0"),a("a9e3"),a("4d63"),a("ac1f"),a("25f0"),a("159b"),a("96cf"),a("1da1")),i=a("b311"),o=a.n(i),c=a("4a8e"),l=a("048a"),u=a("2ef0"),d={data:function(){return{crackRePwd:"",module_button:{console:[],control:[]},reinstallDialog:!1,reinstallFormData:{groupVal:"",osVal:""},reinstallFormRules:{},cloudOsGroupOptions:[],cloudOsOptions:[],filterOsOptions:[],osSvgSelected:void 0,crackDialog:!1,crackFrom:{password:""},errorMsg:""}},props:{id:{type:Number,default:0}},methods:{clickCopy:function(t){var e=this,a=0,s=new o.a(this.$refs[t]);s.on("success",(function(t){e.$message.success("复制成功"),a++,a>1&&s.destroy()})),s.on("error",(function(t){e.$message.error("复制失败")}))},creatCode:function(t){this.crackRePwd="";for(var e=parseInt(t),a=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],s=0;s<e;s++){var r=Math.floor(52*Math.random());this.crackRePwd+=a[r]}var n=/^(?=.*?[a-z])(?=.*?[A-Z])(?=.*?\d).*$/,i=new RegExp(n);i.test(this.crackRePwd)?this.crackFrom.password=this.crackRePwd:this.creatCode(12)},getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["e"])(t.id);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=6;break}return e.abrupt("return",!1);case 6:t.module_button=s.data.module_button,t.cloudOsGroupOptions=s.data.cloud_os_group,t.reinstallFormData.groupVal=0!==t.cloudOsGroupOptions.length?t.cloudOsGroupOptions[0].id:"",t.cloudOsOptions=s.data.cloud_os,t.cloudOsGroupOptions&&t.cloudOsGroupOptions.length>0?(t.filterOsOptions=t.cloudOsOptions.filter((function(e){return e.group===t.reinstallFormData.groupVal})),t.reinstallFormData.osVal=0!==t.filterOsOptions.length?t.filterOsOptions[0].id:"",t.cloudOsGroupOptions.forEach((function(e){t.showOsSvg(e)})),t.osSvgSelected=t.cloudOsGroupOptions[0].osSvg):(t.filterOsOptions=t.cloudOsOptions,t.reinstallFormData.osVal=0!==t.cloudOsOptions.length?t.cloudOsOptions[0].id:"");case 11:case"end":return e.stop()}}),e)})))()},showOsSvg:function(t){-1!==t.name.toLowerCase().indexOf("windows")?t.osSvg=1:-1!==t.name.toLowerCase().indexOf("centos")?t.osSvg=2:-1!==t.name.toLowerCase().indexOf("ubuntu")?t.osSvg=3:-1!==t.name.toLowerCase().indexOf("debian")?t.osSvg=4:-1!==t.name.toLowerCase().indexOf("esxi")?t.osSvg=5:-1!==t.name.toLowerCase().indexOf("xenserver")?t.osSvg=6:-1!==t.name.toLowerCase().indexOf("freebsd")?t.osSvg=7:-1!==t.name.toLowerCase().indexOf("fedora")?t.osSvg=8:t.osSvg=9},controlFunc:function(t){var e=this;"reinstall"===t.func?this.reinstallDialog=!0:"crack_pass"===t.func?(this.creatCode(),this.crackDialog=!0):this.$swal.fire({title:t.name,icon:"warning",showCancelButton:!0,confirmButtonText:this.$t("btnConfirmation"),cancelButtonText:this.$t("btnCancle")}).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(s){var r,n,i,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s.value){a.next=16;break}if(e.$swal.fire("","Loading......","success"),r={id:e.id,func:t.func},"default"!==t.type){a.next=9;break}return a.next=6,Object(l["d"])(r);case 6:n=a.sent,i=n.data,e.totalFunc(i);case 9:if("custom"!==t.type){a.next=16;break}return a.next=12,Object(l["c"])(r);case 12:o=a.sent,c=o.data,e.totalFunc(c),c.url&&window.open(c.url);case 16:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},totalFunc:function(t){var e=this;setTimeout((function(){200===t.status?e.$notify({title:e.$t("standaloneServer.controlSuccess"),message:t.msg,type:"success",offset:80}):e.$notify({title:e.$t("standaloneServer.controlError"),message:t.msg,type:"error",offset:80})}),2e3)},osGroupChange:function(t){var e=this;this.reinstallFormData.groupVal=t,this.reinstallFormData.osVal="",this.filterOsOptions=[],this.filterOsOptions=this.cloudOsOptions.filter((function(e){return e.group===t})),this.reinstallFormData.osVal=0!==this.filterOsOptions.length?this.filterOsOptions[0].id:"",(this.cloudOsGroupOptions||[]).forEach((function(a){a.id===t&&(e.osSvgSelected=a.osSvg)}))},reinstallCancle:function(){var t=this;this.reinstallDialog=!1,this.cloudOsGroupOptions&&this.cloudOsGroupOptions.length>0?(this.filterOsOptions=this.cloudOsOptions.filter((function(e){return e.group===t.reinstallFormData.groupVal})),this.reinstallFormData.osVal=0!==this.filterOsOptions.length?this.filterOsOptions[0].id:""):(this.filterOsOptions=this.cloudOsOptions,this.reinstallFormData.osVal=0!==this.cloudOsOptions.length?this.cloudOsOptions[0].id:"")},reinstallClosed:function(){var t=this;this.cloudOsGroupOptions&&this.cloudOsGroupOptions.length>0?(this.filterOsOptions=this.cloudOsOptions.filter((function(e){return e.group===t.reinstallFormData.groupVal})),this.reinstallFormData.osVal=0!==this.filterOsOptions.length?this.filterOsOptions[0].id:""):(this.filterOsOptions=this.cloudOsOptions,this.reinstallFormData.osVal=0!==this.cloudOsOptions.length?this.cloudOsOptions[0].id:"")},reinstall:u.debounce(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.reinstallDialog=!1,e={id:this.id,func:"reinstall",os:this.reinstallFormData.osVal},t.next=4,Object(l["d"])(e);case 4:a=t.sent,s=a.data,this.totalFunc(s);case 7:case"end":return t.stop()}}),t,this)}))),200),creakonClose:function(){this.$refs.crackPassword.resetFields(),this.crackFrom.password=""},saveCrack:u.debounce(Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$refs.crackPassword.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=4;break}return t.abrupt("return",!1);case 4:return s={id:e.id,func:"crack_pass",password:e.crackFrom.password},t.next=7,Object(l["d"])(s);case 7:r=t.sent,n=r.data,200!==n.status?e.errorMsg=n.msg:(e.crackDialog=!1,e.totalFunc(n));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)}))),200)},created:function(){this.getData()},mounted:function(){}},p=d,m=(a("e8c7"),a("2877")),f=Object(m["a"])(p,s,r,!1,null,"2954cc92",null);e["default"]=f.exports},2223:function(t,e,a){"use strict";var s=a("9744"),r=a.n(s);r.a},"27fd":function(t,e,a){"use strict";a.d(e,"p",(function(){return r})),a.d(e,"k",(function(){return n})),a.d(e,"x",(function(){return i})),a.d(e,"w",(function(){return o})),a.d(e,"C",(function(){return c})),a.d(e,"i",(function(){return l})),a.d(e,"F",(function(){return u})),a.d(e,"c",(function(){return d})),a.d(e,"A",(function(){return p})),a.d(e,"z",(function(){return m})),a.d(e,"B",(function(){return f})),a.d(e,"f",(function(){return h})),a.d(e,"L",(function(){return g})),a.d(e,"E",(function(){return v})),a.d(e,"s",(function(){return _})),a.d(e,"e",(function(){return b})),a.d(e,"r",(function(){return y})),a.d(e,"y",(function(){return x})),a.d(e,"j",(function(){return w})),a.d(e,"K",(function(){return C})),a.d(e,"u",(function(){return D})),a.d(e,"J",(function(){return S})),a.d(e,"t",(function(){return k})),a.d(e,"q",(function(){return $})),a.d(e,"v",(function(){return O})),a.d(e,"o",(function(){return R})),a.d(e,"G",(function(){return j})),a.d(e,"n",(function(){return P})),a.d(e,"d",(function(){return I})),a.d(e,"m",(function(){return T})),a.d(e,"M",(function(){return N})),a.d(e,"O",(function(){return F})),a.d(e,"N",(function(){return q})),a.d(e,"a",(function(){return E})),a.d(e,"g",(function(){return B})),a.d(e,"P",(function(){return A})),a.d(e,"R",(function(){return L})),a.d(e,"Q",(function(){return M})),a.d(e,"b",(function(){return Y})),a.d(e,"l",(function(){return z})),a.d(e,"h",(function(){return G})),a.d(e,"D",(function(){return V})),a.d(e,"I",(function(){return H})),a.d(e,"H",(function(){return U}));var s=a("a27e");function r(t,e,a,r,n,i,o,c){return Object(s["a"])({url:"host/list",params:{type:"list",groupid:t,page:e,limit:a,orderby:r,sort:n,search:i,dcim_area:o,domain_status:c}})}function n(t){return Object(s["a"])({url:"/host/remark",method:"post",data:t})}function i(t){return Object(s["a"])({url:"host/header",params:{host_id:t}})}function o(t){return Object(s["a"])({url:"host/header",params:{host_id:t}})}function c(t){return Object(s["a"])({url:"/dcim/on",method:"post",timeout:4e4,data:{id:t}})}function l(t){return Object(s["a"])({url:"/dcim/off",method:"post",timeout:4e4,data:{id:t}})}function u(t){return Object(s["a"])({url:"/dcim/reboot",method:"post",timeout:4e4,data:{id:t}})}function d(t){return Object(s["a"])({url:"/dcim/bmc",method:"post",timeout:4e4,data:{id:t}})}function p(t){return Object(s["a"])({url:"/dcim/kvm",method:"post",timeout:4e4,data:{id:t}})}function m(t){return Object(s["a"])({url:"/dcim/ikvm",method:"post",timeout:4e4,data:{id:t}})}function f(t){return Object(s["a"])({url:"/dcim/novnc",method:"post",timeout:4e4,data:t})}function h(t){return Object(s["a"])({url:"/dcim/check_reinstall",method:"post",timeout:4e4,data:{id:t}})}function g(t){return Object(s["a"])({url:"/dcim/reinstall",method:"post",timeout:4e4,data:t})}function v(t){return Object(s["a"])({url:"/dcim/buy_reinstall_times",method:"post",timeout:4e4,data:{id:t}})}function _(t){return Object(s["a"])({url:"/dcim/resintall_status?id=".concat(t),method:"get",timeout:4e4})}function b(t){return Object(s["a"])({url:"/dcim/cancel_task",method:"post",timeout:4e4,data:{id:t}})}function y(t){return Object(s["a"])({url:"/dcim/check_all_status",method:"post",timeout:4e4,data:{id:t}})}function x(t){return Object(s["a"])({url:"/dcim/hide_result",method:"post",timeout:4e4,data:{id:t}})}function w(t){return Object(s["a"])({url:"/dcim/crack_pass",method:"post",timeout:4e4,data:t})}function C(t){return Object(s["a"])({url:"/dcim/rescue",method:"post",timeout:4e4,data:t})}function D(t,e){return Object(s["a"])({url:"host/renewpage",params:{hostid:t,billingcycles:e}})}function S(t){return Object(s["a"])({url:"host/renew",method:"post",data:t})}function k(t,e,a,r,n,i){return Object(s["a"])({url:"host/hostrecharge",params:{hostid:t,page:e,limit:a,order:r,sort:n,keywords:i}})}function $(t,e,a,r,n,i){return Object(s["a"])({url:"user_logdcims",params:{hostid:t,page:e,limit:a,orderby:r,sorting:n,keywords:i}})}function O(t,e){return Object(s["a"])({url:"/dcim/traffic_usage",params:{id:t,start:e}})}function R(t,e){return Object(s["a"])({url:"/host/trafficusage",params:{id:t,start:e}})}function j(t){return Object(s["a"])({url:"/dcim/refresh_all_power_status",method:"post",timeout:4e4,data:{id:t}})}function P(t,e,a,r){return Object(s["a"])({url:"/dcim/traffic",method:"post",data:{id:t,switch_id:e,port_name:a,start_time:r}})}function I(t,e){return Object(s["a"])({url:"/dcim/buy_flow_packet",method:"post",data:{id:t,fid:e}})}function T(t){return Object(s["a"])({url:"/dcim/detail",params:{id:t}})}function N(t){return Object(s["a"])({url:"/upgrade/index/"+t.hid,params:t})}function F(t){return Object(s["a"])({url:"/upgrade/upgrade_config_post",method:"post",data:t})}function q(t){return Object(s["a"])({url:"/upgrade/upgrade_config_page",params:t})}function E(t){return Object(s["a"])({url:"/upgrade/add_promo_code",method:"post",data:t})}function B(t){return Object(s["a"])({url:"/upgrade/checkout_config_upgrade",method:"post",data:t})}function A(t){return Object(s["a"])({url:"/upgrade/upgrade_product/"+t.hid,params:t})}function L(t){return Object(s["a"])({url:"/upgrade/upgrade_product_post",method:"post",data:t})}function M(t){return Object(s["a"])({url:"/upgrade/upgrade_product_page",params:t})}function Y(t){return Object(s["a"])({url:"/upgrade/add_promo_code_product",method:"post",data:t})}function z(t){return Object(s["a"])({url:"host/batchrenewpage",method:"post",data:t})}function G(t){return Object(s["a"])({url:"/upgrade/checkout_upgrade_product",method:"post",data:t})}function V(t){return Object(s["a"])({url:"host/batchrenew",method:"post",data:t})}function H(t){return Object(s["a"])({url:"/upgrade/remove_promo_code",method:"post",data:t})}function U(t){return Object(s["a"])({url:"/upgrade/remove_promo_code_product",method:"post",data:t})}},"2cf5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[t.configs.length?t._e():a("div",{staticClass:"tac"},[t._v(t._s(t.$t("standaloneServer.noUpDownProduct")))]),t._l(t.configs,(function(e,s){return a("div",{key:"config"+s,staticClass:"upgrade_configitem_box mb-20"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",[t._v(" "+t._s(e.option_name)+" : "),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("span",[t._v(t._s(e.qty_zh)+" "),4===e.option_type||15===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("核心")]):t._e(),9===e.option_type||17===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e()]):a("span",[t._v(t._s(e.suboption_name))]),e.option_name?a("span",{staticClass:"fr"},[t._v(">>>")]):t._e()])]),a("el-col",{attrs:{span:16}},[1===e.option_type?a("div",{staticClass:"pl-20"},[a("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},t._l(e.sub,(function(t){return a("el-option",{key:t.id,attrs:{label:t.option_name,value:t.id}})})),1)],1):t._e(),2===e.option_type?a("div",{staticClass:"pl-20"},t._l(e.sub,(function(s,r){return a("el-radio",{key:"Radio"+r,attrs:{label:s.id},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},[t._v(t._s(s.option_name))])})),1):t._e(),3===e.option_type?a("div",{staticClass:"pl-20"},t._l(e.sub,(function(s,r){return a("el-checkbox",{key:"yes/no"+r,attrs:{"true-label":s.id,"false-label":void 0},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},[t._v(t._s(s.option_name)+" ")])})),1):t._e(),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("div",{staticClass:"quantity_box"},[a("el-slider",{staticClass:"fl quantity_box_slider",attrs:{min:e.qty_minimum,max:e.qty_maximum},on:{change:function(e){t.nextDisable=!1}},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"configItem.qty"}}),a("div",{staticClass:"fr quantity_box_input"},[a("el-input-number",{staticClass:"quantity_input",attrs:{controls:!1,precision:0,min:e.qty_minimum,max:e.qty_maximum},on:{change:function(e){t.nextDisable=!1}},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"configItem.qty"}}),4===e.option_type||15===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("核心")]):t._e(),9===e.option_type||17===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e()],1)],1):t._e(),5===e.option_type?a("div",{staticClass:"pl-20"},[a("el-select",{staticStyle:{"margin-right":"10px","margin-bottom":"10px"},attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(a){return t.osSelectChange(e.osName)}},model:{value:e.osName,callback:function(a){t.$set(e,"osName",a)},expression:"configItem.osName"}},t._l(e.sub,(function(t,e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),a("el-select",{staticStyle:{"margin-bottom":"10px",width:"300px"},attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},t._l(e.osVersionOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.version,value:t.id}})})),1)],1):t._e(),6===e.option_type||8===e.option_type||10===e.option_type||13===e.option_type?a("div",{staticClass:"pl-20",staticStyle:{"padding-top":"5px"},attrs:{span:24}},t._l(e.sub,(function(s,r){return a("div",{key:r,staticClass:"select_block_item",class:{block_item_active:s.id===e.subid},on:{click:function(a){return t.selectBlockChange(e,s)}}},[t._v(" "+t._s(s.option_name)+" ")])})),0):t._e(),12===e.option_type?a("div",{staticClass:"pl-20",attrs:{span:24}},[a("div",{staticClass:"country_box"},t._l(e.sub,(function(s,r){return a("div",{key:r,staticClass:"country_item fl",class:{country_item_active:s.active,country_item_noarea:s.noarea},on:{click:function(a){return t.cityChange(e,s,t.configs)}}},[a("div",{staticClass:"country_item_innerbox"},[a("img",{staticClass:"country_item_flag",attrs:{src:"/upload/common/country/"+s.country_code+".png",alt:""}}),a("div",{staticClass:"country_item_name"},[t._v(t._s(s.city))])]),s.noarea?t._e():a("div",[a("el-select",{attrs:{size:"mini",disabled:!s.active||1===s.area.length&&""===s.area[0].area},model:{value:s.areaId,callback:function(e){t.$set(s,"areaId",e)},expression:"cityItem.areaId"}},t._l(s.area,(function(t,e){return a("el-option",{key:e,attrs:{label:t.area_zh,value:t.id}})})),1)],1)])})),0)]):t._e()])],1)],1)})),t.configs.length?a("div",{staticClass:"tar"},[a("el-button",{attrs:{type:"primary",disabled:t.nextDisable},on:{click:t.nextHandleClick}},[t._v(t._s(t.$t("standaloneServer.next"))+" ")])],1):t._e()],2)},r=[],n=(a("4160"),a("caad"),a("d81d"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("5319"),a("4c53"),a("159b"),a("96cf"),a("1da1")),i=a("27fd"),o={data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,configs:[1],upgradeSubmitData:{hid:this.$route.query.id,currencyid:void 0,promo_code:void 0,configoption:[]},nextDisable:!0}},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["M"])({hid:t.id,currencyid:void 0});case 2:a=e.sent,s=a.data,200!==s.status||((s.data.host||[]).forEach((function(e){if(5===e.option_type)for(var a in e.sub)e.sub[a].osName=a;else 12===e.option_type?(e.sub=t.objToArr(e.sub,"dataCenter"),(e.sub||[]).forEach((function(t){var a=t.area.map((function(t){return t.id}));a.includes(e.subid)?(t.active=!0,t.areaId=e.subid):t.active=!1,t.noarea=!0,(t.area||[]).forEach((function(e){""===e.area?e.area_zh="无配置区域":t.noarea=!1}))}))):[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)&&(e.qty_zh=e.qty)})),t.configs=s.data.host,t.osSelectChange(void 0,!0));case 5:case"end":return e.stop()}}),e)})))()},objToArr:function(t,e){var a=[];for(var s in t)"dataCenter"===e?(t[s].id=this.guid(),t[s].active=!1,t[s].city=s,t[s].areaId=void 0):t[s].osName=s,a.push(t[s]);return a},guid:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"===t?e:3&e|8;return a.toString(16)}))},osSelectChange:function(t,e){var a=this;(this.configs||[]).forEach((function(s){if(5!==s.option_type)return!1;var r=function(r){t===r&&(s.subid=s.sub[r].child[0].id,s.osVersionOptions=s.sub[r].child),e?(s.sub[r].child||[]).forEach((function(t){s.subid===t.id&&(s.osName=r,s.osVersionOptions=s.sub[r].child)})):a.nextDisable=!1};for(var n in s.sub)r(n)}))},selectBlockChange:function(t,e){t.subid=e.id,this.$forceUpdate(),this.nextDisable=!1},cityChange:function(t,e,a){var s=this;this.nextDisable=!1,(a||[]).forEach((function(a){12===a.option_type&&t.oid===a.oid&&(a.sub||[]).forEach((function(t){e.id!==t.id?(t.areaId=void 0,t.active=!1):(t.areaId=t.area.length?t.area[0].id:void 0,s.areaChange(a,t),t.active=!0),s.$forceUpdate()}))}))},areaChange:function(t,e){t.subid=e.areaId},nextHandleClick:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeSubmitData.configoption=[],(t.configs||[]).forEach((function(e){[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?t.upgradeSubmitData.configoption[e.oid]=e.qty:t.upgradeSubmitData.configoption[e.oid]=e.subid})),e.next=4,Object(i["O"])(t.$qs.stringify(t.upgradeSubmitData));case 4:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):t.$emit("nextClick");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.getData()}},c=o,l=(a("6fde"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,"8ad93766",null);e["default"]=u.exports},"318a":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("div",{staticClass:"content"},[s("img",{staticClass:"fl pic",attrs:{src:a("1b14"),alt:""}}),s("div",{staticClass:"fl serverinfo"},[s("div",{staticClass:"serverinfo_row1"},[s("div",{staticClass:"serverinfo_row1_top"},[s("span",{staticClass:"serverinfo_name"},[t._v(t._s(t.serverInfo.productname)),s("span",[t._v("（"+t._s(t.serverInfo.domain)+"）")])]),"Active"===t.serverInfo.domainstatus?s("span",[s("span",{staticClass:"serverinfo_statusbox active_color"},[s("span",{staticClass:"serverinfo_status"},[t._v(t._s(t.serverInfo.domainstatus_desc))])])]):"Pending"===t.serverInfo.domainstatus?s("span",[s("span",{staticClass:"serverinfo_statusbox pengding_color"},[s("span",{staticClass:"serverinfo_status"},[t._v(t._s(t.serverInfo.domainstatus_desc))])])]):"Suspended"===t.serverInfo.domainstatus?s("span",[s("span",{staticClass:"serverinfo_statusbox suspended_color"},[s("span",{staticClass:"serverinfo_status"},[t._v(t._s(t.serverInfo.domainstatus_desc))])]),s("label",{directives:[{name:"show",rawName:"v-show",value:""!==t.serverInfo.suspendreason,expression:"serverInfo.suspendreason !== ''"}],attrs:{for:""}},[t._v("("+t._s(t.serverInfo.suspendreason)+")")])]):"Deleted"===t.serverInfo.domainstatus?s("span",[s("span",{staticClass:"serverinfo_statusbox terminated_color"},[s("span",{staticClass:"serverinfo_status"},[t._v(t._s(t.serverInfo.domainstatus_desc))])])]):"Cancelled"===t.serverInfo.domainstatus?s("span",[s("span",{staticClass:"serverinfo_statusbox cancelled_color"},[s("span",{staticClass:"serverinfo_status"},[t._v(t._s(t.serverInfo.domainstatus_desc))])])]):"Fraud"===t.serverInfo.domainstatus?s("span",[s("span",{staticClass:"serverinfo_statusbox fraud_color"},[s("span",{staticClass:"serverinfo_status"},[t._v(t._s(t.serverInfo.domainstatus_desc))])])]):t._e()]),t.serverInfo.hasSelect?s("el-dropdown",{staticClass:"controlDrop",attrs:{placement:"bottom-start"},on:{command:t.consoleHandleClick}},[s("el-button",{staticClass:"console",attrs:{type:"primary"}},[t._v(" "+t._s(t.$t("standaloneServer.console"))),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"on"===t.serverInfo.auth["kvm"],expression:"serverInfo.auth['kvm'] === 'on'"}],attrs:{command:"kvm"}},[t._v("kvm")]),s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"on"===t.serverInfo.auth["ikvm"],expression:"serverInfo.auth['ikvm'] === 'on'"}],attrs:{command:"ikvm"}},[t._v("ikvm")]),s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"on"===t.serverInfo.auth["novnc"],expression:"serverInfo.auth['novnc'] === 'on'"}],attrs:{command:"vnc"}},[t._v("vnc")])],1)],1):t._e(),t.moduleConsole.length?s("el-dropdown",{staticClass:"controlDrop",attrs:{placement:"bottom-start"},on:{command:t.consoleHandleClick}},[s("el-button",{staticClass:"console",attrs:{type:"primary"}},[t._v(" "+t._s(t.$t("standaloneServer.console"))),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.moduleConsole,(function(e,a){return s("el-dropdown-item",{key:a,attrs:{command:e.name+"-"+e.func+"-"+e.type}},[t._v(t._s(e.name))])})),1)],1):t._e()],1),s("div",{staticClass:"serverinfo_row2"},[t._l(t.serverInfo.config_options,(function(e,a){return s("span",{key:a,staticClass:"serverinfo_configBox"},[s("span",{staticClass:"serverinfo_label"},[t._v(t._s(e.name)+"：")]),12===e.option_type?s("img",{staticStyle:{margin:"-2px 5px"},attrs:{src:"/upload/common/country/"+e.code+".png",alt:"",width:"24px"}}):t._e(),5===e.option_type?s("img",{staticStyle:{margin:"-2px 5px"},attrs:{src:"/upload/common/system/"+t.getOsSvg(e.sub_name)+".svg",alt:"",width:"18px"}}):t._e(),s("span",{staticClass:"serverinfo_value"},[t._v(t._s(e.sub_name))])])})),t._l(t.serverInfo.custom_field_data,(function(e,a){return s("span",{key:"field"+a,staticStyle:{marginRight:"5px"}},[s("span",{staticClass:"serverinfo_label"},[t._v(t._s(e.fieldname)+": ")]),s("span",{staticClass:"serverinfo_value"},[t._v(t._s(e.value+" "))])])}))],2),s("div",{staticClass:"speed"},[s("div",{staticClass:"progress_inner",style:{width:t.proWidth}}),s("div",{class:t.myanimation?"speed-prog":"",attrs:{id:"speed"}})]),s("div",{staticClass:"serverinfo_row3"},[s("div",{staticClass:"fl row3_l"},[s("div",[t.serverInfo.svg?s("img",{staticClass:"systemImg",attrs:{src:"/upload/common/system/"+t.serverInfo.svg+".svg",alt:"",srcset:""}}):t._e(),s("span",{staticClass:"serverinfo_value"},[t._v(t._s(t.serverInfo.os))])]),s("div",[s("span",{directives:[{name:"show",rawName:"v-show",value:""!==t.serverInfo.dedicatedip,expression:"serverInfo.dedicatedip !== ''"}],staticClass:"serverinfo_label subip"},[t._v(t._s(t.$t("standaloneServer.dedicatedIP"))+"：")]),s("el-popover",{staticClass:"limit--height",attrs:{placement:"right",trigger:"hover",disabled:0===t.serverInfo.assignedips.length}},[s("ul",{staticClass:"item_ip"},[s("li",[t._v(t._s(t.serverInfo.dedicatedip))]),t._l(t.serverInfo.assignedips,(function(e,a){return s("li",{key:a},[t._v(t._s(e))])}))],2),s("span",{staticClass:"serverinfo_value",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.serverInfo.dedicatedip)),s("span",{directives:[{name:"show",rawName:"v-show",value:0!==t.serverInfo.assignedips.length,expression:"serverInfo.assignedips.length === 0 ? false : true"}]},[t._v("（"+t._s(t.serverInfo.assignedips?parseInt(t.serverInfo.assignedips.length)+1:0)+"）")]),s("i",{directives:[{name:"show",rawName:"v-show",value:""!==t.serverInfo.dedicatedip,expression:"serverInfo.dedicatedip !== ''"}],ref:t.serverInfo.assignedips,staticClass:"el-icon-copy-document copyBtn",attrs:{"data-clipboard-text":t.serverInfo.dedicatedip+(0!==t.serverInfo.assignedips.length?","+t.serverInfo.assignedips:"")},on:{click:function(e){return t.clickCopy(t.serverInfo.assignedips)},mouseenter:function(e){return t.clickCopy(t.serverInfo.assignedips)}}})])])],1),s("div",[s("span",{staticClass:"serverinfo_label subip"},[t._v(t._s(t.serverInfo.remark))])]),s("div",[0!==t.userDetail.length?s("el-popover",{attrs:{placement:"right",width:"360",trigger:"hover"}},[s("el-table",{attrs:{data:t.userDetail}},[s("el-table-column",{attrs:{prop:"username",label:t.$t("standaloneServer.userName")}}),s("el-table-column",{attrs:{prop:"password",label:t.$t("standaloneServer.password")}}),s("el-table-column",{attrs:{prop:"port",label:t.$t("standaloneServer.port")}})],1),s("span",{staticClass:"serverinfo_value subip",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[s("span",[t._v(t._s(t.$t("standaloneServer.loginInfo")))])])],1):t._e()],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.resintallDetail,expression:"resintallDetail"}],staticClass:"fr speed-div"},[s("div",{staticClass:"speed-text"},[s("span",{staticClass:"serverinfo_label "},[s("label",{attrs:{for:""}},[t._v(t._s(t.Reassembly.name))]),t._v(": ")]),s("el-popover",{attrs:{placement:"right",width:"200",trigger:"hover",disabled:""===t.Reassembly.system}},[s("p",[t._v(t._s(t.Reassembly.system))]),s("span",{staticClass:"serverinfo_value ",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.Reassembly.system))])])],1),s("span",{staticClass:"cancel-speed",on:{click:t.cancelSpeedFunc}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.lastResintallDetail,expression:"lastResintallDetail"}],staticClass:"fr speed-div",staticStyle:{"text-align":"right"}},[s("div",{staticClass:"speed-text"},[s("span",{staticClass:"serverinfo_label "},[s("label",{attrs:{for:""}},[t._v(t._s(t.Reassembly.name))])])]),s("span",{staticStyle:{cursor:"pointer","margin-left":"10px"},on:{click:t.hideResintallDetail}},[t._v("X")])])])])])])},r=[],n=(a("c975"),a("b0c0"),a("a9e3"),a("96cf"),a("1da1")),i=a("b311"),o=a.n(i),c=a("27fd"),l={data:function(){return{proWidth:"0%",opartionType:"",id:"",clearTimeSet:"",myanimation:!1,resintallDetail:!1,lastResintallDetail:!1,svg:"",Reassembly:{name:"",system:""},userDetail:[]}},props:{serverInfo:{type:Object,default:function(){return{}}},moduleConsole:{type:Array,default:function(){return[]}},animation:{type:Boolean,default:!1}},watch:{animation:function(t,e){this.myanimation=t,this.myanimation&&this.timer()},serverInfo:function(t,e){this.id=t.id,this.userDetail=[],this.userDetail.push({password:t.password,port:t.port,username:t.username}),""===t.password&&""===t.port&&""===t.username&&(this.userDetail=[]),""===t.password&&0===t.port&&""===t.username&&(this.userDetail=[]),this.initGetPro()}},methods:{clickCopy:function(t){var e=this,a=0,s=new o.a(this.$refs[t]);s.on("success",(function(t){e.$message.success("复制成功"),a++,a>1&&s.destroy()})),s.on("error",(function(t){e.$message.error("复制失败")}))},getOsSvg:function(t){var e=1;return e=-1!==t.toLowerCase().indexOf("windows")?1:-1!==t.toLowerCase().indexOf("centos")?2:-1!==t.toLowerCase().indexOf("ubuntu")?3:-1!==t.toLowerCase().indexOf("debian")?4:-1!==t.toLowerCase().indexOf("esxi")?5:-1!==t.toLowerCase().indexOf("xenserver")?6:-1!==t.toLowerCase().indexOf("freebsd")?7:-1!==t.toLowerCase().indexOf("fedora")?8:"",e},consoleHandleClick:function(t){this.$emit("consoleClick",t)},timer:function(){var t=this;this.myanimation=!0,this.clearTimeSet=setInterval((function(){t.getProgress()}),4e3)},clearTime:function(){this.myanimation=!1,clearInterval(this.clearTimeSet)},initGetPro:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["s"])(t.id);case 2:a=e.sent,s=a.data,200===s.status&&""!==s.data&&(Object.prototype.hasOwnProperty.call(s.data,"last_result")?(t.lastResintallDetail=!0,t.resintallDetail=!1,(1===Number(s.data.last_result.status)||2===Number(s.data.last_result.status))&&(t.Reassembly.name=s.data.last_result.act+": "+s.data.last_result.msg)):(t.lastResintallDetail=!1,t.resintallDetail=!1),Object.prototype.hasOwnProperty.call(s.data,"task_type")&&null!==s.data.task_type&&(t.lastResintallDetail=!1,t.resintallDetail=!0,t.timer(),0===Number(s.data.task_type)?(t.Reassembly.name=t.$t("standaloneServer.controlReinstallSystem"),t.Reassembly.system=s.data.reinstall_msg+"；"+s.data.step):1===Number(s.data.task_type)?(t.Reassembly.name=t.$t("standaloneServer.controlRescueSystem"),t.Reassembly.system=s.data.step,"100"===s.data.progress&&t.clearTime()):2===Number(s.data.task_type)&&(t.Reassembly.name=t.$t("standaloneServer.controlDecryption"),t.Reassembly.system=s.data.step)));case 5:case"end":return e.stop()}}),e)})))()},getProgress:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["s"])(t.id);case 2:a=e.sent,s=a.data,200===s.status&&""!==s.data&&(Object.prototype.hasOwnProperty.call(s.data,"task_type")&&null!==s.data.task_type&&(t.opartionType=Number(s.data.task_type),0===Number(s.data.task_type)?(t.Reassembly.name=t.$t("standaloneServer.controlReinstallSystem"),t.Reassembly.system=s.data.reinstall_msg+"；"+s.data.step,t.lastResintallDetail=!1,t.resintallDetail=!0,t.proWidth=parseInt(s.data.progress)+"%"):1===Number(s.data.task_type)?(t.Reassembly.name=t.$t("standaloneServer.controlRescueSystem"),t.Reassembly.system=s.data.step,t.lastResintallDetail=!1,t.resintallDetail=!0,t.proWidth=parseInt(s.data.progress)+"%","100"===s.data.progress&&t.clearTime()):2===Number(s.data.task_type)&&(t.Reassembly.name=t.$t("standaloneServer.controlDecryption"),t.Reassembly.system=s.data.step,t.lastResintallDetail=!1,t.resintallDetail=!0,t.proWidth=parseInt(s.data.progress)+"%")),Object.prototype.hasOwnProperty.call(s.data,"last_result")&&(t.clearTime(),t.lastResintallDetail=!0,t.resintallDetail=!1,t.$parent.getData(),(1===Number(s.data.last_result.status)||2===Number(s.data.last_result.status))&&(t.Reassembly.name=s.data.last_result.act+": "+s.data.last_result.msg)));case 5:case"end":return e.stop()}}),e)})))()},hideResintallDetail:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["y"])(t.id);case 2:a=e.sent,s=a.data,200===s.status?(t.lastResintallDetail=!1,t.resintallDetail=!1):t.$message.error(s.msg);case 5:case"end":return e.stop()}}),e)})))()},cancelSpeedFunc:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$swal.fire({title:t.$t("standaloneServer.canceGetOperationProgress"),icon:"warning",showCancelButton:!0,confirmButtonText:t.$t("standaloneServer.confirm"),cancelButtonText:t.$t("standaloneServer.cancel")}).then(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.value){e.next=6;break}return e.next=3,Object(c["e"])(t.id);case 3:s=e.sent,r=s.data,200===r.status?(t.clearTime(),t.lastResintallDetail=!1,t.resintallDetail=!1,t.$swal("",r.msg,"success")):t.$swal("",r.msg,"error");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()}},created:function(){},mounted:function(){},destroyed:function(){this.clearTime()}},u=l,d=(a("ae4c"),a("2877")),p=Object(d["a"])(u,s,r,!1,null,"1bbb91a3",null);e["a"]=p.exports},"32bf":function(t,e,a){},"37b2":function(t,e,a){"use strict";var s=a("d700"),r=a.n(s);r.a},"3adc":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[t.configs.length?t._e():a("div",{staticClass:"tac"},[t._v(t._s(t.$t("standaloneServer.noUpDownProduct")))]),t._l(t.configs,(function(e,s){return a("div",{key:"config"+s,staticClass:"upgrade_configitem_box mb-20"},[e.option_name?a("el-row",[a("el-col",{attrs:{span:8}},[a("div",[t._v(" "+t._s(e.option_name)+" : "),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("span",[t._v(t._s(e.qty_zh)+" "),4===e.option_type||15===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("核心")]):t._e(),9===e.option_type||17===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e()]):a("span",[t._v(t._s(e.suboption_name))]),a("span",{staticClass:"fr"},[t._v(">>>")])])]),a("el-col",{attrs:{span:16}},[1===e.option_type?a("div",{staticClass:"pl-20"},[a("el-select",{attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},t._l(e.sub,(function(t){return a("el-option",{key:t.id,attrs:{label:t.option_name,value:t.id}})})),1)],1):t._e(),2===e.option_type?a("div",{staticClass:"pl-20"},t._l(e.sub,(function(s,r){return a("el-radio",{key:"Radio"+r,attrs:{label:s.id},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},[t._v(t._s(s.option_name))])})),1):t._e(),3===e.option_type?a("div",{staticClass:"pl-20"},t._l(e.sub,(function(s,r){return a("el-checkbox",{key:"yes/no"+r,attrs:{"true-label":s.id,"false-label":void 0},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},[t._v(t._s(s.option_name)+" ")])})),1):t._e(),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("div",{staticClass:"quantity_box"},[a("el-slider",{staticClass:"fl quantity_box_slider",attrs:{min:e.qty_minimum,max:e.qty_maximum},on:{change:function(e){t.nextDisable=!1}},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"configItem.qty"}}),a("div",{staticClass:"fr quantity_box_input"},[a("el-input-number",{staticClass:"quantity_input",attrs:{controls:!1,precision:0,min:e.qty_minimum,max:e.qty_maximum},on:{change:function(e){t.nextDisable=!1}},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"configItem.qty"}}),4===e.option_type||15===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("个")]):t._e(),7===e.option_type||16===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("核心")]):t._e(),9===e.option_type||17===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e(),11===e.option_type||18===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("Mbps")]):t._e(),14===e.option_type||19===e.option_type?a("span",{staticClass:"quantity_unit"},[t._v("GB")]):t._e()],1)],1):t._e(),5===e.option_type?a("div",{staticClass:"pl-20"},[a("el-select",{staticStyle:{"margin-right":"10px","margin-bottom":"10px"},attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(a){return t.osSelectChange(e.osName)}},model:{value:e.osName,callback:function(a){t.$set(e,"osName",a)},expression:"configItem.osName"}},t._l(e.sub,(function(t,e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),a("el-select",{staticStyle:{"margin-bottom":"10px",width:"300px"},attrs:{placeholder:t.$t("standaloneServer.pleaseSelect")},on:{change:function(e){t.nextDisable=!1}},model:{value:e.subid,callback:function(a){t.$set(e,"subid",a)},expression:"configItem.subid"}},t._l(e.osVersionOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.version,value:t.id}})})),1)],1):t._e(),6===e.option_type||8===e.option_type||10===e.option_type||13===e.option_type?a("div",{staticClass:"pl-20",staticStyle:{"padding-top":"5px"},attrs:{span:24}},t._l(e.sub,(function(s,r){return a("div",{key:r,staticClass:"select_block_item",class:{block_item_active:s.id===e.subid},on:{click:function(a){return t.selectBlockChange(e,s)}}},[t._v(" "+t._s(s.option_name)+" ")])})),0):t._e(),12===e.option_type?a("div",{staticClass:"pl-20",attrs:{span:24}},[a("div",{staticClass:"country_box"},t._l(e.sub,(function(s,r){return a("div",{key:r,staticClass:"country_item fl",class:{country_item_active:s.active,country_item_noarea:s.noarea},on:{click:function(a){return t.cityChange(e,s,t.configs)}}},[a("div",{staticClass:"country_item_innerbox"},[a("img",{staticClass:"country_item_flag",attrs:{src:"/upload/common/country/"+s.country_code+".png",alt:""}}),a("div",{staticClass:"country_item_name"},[t._v(t._s(s.city))])]),s.noarea?t._e():a("div",[a("el-select",{attrs:{size:"mini",disabled:!s.active||1===s.area.length&&""===s.area[0].area},model:{value:s.areaId,callback:function(e){t.$set(s,"areaId",e)},expression:"cityItem.areaId"}},t._l(s.area,(function(t,e){return a("el-option",{key:e,attrs:{label:t.area_zh,value:t.id}})})),1)],1)])})),0)]):t._e()])],1):t._e()],1)})),t.configs.length?a("div",{staticClass:"tar"},[a("el-button",{attrs:{type:"primary",disabled:t.nextDisable},on:{click:t.nextHandleClick}},[t._v(t._s(t.$t("standaloneServer.next"))+" ")])],1):t._e()],2)},r=[],n=(a("4160"),a("caad"),a("d81d"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("5319"),a("4c53"),a("159b"),a("96cf"),a("1da1")),i=a("27fd"),o={data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,configs:[1],upgradeSubmitData:{hid:this.$route.query.id,currencyid:void 0,promo_code:void 0,configoption:[]},nextDisable:!0}},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["M"])({hid:t.id,currencyid:void 0});case 2:a=e.sent,s=a.data,200!==s.status||((s.data.host||[]).forEach((function(e){if(5===e.option_type)for(var a in e.sub)e.sub[a].osName=a;else 12===e.option_type?(e.sub=t.objToArr(e.sub,"dataCenter"),(e.sub||[]).forEach((function(t){var a=t.area.map((function(t){return t.id}));a.includes(e.subid)?(t.active=!0,t.areaId=e.subid):t.active=!1,t.noarea=!0,(t.area||[]).forEach((function(e){""===e.area?e.area_zh="无配置区域":t.noarea=!1}))}))):[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)&&(e.qty_zh=e.qty)})),t.configs=s.data.host,t.osSelectChange(void 0,!0));case 5:case"end":return e.stop()}}),e)})))()},objToArr:function(t,e){var a=[];for(var s in t)"dataCenter"===e?(t[s].id=this.guid(),t[s].active=!1,t[s].city=s,t[s].areaId=void 0):t[s].osName=s,a.push(t[s]);return a},guid:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"===t?e:3&e|8;return a.toString(16)}))},osSelectChange:function(t,e){var a=this;(this.configs||[]).forEach((function(s){if(5!==s.option_type)return!1;var r=function(r){t===r&&(s.subid=s.sub[r].child[0].id,s.osVersionOptions=s.sub[r].child),e?(s.sub[r].child||[]).forEach((function(t){s.subid===t.id&&(s.osName=r,s.osVersionOptions=s.sub[r].child)})):a.nextDisable=!1};for(var n in s.sub)r(n)}))},selectBlockChange:function(t,e){t.subid=e.id,this.$forceUpdate(),this.nextDisable=!1},cityChange:function(t,e,a){var s=this;this.nextDisable=!1,(a||[]).forEach((function(a){12===a.option_type&&t.oid===a.oid&&(a.sub||[]).forEach((function(t){e.id!==t.id?(t.areaId=void 0,t.active=!1):(t.areaId=t.area.length?t.area[0].id:void 0,s.areaChange(a,t),t.active=!0),s.$forceUpdate()}))}))},areaChange:function(t,e){t.subid=e.areaId},nextHandleClick:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeSubmitData.configoption=[],(t.configs||[]).forEach((function(e){[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?t.upgradeSubmitData.configoption[e.oid]=e.qty:t.upgradeSubmitData.configoption[e.oid]=e.subid})),e.next=4,Object(i["O"])(t.$qs.stringify(t.upgradeSubmitData));case 4:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):t.$emit("nextClick");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.getData()}},c=o,l=(a("3d88"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,"7d39ae71",null);e["default"]=u.exports},"3b93":function(t,e,a){},"3d88":function(t,e,a){"use strict";var s=a("9645"),r=a.n(s);r.a},"47d5":function(t,e,a){},"4a89":function(t,e,a){},"4a8e":function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return i})),a.d(e,"e",(function(){return o})),a.d(e,"c",(function(){return c}));var s=a("a27e");function r(t,e,a,r,n,i,o){return Object(s["a"])({url:"host/list",params:{type:"list",groupid:t,page:e,limit:a,orderby:r,sort:n,search:i,domain_status:o}})}function n(t,e,a,r,n,i){return Object(s["a"])({url:"host/list",params:{type:"index",page:t,limit:e,orderby:a,sort:r,search:n,domain_status:i}})}function i(t){return Object(s["a"])({url:"/host/remark",method:"post",data:t})}function o(t){return Object(s["a"])({url:"host/header",params:{host_id:t}})}function c(t,e,a,r,n,i){return Object(s["a"])({url:"user_logdcims",params:{hostid:t,page:e,limit:a,orderby:r,sorting:n,keywords:i}})}},"4b5f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout_card"},[a("div",{staticClass:"page-title"},[t._v(t._s(t.host_data.group.groupname))]),a("div",{staticClass:"other_header"},[a("server-header",{attrs:{serverInfo:t.host_data,moduleConsole:t.module_button.console},on:{consoleClick:t.consoleHandleCommand}})],1),a("div",{staticClass:"other_server_nav"},[a("el-tabs",{on:{"tab-click":t.getCustom},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:t.$t("standaloneServer.billing"),name:"1"}},[a("finance",{attrs:{pid:t.id,groupid:t.groupid}})],1),a("el-tab-pane",{attrs:{label:t.$t("standaloneServer.log"),name:"2"}},[a("log",{attrs:{id:t.id}})],1),t.module_button.control.length?a("el-tab-pane",{attrs:{label:"控制",name:"3"}},[a("control",{attrs:{id:t.id}})],1):t._e(),"Active"!==t.host_data.domainstatus||1!==t.host_data.allow_upgrade_config&&1!==t.host_data.allow_upgrade_product?t._e():a("el-tab-pane",{attrs:{label:t.$t("standaloneServer.upDown"),name:"4"}},[0===t.upgradeType?a("div",{staticClass:"standaloneserver_control_box"},[1===t.host_data.allow_upgrade_product?a("div",{staticClass:"standaloneserver_control_item"},[a("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.upDown")))]),a("div",{staticClass:"standaloneserver_control_item_msg"},[a("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.upDownMsg")))])]),a("div",{staticClass:"standaloneserver_control_item_btn"},[a("el-button",{attrs:{plain:""},on:{click:function(e){t.upgradeType=1}}},[t._v(t._s(t.$t("standaloneServer.upDown")))])],1)]):t._e(),1===t.host_data.allow_upgrade_config?a("div",{staticClass:"standaloneserver_control_item"},[a("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.upDownOptions")))]),a("div",{staticClass:"standaloneserver_control_item_msg"},[a("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.upDownOptionsMsg")))])]),a("div",{staticClass:"standaloneserver_control_item_btn"},[a("el-button",{attrs:{plain:""},on:{click:function(e){t.upgradeType=2}}},[t._v(t._s(t.$t("standaloneServer.upDownOptions")))])],1)]):t._e()]):t._e(),1===t.upgradeType?a("upgradeProduct",{on:{nextClick:function(e){return t.upgradeNext(1)}}}):t._e(),2===t.upgradeType?a("upgradeConfig",{on:{nextClick:function(e){return t.upgradeNext(2)}}}):t._e(),3===t.upgradeType?a("upgradePay",{attrs:{upgradeTypeChild:t.upgradeTypeChild}}):t._e()],1),t.module_chart.length>0&&"Active"===t.host_data.domainstatus?a("el-tab-pane",{attrs:{label:t.$t("cloudServer.charts"),name:"5"}},[a("div",{staticClass:"info_box_chart info_box_list"},[a("el-row",{attrs:{gutter:40}},[t._l(t.module_chart,(function(e){return[a("el-col",{key:e.type,attrs:{xs:24,md:24,lg:12}},[a("div",{staticClass:"box_chart_flow"},[a("div",{staticClass:"chart_flow_title"},[a("div",{staticClass:"flow_title_text"},[t._v(t._s(e.title))])]),a("flowEcharts",{ref:"flowEcharts"+e.type,refInFor:!0,attrs:{moduleChart:e,hostId:parseInt(t.id),toDayDate:parseInt(1e3*t.host_data.regdate)}})],1)])]}))],2)],1)]):t._e(),"Active"===t.host_data.domainstatus?a("el-tab-pane",{attrs:{name:"8",label:"文件下载"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.download_data,border:""}},[a("el-table-column",{attrs:{prop:"title",label:"文件名"}}),a("el-table-column",{attrs:{prop:"description",label:"文件描述"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.goDownload(s)}}},[t._v("立即下载")])]}}],null,!1,1668826208)})],1)],1):t._e(),t._l(t.module_client_area,(function(e,s){return a("el-tab-pane",{key:s,attrs:{label:e.name,name:e.key}},[isNaN(parseInt(t.activeName))?a("embed",{staticStyle:{width:"100%"},attrs:{height:"800",src:t.htmlContent,type:""}}):t._e()])}))],2)],1)])},r=[],n=(a("4160"),a("b0c0"),a("a9e3"),a("ac1f"),a("1276"),a("159b"),a("96cf"),a("1da1")),i=a("318a"),o=a("4a8e"),c=a("048a"),l=a("0aa1"),u=a("0a065"),d=a("1e4f"),p=a("4c8e"),m=a("b4f7"),f=a("2cf5"),h=a("7028"),g={metaInfo:function(){return{title:this.host_data.group.groupname,titleTemplate:"%s - "+this.host_data.domain+(this.companyname?" - "+this.companyname:""),htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},data:function(){return{download_data:[],groupid:Number(this.$route.query.groupid),companyname:"",id:Number(this.$route.query.id),host_data:{domain:"",productname:"",hasSelect:!1,config_options:[],custom_field_data:[],assignedips:[],group:{fa_icon:"",groupname:"",id:0}},module_button:{console:[],control:[]},activeName:"1",htmlContent:"",module_chart:[],module_client_area:[],upgradeType:0,upgradeTypeChild:"product"}},components:{ServerHeader:i["a"],finance:l["default"],log:u["default"],control:d["default"],flowEcharts:p["a"],upgradeProduct:m["default"],upgradeConfig:f["default"],upgradePay:h["default"]},computed:{updateHostData:function(){return this.$store.state.currentProHostData}},watch:{updateHostData:function(t){this.getData()}},methods:{goDownload:function(t){t.url?open(t.url):this.$message.error("该文件没有下载链接")},getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["e"])(t.id);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=6;break}return e.abrupt("return",!1);case 6:t.companyname=s.data.system_config.company_name,t.download_data=s.data.download_data,t.host_data=s.data.host_data,t.host_data.config_options=s.data.config_options,t.host_data.custom_field_data=s.data.custom_field_data,t.host_data.group=s.data.host_data.group,t.module_button=s.data.module_button,"dcim"!==s.data.host_data.type&&(t.module_chart=s.data.module_chart,t.module_client_area=s.data.module_client_area,setTimeout((function(){t.module_chart&&t.module_chart.forEach((function(e){void 0!==t.$refs["flowEcharts"+e.type]&&"undefined"!==t.$refs["flowEcharts"+e.type]&&(t.$refs["flowEcharts"+e.type][0].type=e.type,t.$refs["flowEcharts"+e.type][0].init())}))}),0)),0===t.host_data.dcimid&&"dcimcloud"===t.host_data.type||0===t.host_data.serverid&&0===t.host_data.zjmf_api_id||"Suspended"===t.host_data.domainstatus||"Pending"===t.host_data.domainstatus||"Cancelled"===t.host_data.domainstatus||"Fraud"===t.host_data.domainstatus||"Active"===t.host_data.domainstatus?t.activeName="1":"Deleted"===t.host_data.domainstatus&&(t.activeName="2");case 15:case"end":return e.stop()}}),e)})))()},consoleHandleCommand:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r,n,i,o,l,u,d,p,m,f,h,g;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.split("-"),r=s[1],n=s[2],"default"!==n||"vnc"!==r){a.next=12;break}return i={id:e.id,func:r},a.next=7,Object(c["d"])(i);case 7:o=a.sent,l=o.data,200===l.status?(u=l.data.url,d=1100,p=550,m=(window.screen.availHeight-30-p)/2,f=(window.screen.availWidth-10-d)/2,window.open(u,"QRcodeWin"+e.id,"height="+p+", width="+d+", top="+m+", left="+f)):e.$swal("",l.msg,"error"),a.next=18;break;case 12:if("custom"!==n){a.next=18;break}return a.next=15,Object(c["c"])({id:e.id,func:r});case 15:h=a.sent,g=h.data,200!==g.status?e.$swal("",g.msg||"失败","error"):g.data.url?window.open(g.data.url):e.$swal("",g.msg||"成功","success");case 18:case"end":return a.stop()}}),a)})))()},getCustom:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t&&(parseInt(t.name)<=5||(s=localStorage.getItem("OrfLcI2IqQItv0vS"),e.htmlContent=e.$baseUrl+"/provision/custom/content?id="+e.id+"&key="+t.name+"&jwt="+s),"4"===t.name&&(e.upgradeType=0));case 1:case"end":return a.stop()}}),a)})))()},resize:function(){var t=this;this.module_chart.forEach((function(e){t.$refs["flowEcharts"+e.type][0]&&t.$refs["flowEcharts"+e.type][0].resize(e.type)})),this.screenWidth=document.body.clientWidth,this.type=this.screenWidth>900?"left":"top",this.popWidth=this.screenWidth>900?400:320},upgradeNext:function(t){this.upgradeType=3,1===t?this.upgradeTypeChild="product":2===t&&(this.upgradeTypeChild="config")}},created:function(){this.getData(),this.getCustom()},mounted:function(){var t,e=this;window.addEventListener("resize",(function(){t&&clearTimeout(t),t=setTimeout((function(){t=null,e.resize()}),300)})),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",e.resize)}))}},v=g,_=(a("8dbb"),a("2877")),b=Object(_["a"])(v,s,r,!1,null,"215f502b",null);e["default"]=b.exports},"4c8e":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flow-echarts"},[a("div",{staticClass:"head"},[a("el-row",{staticClass:"limit-data-pick"},[a("el-col",{attrs:{xs:24,lg:12}},[t.moduleChart.select&&t.moduleChart.select.length>0?a("el-select",{attrs:{placeholder:t.$t("cloudServer.pleaseSelect")},on:{change:t.changeSelect},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},t._l(t.moduleChart.select,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),1):"serveNetwork"===t.type?a("el-select",{attrs:{placeholder:t.$t("cloudServer.pleaseSelect")},model:{value:t.timeType,callback:function(e){t.timeType=e},expression:"timeType"}},[a("el-option",{key:"1",attrs:{label:t.$t("cloudServer.recently24H"),value:"1"}}),a("el-option",{key:"2",attrs:{label:t.$t("cloudServer.d7"),value:"2"}}),a("el-option",{key:"3",attrs:{label:t.$t("cloudServer.duringMonth"),value:"3"}}),a("el-option",{key:"4",attrs:{label:t.$("cloudServer.inLast30Days"),value:"4"}})],1):t._e()],1),a("el-col",{staticClass:"mobile-mt10",attrs:{xs:24,lg:12}},[a("el-date-picker",{style:{width:"100%"},attrs:{type:"datetimerange","range-separator":t.$t("cloudServer.to"),"start-placeholder":t.$t("cloudServer.startTime"),"end-placeholder":t.$t("cloudServer.endTime"),"value-format":"timestamp","picker-options":t.pickerOptions,format:"MM-dd"},on:{change:t.changeDateTime},model:{value:t.dateTime,callback:function(e){t.dateTime=e},expression:"dateTime"}})],1)],1)],1),a("div",{staticClass:"flowEcharts",attrs:{id:t.type}}),"cloudNetwork"===t.type?a("div",{staticClass:"fix-cont"},[a("el-row",[a("el-col",{attrs:{span:3,offset:7}},[a("div",{staticStyle:{height:"20px"}}),a("div",[t._v(t._s(t.$t("cloudServer.intoTraffic")))]),a("div",[t._v(t._s(t.$t("cloudServer.flow")))])]),a("el-col",{attrs:{span:3}},[a("div",[t._v(t._s(t.$t("cloudServer.latestTraffic")))]),a("div",[t._v(t._s(t.netDetail.accept.new))]),a("div",[t._v(t._s(t.netDetail.send.new))])]),a("el-col",{attrs:{span:3}},[a("div",[t._v(t._s(t.$t("cloudServer.averageFlowRate")))]),a("div",[t._v(t._s(t.netDetail.accept.average))]),a("div",[t._v(t._s(t.netDetail.send.average))])]),a("el-col",{attrs:{span:3}},[a("div",[t._v(t._s(t.$t("cloudServer.maximumFlow")))]),a("div",[t._v(t._s(t.netDetail.accept.max))]),a("div",[t._v(t._s(t.netDetail.send.max))])])],1)],1):t._e()])},r=[],n=(a("4160"),a("a9e3"),a("ac1f"),a("1276"),a("159b"),a("96cf"),a("1da1")),i=a("b85c"),o=a("048a"),c=a("313e"),l=a.n(c),u=null,d={props:{moduleChart:{type:Object,default:null},hostId:{type:Number,default:0},toDayDate:{type:Number,value:0}},data:function(){return{chart_type:"",dateTime:[],xData:[],yData:[],yMax:100,dataGreen:[],labelGreen:"",type:"",dataBlue:[],labelBlue:"",dataYellow:[],labelYellow:"",unit:"%",diskDev:"",select:"",networkKey:0,nodeDisk:"",nodeNetwork:"",echartsId:"",dataGreen2:[],labelGreen2:"",dataBlue2:[],labelBlue2:"",timeType:0,subtext:"",netDetail:{accept:{total:0,max:0,new:0,average:0},send:{total:0,max:0,new:0,average:0}},pickerOptions:{disabledDate:function(t){var e=u.toDayDate;return t.getTime()-new Date(e).getTime()+864e5<0||t.getTime()-(new Date).getTime()>=0}},pending:{}}},computed:{option:function(){var t={title:{subtext:0===this.xData.length?"暂无数据":this.subtext,left:"center",textAlign:"left",subtextStyle:{lineHeight:350}},grid:{left:"20",right:"40",top:"10%",bottom:"1%",containLabel:!0},xAxis:{type:"category",data:this.xData,axisTick:!1,boundaryGap:this.dataBlue.length<=3,axisLabel:{textStyle:{color:"#666"},formatter:function(t){for(var e=t.split(""),a="",s=0,r="";s<e.length+1;r=e[s++])a+=r,s%10||(a+="\n");return a}},axisLine:{lineStyle:{color:"#EBEEF5"}},splitLine:{show:!1}},yAxis:{type:"value",axisTick:!1,max:this.yMax,boundaryGap:!1,axisLine:{lineStyle:{color:"#EBEEF5"}},axisLabel:{formatter:"{value} "+this.unit,textStyle:{color:"#666"}},splitLine:{show:!1}},dataZoom:[{type:"inside",throttle:50}],tooltip:{trigger:"axis",backgroundColor:"#fff",textStyle:{color:"#000"},extraCssText:"box-shadow:0 2px 12px 0 rgba(0, 0, 0, 0.1);"},series:[{name:this.labelGreen,data:this.dataGreen,itemStyle:{color:"#3fbf70"},symbol:1===this.dataGreen.length||"none",type:"line",sampling:!0},{name:this.labelBlue,data:this.dataBlue,itemStyle:{color:"#007bfc"},symbol:1===this.dataBlue.length||"none",type:"line",sampling:!0},{name:this.labelYellow,data:this.dataYellow,itemStyle:{color:"#E6A23C"},symbol:"none",type:"line",sampling:!0},{name:this.labelGreen2,type:"bar",stack:"总量",barWidth:"8",itemStyle:{color:"#3fbf70"},roundCap:!0,data:this.dataGreen2},{name:this.labelBlue2,type:"bar",stack:"总量",itemStyle:{color:"#007bfc"},roundCap:!0,data:this.dataBlue2}]};return"area"===this.chart_type&&(t.series[0].stack="总量",t.series[1].stack="总量",t.series[0].areaStyle={},t.series[1].areaStyle={}),t}},watch:{timeType:function(t){if(""===t){var e=(new Date).getTime(),a=e-2592e6;this.dateTime=[new Date(a),new Date(e)]}else if(1===t){var s=(new Date).getTime(),r=new Date(new Date((new Date).toLocaleDateString()).getTime());this.dateTime=[new Date(r),new Date(s)]}else if(2===t){var n=(new Date).getTime(),i=n-6048e5;this.dateTime=[new Date(i),new Date(n)]}else if(3===t){var o=(new Date).getTime(),c=new Date;c.setDate(1);var l=new Date(new Date(c).toLocaleDateString()).getTime();this.dateTime=[new Date(l),new Date(o)]}else if(4===t){var u=(new Date).getTime(),d=u-2592e6;this.dateTime=[new Date(d),new Date(u)]}"serveNetwork"===this.type&&this.changeSelect()}},created:function(){u=this},mounted:function(){var t=document.getElementsByClassName("el-tabs__content")[0],e=t.clientWidth||t.offsetWight,a=document.getElementsByClassName("flowEcharts"),s=document.body.clientWidth;if(s<1400){var r,n=Object(i["a"])(a);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.style.width=e/1-22+"px"}}catch(d){n.e(d)}finally{n.f()}}else{var c,l=Object(i["a"])(a);try{for(l.s();!(c=l.n()).done;){var u=c.value;u.style.width=e/2-22+"px"}}catch(d){l.e(d)}finally{l.f()}}},methods:{resize:function(t){var e,a=document.getElementsByClassName("flowEcharts"),s=Object(i["a"])(a);try{for(s.s();!(e=s.n()).done;){var r=e.value;r.style.width="100%"}}catch(n){s.e(n)}finally{s.f()}this.echartsId=l.a.init(document.getElementById(t)),this.echartsId.resize()},changeSelect:function(){this.getData()},init:function(){var t=this,e=(new Date).getTime(),a=0;a=u.toDayDate?new Date(u.toDayDate).getTime()>e-6048e5?new Date(u.toDayDate).getTime():6048e5:e-6048e5,this.dateTime=[new Date(a),new Date(e)],this.xData=[],this.yData=[],this.dataGreen=[],this.labelGreen="",this.dataBlue=[],this.labelBlue="",this.dataYellow=[],this.labelYellow="",this.dataGreen2=[],this.labelGreen2="",this.dataBlue2=[],this.labelBlue2="",this.yMax=null,this.timeType=0,this.subtext="",this.netDetail={accept:{total:0,max:0,new:0,average:0},send:{total:0,max:0,new:0,average:0}},this.select=this.moduleChart.select&&this.moduleChart.select.length>0?this.moduleChart.select[0].value:"",this.getData(),setTimeout((function(){t.echartsId=l.a.init(document.getElementById(t.type))}),0)},changeDateTime:function(){this.getData()},canvasChart:function(){var t=this.echartsId;t.setOption(this.option,!0)},getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=[[],[],[]],t.xData=a[0],t.dataBlue=a[1],t.dataGreen=a[2],s={hostId:t.hostId,type:t.type,select:t.select,start:new Date(t.dateTime[0]).getTime(),end:new Date(t.dateTime[1]).getTime()},e.next=8,Object(o["j"])(s);case 8:if(r=e.sent,n=r.data,200===n.status){e.next=13;break}return t.$message.error(n.msg),e.abrupt("return",!1);case 13:t.chart_type=n.data.chart_type,"%"===n.data.unit&&(t.yMax="100"),t.unit=n.data.unit,t.labelBlue=n.data.label[0],n.data.list.length>0&&n.data.list[0].forEach((function(e){t.dataBlue.push(e.value),t.xData.push(e.time)})),n.data.list.length>1&&(t.labelGreen=n.data.label[1],n.data.list[1].forEach((function(e){t.dataGreen.push(e.value)})));case 19:return e.prev=19,t.canvasChart(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,,19,22]])})))()}}},p=d,m=(a("7ca5"),a("2877")),f=Object(m["a"])(p,s,r,!1,null,"09ed1ca4",null);e["a"]=f.exports},"5bd6":function(t,e,a){},"5f9d":function(t,e,a){"use strict";var s=a("1a9f"),r=a.n(s);r.a},"6fde":function(t,e,a){"use strict";var s=a("ec1c"),r=a.n(s);r.a},7028:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},["product"===t.upgradeType?a("div",{staticClass:"order_box"},[a("el-row",{staticClass:"box_goodsitem_box"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"goodsitem_box_header"},[a("div",[a("span",[t._v(t._s(t.proPageData.old_host.host))])])]),a("el-row",{staticClass:"goodsitem_box_body"},[a("el-col",{staticClass:"box_body_left",attrs:{lg:18,xs:24}},[t._v(" "+t._s(t.$t("standaloneServer.newProduct"))+": "+t._s(t.proPageData.des)+" ")]),a("el-col",{staticClass:"box_body_right",attrs:{lg:6,xs:24}},[a("div",[a("span",[t._v(" "+t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount)+" "+t._s(t.proPageData.suffix))]),a("span",{staticClass:"body_right_cycle"},[t._v("/ "+t._s(t.proPageData.billingcycle_zh))])])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fr"},[a("div",{staticClass:"order_box_total"},[a("div",[t._v(t._s(t.$t("standaloneServer.total")))]),a("div",{staticClass:"box_total_money"},[a("span",{staticClass:"total_money_price"},[t._v(t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount_total)+" "+t._s(t.proPageData.suffix))]),a("span",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v(" / "+t._s(t.proPageData.billingcycle_zh))])])]),a("div",{staticClass:"order_box_promo"},[a("el-input",{staticClass:"box_promo_inp",attrs:{placeholder:t.$t("standaloneServer.placeholderPromo")},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),a("el-button",{staticClass:"box_promo_btn",attrs:{type:"primary"},on:{click:t.addProductCode}},[t._v(" "+t._s(t.$t("standaloneServer.usePromo")))])],1),a("div",[a("el-button",{staticClass:"order_box_topay",attrs:{type:"primary",loading:t.btnLoading},on:{click:t.proUpgradePay}},[t._v(" "+t._s(t.$t("standaloneServer.settlement")))])],1),a("div",{staticClass:"tar"},[a("el-button",{staticClass:"order_box_continue",attrs:{type:"text"},on:{click:t.backHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.goBack")))])],1)])])],1)],1):t._e(),"config"===t.upgradeType?a("div",{staticClass:"order_box"},[a("el-row",{staticClass:"box_goodsitem_box"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"goodsitem_box_header"},[a("div",[a("span",[t._v(t._s(t.configPageData.name))])])]),a("el-row",{staticClass:"goodsitem_box_body"},[a("el-col",{staticClass:"box_body_left",attrs:{lg:18,xs:24}},t._l(t.configPageData.alloption,(function(e,s){return a("div",{key:s,staticClass:"body_left_item"},[t._v(" "+t._s(e.option_name)+": "),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("span",{staticClass:"body_item_value"},[t._v(t._s(e.qty))]):a("span",{staticClass:"body_item_value"},[t._v(t._s(e.suboption_name))])])})),0),a("el-col",{staticClass:"box_body_right",attrs:{lg:6,xs:24}},[a("div",[a("span",[t._v(t._s(t.configPageData.currency.prefix)+" "+t._s(t.configPageData.subtotal)+" "+t._s(t.configPageData.currency.suffix))]),a("span",{staticClass:"body_right_cycle"},[t._v("/"+t._s(t.configPageData.billingcycle_zh))])])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fr"},[a("div",{staticClass:"order_box_total"},[a("div",[t._v(t._s(t.$t("standaloneServer.total")))]),a("div",{staticClass:"box_total_money"},[a("span",{staticClass:"total_money_price"},[t._v(t._s(t.configPageData.currency.prefix)+t._s(t.configPageData.total)+t._s(t.configPageData.currency.suffix))]),a("span",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v(" / "+t._s(t.configPageData.billingcycle_zh))])])]),a("div",{staticClass:"order_box_promo"},[a("el-input",{staticClass:"box_promo_inp",attrs:{placeholder:t.$t("standaloneServer.placeholderPromo")},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),a("el-button",{staticClass:"box_promo_btn",attrs:{type:"primary"},on:{click:t.addConfigCode}},[t._v(t._s(t.$t("standaloneServer.usePromo"))+" ")])],1),a("div",[a("el-button",{staticClass:"order_box_topay",attrs:{type:"primary",loading:t.btnLoading},on:{click:t.configUpgradePay}},[t._v(" "+t._s(t.$t("standaloneServer.settlement")))])],1),a("div",{staticClass:"tar"},[a("el-button",{staticClass:"order_box_continue",attrs:{type:"text"},on:{click:t.backHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.goBack")))])],1)])])],1)],1):t._e(),a("payPop",{ref:"control",on:{"pay-success":t.successCallBack}})],1)},r=[],n=(a("96cf"),a("1da1")),i=a("27fd"),o=a("92b1"),c=a("2ef0"),l={props:{upgradeTypeChild:{type:String,default:"product"}},data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,upgradeType:this.upgradeTypeChild,proPageData:{old_host:{id:0,host:"",domain:""},currency:{id:0,code:"",prefix:"",suffix:""}},configPageData:{alloption:[],currency:{id:1,code:"",prefix:"",suffix:""}},promoCode:"",payment:"",dialogVisible:!1,QRcodeUrl:"",payType:"",btnLoading:!1}},components:{payPop:o["a"]},methods:{getProductData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["Q"])({hid:t.id});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.proPageData=s.data,t.promoCode=s.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},addProductCode:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["b"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getProductData());case 5:case"end":return e.stop()}}),e)})))()},proUpgradePay:c.throttle(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.btnLoading=!0,t.next=3,Object(i["h"])({hid:this.proPageData.old_host.id});case 3:e=t.sent,a=e.data,200===a.status?this.$refs.control.startPay({id:a.data.invoiceid,name:this.$t("standaloneServer.upDown")}):1001===a.status?(this.$message.success(a.msg),this.$router.push({path:"/other-servers",query:{groupid:this.groupid}})):this.$message.error(a.msg),this.btnLoading=!1;case 7:case"end":return t.stop()}}),t,this)}))),2e3),getConfigData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["N"])({hid:t.id});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.configPageData=s.data,t.promoCode=s.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},promoChange:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.promoCode){e.next=14;break}if("product"!==t.upgradeType){e.next=9;break}return e.next=4,Object(i["H"])({hid:t.id});case 4:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getProductData()),e.next=14;break;case 9:return e.next=11,Object(i["I"])({hid:t.id});case 11:r=e.sent,n=r.data,200!==n.status?t.$message.error(n.msg):(t.$message.success(n.msg),t.getConfigData());case 14:case"end":return e.stop()}}),e)})))()},addConfigCode:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getConfigData());case 5:case"end":return e.stop()}}),e)})))()},configUpgradePay:c.throttle(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in e={hid:this.id},e.configoption=[],this.configPageData.alloption)4===this.configPageData.alloption[a].option_type?e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].qty:e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].suboption_id;return this.btnLoading=!0,t.next=6,Object(i["g"])(this.$qs.stringify(e));case 6:s=t.sent,r=s.data,200===r.status?this.$refs.control.startPay({id:r.data.invoiceid,name:this.$t("standaloneServer.upDownOptions")}):1001===r.status?(this.$message.success(r.msg),this.$router.push({path:"/other-servers",query:{groupid:this.groupid}})):this.$message.error(r.msg),this.btnLoading=!1;case 10:case"end":return t.stop()}}),t,this)}))),2e3),successCallBack:function(t){t&&this.$router.push({path:"/other-servers",query:{groupid:this.groupid}})},backHandleClick:function(){this.$router.go(-1)}},created:function(){"config"===this.upgradeType?this.getConfigData():this.getProductData()},destroyed:function(){}},u=l,d=(a("eff3"),a("2877")),p=Object(d["a"])(u,s,r,!1,null,"6fe14d7a",null);e["default"]=p.exports},"7ca5":function(t,e,a){"use strict";var s=a("0309"),r=a.n(s);r.a},"8dae":function(t,e,a){"use strict";var s=a("3b93"),r=a.n(s);r.a},"8dbb":function(t,e,a){"use strict";var s=a("32bf"),r=a.n(s);r.a},9645:function(t,e,a){},9744:function(t,e,a){},ab37:function(t,e,a){"use strict";var s=a("e6f8"),r=a.n(s);r.a},ae4c:function(t,e,a){"use strict";var s=a("c508"),r=a.n(s);r.a},b0f3:function(t,e,a){"use strict";var s=a("5bd6"),r=a.n(s);r.a},b489:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},["product"===t.upgradeType?a("div",{staticClass:"order_box"},[a("el-row",{staticClass:"box_goodsitem_box"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"goodsitem_box_header"},[a("div",[a("span",[t._v(t._s(t.proPageData.old_host.host))])])]),a("el-row",{staticClass:"goodsitem_box_body"},[a("el-col",{staticClass:"box_body_left",attrs:{lg:18,xs:24}},[t._v(" "+t._s(t.$t("standaloneServer.newProduct"))+": "+t._s(t.proPageData.des)+" ")]),a("el-col",{staticClass:"box_body_right",attrs:{lg:6,xs:24}},[a("div",[a("span",[t._v(" "+t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount)+" "+t._s(t.proPageData.suffix))]),a("span",{staticClass:"body_right_cycle"},[t._v("/ "+t._s(t.proPageData.billingcycle_zh))])])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fr"},[a("div",{staticClass:"order_box_total"},[a("div",[t._v(t._s(t.$t("standaloneServer.total")))]),a("div",{staticClass:"box_total_money"},[a("span",{staticClass:"total_money_price"},[t._v(t._s(t.proPageData.currency.prefix)+" "+t._s(t.proPageData.amount_total)+" "+t._s(t.proPageData.suffix))]),a("span",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v(" / "+t._s(t.proPageData.billingcycle_zh))])])]),a("div",{staticClass:"youhui",staticStyle:{display:"block"}},[t._v(" "+t._s(Number(t.proPageData.saleproducts)?"(客户折扣:"+t.proPageData.currency.prefix+Number(t.proPageData.saleproducts).toFixed(2)+")":"")+" ")]),a("div",{staticClass:"order_box_promo"},[a("el-input",{staticClass:"box_promo_inp",attrs:{placeholder:t.$t("standaloneServer.placeholderPromo")},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),a("el-button",{staticClass:"box_promo_btn",attrs:{type:"primary"},on:{click:t.addProductCode}},[t._v(" "+t._s(t.$t("standaloneServer.usePromo")))])],1),a("div",[a("el-button",{staticClass:"order_box_topay",attrs:{type:"primary",loading:t.btnLoading},on:{click:t.proUpgradePay}},[t._v(" "+t._s(t.$t("standaloneServer.settlement")))])],1),a("div",{staticClass:"tar"},[a("el-button",{staticClass:"order_box_continue",attrs:{type:"text"},on:{click:t.backHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.goBack")))])],1)])])],1)],1):t._e(),"config"===t.upgradeType?a("div",{staticClass:"order_box"},[a("el-row",{staticClass:"box_goodsitem_box"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"goodsitem_box_header"},[a("div",[a("span",[t._v(t._s(t.configPageData.name))])])]),a("el-row",{staticClass:"goodsitem_box_body"},[a("el-col",{staticClass:"box_body_left",attrs:{lg:18,xs:24}},t._l(t.configPageData.alloption,(function(e,s){return a("div",{key:s,staticClass:"body_left_item"},[t._v(" "+t._s(e.option_name)+": "),[4,7,9,11,14,15,16,17,18,19].includes(e.option_type)?a("span",{staticClass:"body_item_value"},[t._v(t._s(e.qty))]):a("span",{staticClass:"body_item_value"},[t._v(t._s(e.suboption_name))])])})),0),a("el-col",{staticClass:"box_body_right",attrs:{lg:6,xs:24}},[a("div",[a("span",[t._v(t._s(t.configPageData.currency.prefix)+" "+t._s(t.configPageData.subtotal)+" "+t._s(t.configPageData.currency.suffix))]),a("span",{staticClass:"body_right_cycle"},[t._v("/"+t._s(t.configPageData.billingcycle_zh))])])])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fr"},[a("div",{staticClass:"order_box_total"},[a("div",[t._v(t._s(t.$t("standaloneServer.total")))]),a("div",{staticClass:"box_total_money"},[a("span",{staticClass:"total_money_price"},[t._v(t._s(t.configPageData.currency.prefix)+t._s(t.configPageData.total)+t._s(t.configPageData.currency.suffix))]),a("span",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v(" / "+t._s(t.configPageData.billingcycle_zh))])])]),a("div",{staticClass:"youhui"},[t._v(" "+t._s(Number(t.configPageData.saleproducts)?"(客户折扣:"+t.configPageData.currency.prefix+Number(t.configPageData.saleproducts).toFixed(2)+t.configPageData.currency.suffix+")":"")+" ")]),a("div",{staticClass:"order_box_promo"},[a("el-input",{staticClass:"box_promo_inp",attrs:{placeholder:t.$t("standaloneServer.placeholderPromo")},on:{change:t.promoChange},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),a("el-button",{staticClass:"box_promo_btn",attrs:{type:"primary"},on:{click:t.addConfigCode}},[t._v(" "+t._s(t.$t("standaloneServer.usePromo"))+" ")])],1),a("div",[a("el-button",{staticClass:"order_box_topay",attrs:{type:"primary",loading:t.btnLoading},on:{click:t.configUpgradePay}},[t._v(" "+t._s(t.$t("standaloneServer.settlement")))])],1),a("div",{staticClass:"tar"},[a("el-button",{staticClass:"order_box_continue",attrs:{type:"text"},on:{click:t.backHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.goBack")))])],1)])])],1)],1):t._e(),a("payPop",{ref:"control",on:{"pay-success":t.successCallBack}})],1)},r=[],n=(a("96cf"),a("1da1")),i=a("27fd"),o=a("92b1"),c=a("2ef0"),l={props:{upgradeTypeChild:{type:String,default:"product"}},data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,upgradeType:this.upgradeTypeChild,proPageData:{old_host:{id:0,host:"",domain:""},currency:{id:0,code:"",prefix:"",suffix:""}},configPageData:{alloption:[],currency:{id:1,code:"",prefix:"",suffix:""}},promoCode:"",payment:"",dialogVisible:!1,QRcodeUrl:"",payType:"",btnLoading:!1}},components:{payPop:o["a"]},methods:{getProductData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["Q"])({hid:t.id});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.proPageData=s.data,t.promoCode=s.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},addProductCode:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["b"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getProductData());case 5:case"end":return e.stop()}}),e)})))()},proUpgradePay:c.throttle(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.btnLoading=!0,t.next=3,Object(i["h"])({hid:this.proPageData.old_host.id});case 3:e=t.sent,a=e.data,200===a.status?this.$refs.control.startPay({id:a.data.invoiceid,name:this.$t("standaloneServer.upDown")}):1001===a.status?(this.$message.success(a.msg),this.$router.push({path:"/servers",query:{groupid:this.groupid}})):this.$message.error(a.msg),this.btnLoading=!1;case 7:case"end":return t.stop()}}),t,this)}))),2e3),getConfigData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["N"])({hid:t.id});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.configPageData=s.data,t.promoCode=s.data.promo_code);case 5:case"end":return e.stop()}}),e)})))()},promoChange:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.promoCode){e.next=14;break}if("product"!==t.upgradeType){e.next=9;break}return e.next=4,Object(i["H"])({hid:t.id});case 4:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getProductData()),e.next=14;break;case 9:return e.next=11,Object(i["I"])({hid:t.id});case 11:r=e.sent,n=r.data,200!==n.status?t.$message.error(n.msg):(t.$message.success(n.msg),t.getConfigData());case 14:case"end":return e.stop()}}),e)})))()},addConfigCode:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])({hid:t.id,pormo_code:t.promoCode});case 2:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):(t.$message.success(s.msg),t.getConfigData());case 5:case"end":return e.stop()}}),e)})))()},configUpgradePay:c.throttle(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in e={hid:this.id},e.configoption=[],this.configPageData.alloption)4===this.configPageData.alloption[a].option_type?e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].qty:e.configoption[this.configPageData.alloption[a].id]=this.configPageData.alloption[a].suboption_id;return this.btnLoading=!0,t.next=6,Object(i["g"])(this.$qs.stringify(e));case 6:s=t.sent,r=s.data,200===r.status?this.$refs.control.startPay({id:r.data.invoiceid,name:this.$t("standaloneServer.upDownOptions")}):1001===r.status?(this.$message.success(r.msg),this.$router.push({path:"/servers",query:{groupid:this.groupid}})):this.$message.error(r.msg),this.btnLoading=!1;case 10:case"end":return t.stop()}}),t,this)}))),2e3),successCallBack:function(t){t&&this.$router.push({path:"/servers",query:{groupid:this.groupid}})},backHandleClick:function(){this.$router.go(-1)}},created:function(){"config"===this.upgradeType?this.getConfigData():this.getProductData()},destroyed:function(){}},u=l,d=(a("37b2"),a("2877")),p=Object(d["a"])(u,s,r,!1,null,"678f6139",null);e["default"]=p.exports},b4f7:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[t.productList.length?t._e():a("div",{staticClass:"tac"},[t._v(t._s(t.$t("standaloneServer.noUpDownProduct")))]),t._l(t.productList,(function(e,s){return a("div",{key:"pro"+s,class:{upgrade_proitem_box:e.host,upgrade_proitem_box_active:t.upgradeSubmitData.pid===e.pid},on:{click:function(a){return t.proChange(e.pid)}}},[e.host?a("el-row",[a("el-col",{attrs:{lg:18,xs:16}},[t._v(t._s(e.host))]),a("el-col",{staticClass:"tar",attrs:{lg:6,xs:8}},[a("el-select",{on:{change:t.cycleChange},model:{value:e.billingcycle,callback:function(a){t.$set(e,"billingcycle",a)},expression:"proItem.billingcycle"}},t._l(e.cycle,(function(e,s){return a("el-option",{key:"cycle"+s,attrs:{label:t.currency.prefix+e.price+t.currency.suffix+" / "+e.billingcycle_zh+(Number(e.saleproducts)?"(客户折扣："+t.currency.prefix+Number(e.saleproducts).toFixed(2)+t.currency.suffix+")":""),value:e.billingcycle}})})),1)],1)],1):t._e()],1)})),t.productList.length?a("div",{staticClass:"tar"},[a("el-button",{attrs:{type:"primary",disabled:!t.upgradeSubmitData.pid},on:{click:t.nextHandleClick}},[t._v(" "+t._s(t.$t("standaloneServer.next")))])],1):t._e()],2)},r=[],n=(a("4160"),a("159b"),a("96cf"),a("1da1")),i=a("27fd"),o={data:function(){return{groupid:this.$route.query.groupid,id:this.$route.query.id,productList:[1],upgradeSubmitData:{hid:this.$route.query.id,pid:0,billingcycle:void 0,currencyid:void 0,promo_code:void 0},currency:void 0,toPayParams:{}}},computed:{},watch:{},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["P"])({hid:t.id,currencyid:void 0});case 2:a=e.sent,s=a.data,200!==s.status||((s.data.host||[]).forEach((function(t){t.billingcycle=t.cycle.length?t.cycle[0].billingcycle:void 0})),t.upgradeSubmitData.pid=s.data.host[0].pid,t.productList=s.data.host,t.currency=s.data.currency);case 5:case"end":return e.stop()}}),e)})))()},proChange:function(t){var e=this;this.upgradeSubmitData.pid=t,(this.productList||[]).forEach((function(a){a.pid===t&&a.cycle.length&&e.cycleChange(a.billingcycle)}))},cycleChange:function(t){var e=this;(this.productList||[]).forEach((function(a){(a.cycle||[]).forEach((function(a){t===a.billingcycle&&(e.upgradeSubmitData.billingcycle_zh=a.billingcycle_zh)}))}))},nextHandleClick:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upgradeSubmitData.currencyid=t.currency.id,(t.productList||[]).forEach((function(e){e.pid===t.upgradeSubmitData.pid&&(t.upgradeSubmitData.billingcycle=e.billingcycle,t.toPayParams.newHost=e)})),e.next=4,Object(i["R"])(t.upgradeSubmitData);case 4:a=e.sent,s=a.data,200!==s.status?t.$message.error(s.msg):t.$emit("nextClick");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.getData()},mounted:function(){}},c=o,l=(a("b0f3"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,"1c60d1d6",null);e["default"]=u.exports},c112:function(t,e,a){"use strict";var s=a("c7fc"),r=a.n(s);r.a},c4a5:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout_card"},[a("div",{staticClass:"page-title"},[t._v(t._s(t.$t("standaloneServer.batchRenewPageTitle")))]),a("div",{staticClass:"list-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}}},[a("el-table-column",{attrs:{prop:"name",label:t.$t("standaloneServer.productname")}}),a("el-table-column",{attrs:{prop:"nextduedate",label:t.$t("standaloneServer.currentExpirationTime")},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",[t._v(" "+t._s(s.nextduedate?t.$moment(1e3*s.nextduedate).format("YYYY-MM-DD"):"-")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"nextduedate_renew",label:t.$t("standaloneServer.expiryTimeAfterRenewal")},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",[t._v(" "+t._s(s.nextduedate_renew?t.$moment(1e3*s.nextduedate_renew).format("YYYY-MM-DD"):"-")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"billingcycle",label:t.$t("standaloneServer.renewalCycle"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",[a("el-select",{on:{change:t.selectChange},model:{value:s.billingcycle,callback:function(e){t.$set(s,"billingcycle",e)},expression:"row.billingcycle"}},t._l(s.allow_billingcycle,(function(e){return a("el-option",{key:e.billingcycle,attrs:{label:t.currency.prefix+" "+e.amount+" "+t.currency.suffix+" / "+e.billingcycle_zh,value:e.billingcycle}})})),1)],1)]}}])}),a("el-table-column",{staticClass:"hiddenFunc",attrs:{prop:"saleproducts",label:t.$t("standaloneServer.discount")},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",[t._v(" "+t._s(Number(s.saleproducts)?"(客户折扣："+t.currency.prefix+Number(s.saleproducts).toFixed(2)+t.currency.suffix+")":"")+" ")])]}}])})],1),a("div",{staticClass:"total-price"},[a("span",[t._v(t._s(t.$t("standaloneServer.total"))+"："),a("span",[t._v(t._s(t.currency.prefix)+t._s(t.total)+t._s(t.currency.suffix))])])]),a("div",{staticClass:"discount hiddenFunc"},[t._v(" "+t._s(Number(t.totalSale)?"(客户折扣"+t.currency.prefix+Number(t.totalSale).toFixed(2)+t.currency.suffix+")":"")+" ")]),a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"primary"},on:{click:t.payNow}},[t._v(t._s(t.$t("standaloneServer.renewNow")))])],1)],1),a("payPop",{ref:"control",on:{"pay-success":t.goToList,"balance-success":t.toList}})],1)},r=[],n=(a("4160"),a("159b"),a("96cf"),a("1da1")),i=a("27fd"),o=a("92b1"),c=a("2ef0"),l={metaInfo:function(){return{title:this.$t("standaloneServer.batchRenewPageTitle"),htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},components:{payPop:o["a"]},data:function(){return{totalSale:"",host_ids:[],tableData:[],currency:{},total:0,formData:{host_ids:[],cycles:[]},product_type:{fa_icon:"",groupname:"",id:0}}},methods:{getIds:function(){var t=this.$route.query.ids;this.host_ids=[],this.formData.host_ids=[],Array.isArray(t)?(this.host_ids=this.$route.query.ids,this.formData.host_ids=this.$route.query.ids):(this.host_ids.push(t),this.formData.host_ids.push(t))},getListData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["l"])(t.formData);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=7;break}return t.$message.error(s.msg),e.abrupt("return",!1);case 7:t.totalSale=s.data.totalsale,t.tableData=s.data.hosts,t.currency=s.data.currency,t.total=s.data.total,t.formData.host_ids=[],s.data.hosts.forEach((function(e){t.formData.host_ids.push(e.id)})),s.data.hosts.forEach((function(e){t.formData.cycles[e.id]=e.billingcycle,"ontrial"===e.billingcycle&&(e.billingcycle=e.allow_billingcycle.length?e.allow_billingcycle[0].billingcycle:"ontrial")})),s.data.hosts.length&&s.data.hosts[0].groupn&&(t.product_type=s.data.hosts[0].groupn);case 15:case"end":return e.stop()}}),e)})))()},selectChange:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.formData.cycles=[],t.tableData.forEach((function(e){t.formData.cycles[e.id]=e.billingcycle})),a=t.$qs.stringify(t.formData),e.next=5,Object(i["l"])(a);case 5:if(s=e.sent,r=s.data,200===r.status){e.next=10;break}return t.$message.error(r.msg),e.abrupt("return",!1);case 10:t.totalSale=r.data.totalsale,t.tableData=r.data.hosts,t.currency=r.data.currency,t.total=r.data.total;case 14:case"end":return e.stop()}}),e)})))()},payNow:c.throttle(Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["D"])(this.$qs.stringify(this.formData));case 2:e=t.sent,a=e.data,1001===a.status?(this.$message.success(a.msg),1===this.product_type.id?this.$router.push({path:"/cloud-server",query:{groupid:this.product_type.id}}):2===this.product_type.id?this.$router.push({path:"/servers",query:{groupid:this.product_type.id}}):this.$router.push({path:"/other-servers",query:{groupid:this.product_type.id}})):200===a.status?a.data?this.$refs.control.startPay({id:a.data.invoice_id,name:this.$t("standaloneServer.batchRenewPageTitle")}):(this.$message.success(a.msg),1===this.product_type.id?this.$router.push({path:"/cloud-server",query:{groupid:this.product_type.id}}):2===this.product_type.id?this.$router.push({path:"/servers",query:{groupid:this.product_type.id}}):this.$router.push({path:"/other-servers",query:{groupid:this.product_type.id}})):this.$message.error(a.msg);case 5:case"end":return t.stop()}}),t,this)}))),1e3),goToList:function(t){t&&(1===this.product_type.id?this.$router.push({path:"/cloud-server",query:{groupid:this.product_type.id}}):2===this.product_type.id?this.$router.push({path:"/servers",query:{groupid:this.product_type.id}}):this.$router.push({path:"/other-servers",query:{groupid:this.product_type.id}}))},toList:function(t){t&&(1===this.product_type.id?this.$router.push({path:"/cloud-server",query:{groupid:this.product_type.id}}):2===this.product_type.id?this.$router.push({path:"/servers",query:{groupid:this.product_type.id}}):this.$router.push({path:"/other-servers",query:{groupid:this.product_type.id}}))}},created:function(){this.getIds(),this.getListData()},beforeDestroy:function(){sessionStorage.removeItem("mulRenewArr"),sessionStorage.removeItem("multipleType")}},u=l,d=(a("fcb3"),a("2877")),p=Object(d["a"])(u,s,r,!1,null,"a83bee1c",null);e["default"]=p.exports},c508:function(t,e,a){},c7fc:function(t,e,a){},c92d:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"other_server_list layout_card"},[a("div",{staticClass:"page-title"},[t._v(t._s(t.group.groupname))]),a("div",{staticClass:"other_server_list_box"},[a("div",{staticClass:"other_server_list_header"},[a("div",{staticClass:"selectBox"},[a("div",{staticClass:"mulselect"},[a("el-select",{attrs:{slot:"reference",multiple:"",clearable:"",placeholder:t.$t("standaloneServer.placeholderMulSelect")},on:{change:t.changeStatus},slot:"reference",model:{value:t.selectStatus,callback:function(e){t.selectStatus=e},expression:"selectStatus"}},t._l(t.statusOptions,(function(t){return a("el-option",{key:t.value,style:"color:"+t.color,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticClass:"mulselect-m",staticStyle:{width:"100%"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{slot:"reference",multiple:"",clearable:"",placeholder:t.$t("standaloneServer.placeholderMulSelect")},on:{change:t.changeStatus},slot:"reference",model:{value:t.selectStatus,callback:function(e){t.selectStatus=e},expression:"selectStatus"}},t._l(t.statusOptions,(function(t){return a("el-option",{key:t.value,style:"color:"+t.color,attrs:{label:t.label,value:t.value}})})),1)],1)]),a("div",{staticClass:"search"},[a("el-input",{attrs:{placeholder:t.$t("standaloneServer.placeholderSearch")},model:{value:t.search.input,callback:function(e){t.$set(t.search,"input",e)},expression:"search.input"}})],1)]),a("div",{staticClass:"other_server_list_table"},[a("el-table",{ref:"serverTableRef",staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":{"font-size":"14px",color:"#7c7c7c","font-weight":"normal"}},on:{"sort-change":t.changeSort,"selection-change":t.tableSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"45"}}),a("el-table-column",{attrs:{prop:"domainstatus",label:t.$t("standaloneServer.domainstatus"),align:"center",sortable:"custom",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"status_box"},["Active"===s.domainstatus?a("div",{staticClass:"active_color"},[t._v(t._s(s.domainstatus_desc))]):"Pending"===s.domainstatus?a("div",{staticClass:"pengding_color"},[t._v(t._s(s.domainstatus_desc))]):"Cancelled"===s.domainstatus?a("div",{staticClass:"cancelled_color"},[t._v(t._s(s.domainstatus_desc)+" ")]):"Suspended"===s.domainstatus?a("div",{staticClass:"suspended_color"},[t._v(t._s(s.domainstatus_desc)+" ")]):"Deleted"===s.domainstatus?a("div",{staticClass:"terminated_color"},[t._v(t._s(s.domainstatus_desc))]):"Fraud"===s.domainstatus?a("div",{staticClass:"fraud_color"},[t._v(t._s(s.domainstatus_desc))]):t._e()])]}}])}),a("el-table-column",{attrs:{prop:"productname",label:t.$t("standaloneServer.productname"),width:"350",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"product_box"},[a("div",[a("el-link",{on:{click:function(e){return t.goToView(s)}}},[t._v(t._s(s.productname))])],1)]),a("div",{staticClass:"product_box"},[a("div",{staticStyle:{color:"#ccc"}},[t._v(t._s(s.domain))])])]}}])}),a("el-table-column",{attrs:{prop:"dedicatedip",label:"IP",align:"center",width:"130",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("el-popover",{attrs:{placement:"bottom",width:"168",trigger:"hover",disabled:0===s.assignedips.length}},[a("ul",{staticClass:"item_ip"},t._l(s.assignedips,(function(e,s){return a("li",{key:s},[t._v(t._s(e))])})),0),a("div",{attrs:{slot:"reference"},slot:"reference"},[a("el-link",[t._v(t._s(s.dedicatedip))])],1)])]}}])}),a("el-table-column",{attrs:{prop:"nextduedate",label:t.$t("standaloneServer.nextduedate"),align:"center",sortable:"custom",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return["hour"===s.billingcycle?a("span",[t._v(" "+t._s(s.nextduedate&&"free"!==s.billingcycle&&"onetime"!==s.billingcycle?t.$moment(1e3*s.nextduedate).format("YYYY-MM-DD HH:mm"):t.$t("standaloneServer.noDate"))+" ")]):a("span",[t._v(" "+t._s(s.nextduedate&&"free"!==s.billingcycle&&"onetime"!==s.billingcycle?t.$moment(1e3*s.nextduedate).format("YYYY-MM-DD"):t.$t("standaloneServer.noDate"))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"amount",label:t.$t("standaloneServer.amount"),align:"center",width:"210",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return["free"!==s.billingcycle&&"ontrial"!==s.billingcycle?a("div",[a("span",[t._v(t._s(s.price_desc))]),t._v(" / "),a("span",[t._v(t._s(t._f("cutFu")(s.cycle_desc)))])]):a("div",[t._v(t._s(s.cycle_desc))])]}}])}),a("el-table-column",{attrs:{prop:"notes",label:t.$t("standaloneServer.remark"),align:"center",width:"195"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"table_notebox",on:{click:function(e){return t.showDialog(s)}}},[a("span",[t._v(t._s(s.notes?s.notes:"-"))]),a("i",{staticClass:"el-icon-edit"})])]}}])}),a("el-table-column",{attrs:{label:t.$t("standaloneServer.operate"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("el-dropdown",{attrs:{placement:"bottom"},on:{command:function(e){return t.handleCommand(s)}}},[a("span",{staticClass:"el-dropdown-link"},[a("ul",[a("li"),a("li"),a("li")])]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"showView"+s.id}},[t._v(t._s(t.$t("standaloneServer.viewMore"))+" ")])],1)],1)]}}])})],1)],1),a("div",{staticClass:"bottomBtn"},[t.tableData.length?a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.goToMulBilling}},[t._v(t._s(t.$t("standaloneServer.renew"))+" ")]):t._e()],1),a("el-dialog",{attrs:{title:t.$t("standaloneServer.dialogEditRemark"),visible:t.editNoteDialogVisible,width:"500px"},on:{"update:visible":function(e){t.editNoteDialogVisible=e}}},[a("el-form",{ref:"editNoteFormRef",attrs:{model:t.editNoteForm}},[a("el-form-item",{attrs:{label:t.$t("standaloneServer.remark")}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:1}},model:{value:t.editNoteForm.remark,callback:function(e){t.$set(t.editNoteForm,"remark",e)},expression:"editNoteForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelNotes}},[t._v(t._s(t.$t("btnCancle")))]),a("el-button",{attrs:{type:"primary"},on:{click:t.editNote}},[t._v(t._s(t.$t("btnConfirmation")))])],1)],1),a("div",{staticClass:"other_server_list_page"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","prev-text":t.$t("Previous"),"next-text":t.$t("Nextpage"),"page-sizes":[10,15,20,25],"current-page":t.page,"page-size":t.limit,total:t.total,"pager-count":5},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},r=[],n=(a("4de4"),a("4160"),a("b0c0"),a("ac1f"),a("8a79"),a("841c"),a("159b"),a("96cf"),a("1da1")),i=a("4a8e"),o=a("2ef0"),c={metaInfo:function(){return{title:this.group.groupname,htmlAttrs:{lang:this.$t("htmlAttrs.lang"),amp:!0}}},data:function(){return{groupid:this.$route.query.groupid,tableData:[],page:1,limit:20,total:0,orderby:"id",sort:"desc",search:{input:"",timer:null},editNoteForm:{id:0,remark:""},editNoteDialogVisible:!1,selectStatus:["Active","Pending","Suspended"],statusOptions:[{value:"Pending",label:"待开通",color:"#fca426"},{value:"Active",label:"已激活",color:"#3fbf70"},{value:"Fraud",label:"有欺诈",color:"#FF0000"},{value:"Deleted",label:"被删除",color:"#2d2d2d"},{value:"Suspended",label:"已暂停",color:"#e31519"}],tableMul:[],idMul:[],group:{fa_icon:"",groupname:"",id:0}}},methods:{getData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["d"])(t.groupid,t.page,t.limit,t.orderby,t.sort,t.search.input,t.selectStatus);case 2:if(a=e.sent,s=a.data,200===s.status){e.next=6;break}return e.abrupt("return",!1);case 6:for(n in t.tableData=s.data.list,t.page=s.data.page,t.limit=s.data.limit,t.total=s.data.sum,t.orderby=s.data.orderby,r=s.data.domainstatus,t.statusOptions=[],r)o={value:n,label:r[n].name,color:r[n].color},t.statusOptions.push(o);s.group&&(t.group=s.group);case 15:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.limit=t,this.getData()},handleCurrentChange:function(t){this.page=t,this.getData()},changeSort:function(t){"descending"===t.order?(this.orderby=t.prop,this.sort="desc"):(this.orderby=t.prop,this.sort="asc"),this.getData()},changeStatus:function(t){this.selectStatus=t,this.getData()},showDialog:function(t){this.editNoteForm.id=t.id,this.editNoteForm.remark=t.notes,this.editNoteDialogVisible=!0},editNote:o.debounce(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["a"])(this.editNoteForm);case 2:if(a=t.sent,s=a.data,200===s.status){t.next=7;break}return this.$message({type:"error",message:s.msg,center:!0}),t.abrupt("return",!1);case 7:this.$message({type:"success",message:s.msg,center:!0}),this.editNoteDialogVisible=!1,this.getData();case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),2e3),cancelNotes:function(){this.$refs.editNoteFormRef.resetFields(),this.editNoteDialogVisible=!1},handleCommand:function(t){this.goToView(t)},tableSelectionChange:function(t){this.tableMul=t},goToMulBilling:o.throttle((function(){if(0===this.tableMul.length)return this.$message.warning(this.$t("standaloneServer.notSelectServer")),this.$refs.serverTableRef.clearSelection(),!1;var t=this.tableMul.filter((function(t){return("Active"===t.domainstatus||"Suspended"===t.domainstatus)&&"free"!==t.billingcycle&&"onetime"!==t.billingcycle})),e=[];if(t.forEach((function(t){e.push(t.id)})),this.idMul=e,0===this.idMul.length)return this.$message.error(this.$t("standaloneServer.selectErrorServer")),this.$refs.serverTableRef.clearSelection(),!1;sessionStorage.setItem("multipleType","other"),this.$router.push({name:"StandaloneServerMBilling",query:{ids:this.idMul}})}),1e3),goToView:function(t){"dcimcloud"===t.product_type||"cloud"===t.product_type?this.$router.push({name:"CloudServerInfo",query:{id:t.id,groupid:this.groupid}}):"dcim"===t.product_type||"server"===t.product_type?"Active"===t.domainstatus&&"on"===t.auth.traffic?this.$router.push({path:"/server/detail",query:{id:t.id,groupid:this.groupid}}):"Active"===t.domainstatus&&"off"===t.auth.traffic?this.$router.push({path:"/server/control",query:{id:t.id,groupid:this.groupid}}):"Active"!==t.domainstatus||t.auth?"Suspended"===t.domainstatus||"Pending"===t.domainstatus?this.$router.push({path:"/server/billing",query:{id:t.id,groupid:this.groupid}}):"Deleted"===t.domainstatus||"Cancelled"===t.domainstatus?this.$router.push({path:"/server/log",query:{id:t.id,groupid:this.groupid}}):this.$router.push({path:"/server/billing",query:{id:t.id,groupid:this.groupid}}):this.$router.push({path:"/server/billing",query:{id:t.id,groupid:this.groupid}}):"type_zjmf"===t.product_type?this.$router.push({path:"/authorize",query:{id:t.id,groupid:this.groupid}}):this.$router.push({path:"/other-server/billing",query:{id:t.id,groupid:this.groupid}})}},created:function(){this.getData()},filters:{statusZh:function(t){return"Active"===t?"已激活":"Cancelled"===t||"Deleted"===t?"被取消":"Fraud"===t?"有欺诈":"Pending"===t?"待审核":"Suspended"===t?"已暂停":void 0},cutFu:function(t){if(t.endsWith("付")){var e=t.substring(0,t.length-1);return e}return t}},watch:{"search.input":{handler:function(){var t=this;this.search.timer&&clearTimeout(this.search.timer),this.search.timer=setTimeout((function(){t.getData()}),200)},deep:!0},$route:function(t){this.groupid=t.query.groupid,this.getData()}}},l=c,u=(a("5f9d"),a("2877")),d=Object(u["a"])(l,s,r,!1,null,"27fb50b7",null);e["default"]=d.exports},d700:function(t,e,a){},dc9d:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standaloneserver_control_box"},[1===t.allowProduct?a("div",{staticClass:"standaloneserver_control_item"},[a("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.upDown")))]),a("div",{staticClass:"standaloneserver_control_item_msg"},[a("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.upDownMsg")))])]),a("div",{staticClass:"standaloneserver_control_item_btn"},[a("el-button",{attrs:{plain:""},on:{click:t.upgradeProductHandleClick}},[t._v(t._s(t.$t("standaloneServer.upDown")))])],1)]):t._e(),1===t.allowConfig?a("div",{staticClass:"standaloneserver_control_item"},[a("div",{staticClass:"standaloneserver_control_item_title"},[t._v(t._s(t.$t("standaloneServer.upDownOptions")))]),a("div",{staticClass:"standaloneserver_control_item_msg"},[a("div",{staticClass:"msg"},[t._v(t._s(t.$t("standaloneServer.upDownOptionsMsg")))])]),a("div",{staticClass:"standaloneserver_control_item_btn"},[a("el-button",{attrs:{plain:""},on:{click:t.upgradeConfigHandleClick}},[t._v(t._s(t.$t("standaloneServer.upDownOptions")))])],1)]):t._e()])},r=[],n=(a("a9e3"),{data:function(){return{}},props:{id:{type:Number,default:0},groupid:{type:Number,default:0},allowProduct:{type:Number,default:0},allowConfig:{type:Number,default:0}},methods:{upgradeProductHandleClick:function(){this.$router.push({path:"product",query:{id:this.id,groupid:this.groupid}})},upgradeConfigHandleClick:function(){this.$router.push({path:"config",query:{id:this.id,groupid:this.groupid}})}},created:function(){}}),i=n,o=(a("c112"),a("2877")),c=Object(o["a"])(i,s,r,!1,null,"7b680e0a",null);e["default"]=c.exports},e6f8:function(t,e,a){},e738:function(t,e,a){},e8c7:function(t,e,a){"use strict";var s=a("47d5"),r=a.n(s);r.a},ec1c:function(t,e,a){},ef39:function(t,e,a){},eff3:function(t,e,a){"use strict";var s=a("ef39"),r=a.n(s);r.a},fcb3:function(t,e,a){"use strict";var s=a("e738"),r=a.n(s);r.a}}]);